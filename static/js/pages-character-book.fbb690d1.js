(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-character-book"],{"00d0":function(t,e,a){"use strict";var r=a("4ea4");a("99af"),a("caad"),a("4e82"),a("2532"),Object.defineProperty(e,"__esModule",{value:!0}),e.maximize=u;var i=r(a("b85c")),n=r(a("5530"));function o(t,e,a){for(var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i={},o=0,s=["cr","cd","atk","em","hp","def","er"],c={},l=0,u=0,d=s.length-1;d>=0;--d)c[s[d]]=[l,u],l+=a[s[d]][0],u+=a[s[d]][1];function f(e,l){var u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,d=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,v=s[u];if(u==s.length-1){if(l+d>41)return;e[v]=l;var h=t(e);h>o&&(o=h,i=(0,n.default)({},e))}else for(var p=Math.max(a[v][0],l-c[v][1]),g=Math.min(a[v][1],l-c[v][0],41-d),b=p;b<=g;b+=r)e[v]=b,f(e,l-b,u+1,Math.max(d,b))}return e=Math.floor(e),f({},e),{statBest:i,dmgBest:o}}function s(t,e,a){var r=o(t,e,a,2),i=r.statBest,n=(r.dmgBest,{});for(var s in a)n[s]=[a[s][0],a[s][1]],s in i&&(n[s][0]=Math.max(n[s][0],i[s]-3),n[s][1]=Math.min(n[s][1],i[s]+3));return o(t,e,n)}function c(t,e,a){var r=.1,i=2e3,n=1e-5,o=1e-5,s=1,c=2,l=-.5,u=.5;function d(e){var r=[];for(var i in e){if(i in a&&(e[i]<a[i][0]||e[i]>a[i][1]))return 0;e[i]>0&&r.push(e[i])}return r.sort((function(t,e){return e-t})),r.length>=2&&r[0]+r[1]>41?0:t(e)}var f=0,v=[],h=0,p=0,g=[];for(var b in a)if(h+=a[b][0],a[b][0]<a[b][1]){f++,v.push(b);var x=Math.random();p+=x*(a[b][1]-a[b][0]),g.push(x)}for(var m=[],_=0;_<v.length;++_){var S=v[_],w=(e-h)/(p+r*g[_]*(a[S][1]-a[S][0])),y={};for(var T in a)y[T]=a[T][0];for(var N=0;N<v.length;++N){var M=v[N],C=a[M][1]-a[M][0];y[M]+=w*g[N]*C,M==S&&(y[M]+=r*w*g[N]*C)}m.push({stat:y,dmg:d(y)})}function k(){m.sort((function(t,e){return e.dmg-t.dmg}))}function D(t,e,r,i){var n={stat:{},dmg:0};for(var o in a)n.stat[o]=t*e.stat[o]+r*i.stat[o];return n.dmg=d(n.stat),n}for(var E=0;E<i;++E){k();var A=0;for(var R in a)A=Math.max(A,Math.abs(m[0].stat[R]-m[1].stat[R]));if(Math.abs(m[0].dmg-m[f-1].dmg)<o&&A<n)break;var O={stat:{},dmg:0};for(var I in a){O.stat[I]=0;for(var P=0;P<f-1;++P)O.stat[I]+=m[P].stat[I];O.stat[I]/=f-1}var B=m[f-1],J=D(1+s,O,-s,B);if(J.dmg>m[0].dmg){var F=D(1+c,O,-c,B);F.dmg>J.dmg?m[f-1]=F:m[f-1]=J}else if(J.dmg<=m[f-1].dmg){var L=!1;if(J.dmg<B.dmg){var j=D(1+l,O,-l,B);j.dmg>B.dmg?m[f-1]=j:L=!0}else{var H=D(1-l*s,O,l*s,B);H.dmg>J.dmg?m[f-1]=H:L=!0}if(L){if(u>=1)break;for(var U=1;U<f;++U)m[U]=D(1-u,m[0],u,m[U])}}else m[f-1]=J}return k(),{statBest:m[0].stat,dmgBest:m[0].dmg}}function l(t,e,a){for(var r=5,i=c(t,e,a),n=i.statBest,s=i.dmgBest,l=1;l<r;++l){var u=c(t,e,a);u.dmgBest>s&&(n=u.statBest,s=u.dmgBest)}var d={};for(var f in a)d[f]=[a[f][0],a[f][1]],f in n&&(d[f][0]=Math.max(d[f][0],Math.ceil(n[f]-3)),d[f][1]=Math.min(d[f][1],Math.floor(n[f]+3)));return o(t,e,d)}function u(t,e,a,r,n){var u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"Brute",d={atk:[0,37],hp:[0,37],def:[0,37],em:[0,35],er:[0,35],cr:[0,35],cd:[0,35]};if(a){if(a.length>3)throw new Error("主词条列表长度不超过3，得到"+a.length);var f,v=(0,i.default)(a);try{for(v.s();!(f=v.n()).done;){var h=f.value;h in d&&(["atk","hp","def"].includes(h)?d[h][1]-=5:d[h][1]-=7)}}catch(C){v.e(C)}finally{v.f()}}if(n)for(var p in d)if(p in n&&(d[p][0]=Math.max(d[p][0],Math.ceil(n[p][0])),d[p][1]=Math.min(d[p][1],Math.floor(n[p][1])),d[p][0]>d[p][1]))throw new Error("".concat(p,"的实际取值范围无效：[").concat(d[p][0],", ").concat(d[p][1],"]"));if(r)for(var g in d)r.includes(g)||(d[g][1]=d[g][0]);var b=[],x=0,m=0;for(var _ in d)d[_][0]<d[_][1]&&b.push(_),x+=d[_][0],m+=d[_][1];if(e<x||e>m)throw new Error("没有可行解，因为".concat(e,"不在[").concat(x,", ").concat(m,"]内"));if(b.length<=1){var S={};for(var w in d)S[w]=Math.min(e-x+d[w][0],d[w][1]);return{statBest:S,dmgBest:t(S)}}if(e==x){var y={};for(var T in d)y[T]=d[T][0];return{statBest:y,dmgBest:t(y)}}if(e==m){var N={};for(var M in d)N[M]=d[M][1];return{statBest:N,dmgBest:t(N)}}switch(u){case"Brute":return o(t,e,d);case"BruteTwice":return s(t,e,d);case"NelderMead":return c(t,e,d);case"NelderMeadBrute":return l(t,e,d);default:throw new Error("未知的优化方法："+u)}}},"03ea":function(t,e,a){"use strict";var r=a("4ea4");a("c975"),Object.defineProperty(e,"__esModule",{value:!0}),e.getTag=d;var i=r(a("5530")),n=r(a("b85c")),o=a("175e"),s=["生","攻","防","精","暴","爆","充"],c=[["生命沙","攻击沙","防御沙","精通沙","充能沙"],["生命杯","攻击杯","防御杯","精通杯","元素杯","物理杯","火伤杯","冰伤杯","水伤杯","雷伤杯","草伤杯","岩伤杯","风伤杯"],["生命头","攻击头","防御头","精通头","暴击头","爆伤头","治疗头"]],l={fire:6,ice:7,water:8,thunder:9,grass:10,rock:11,wind:12},u={fire:"火伤",water:"水伤",thunder:"雷伤",ice:"冰伤",rock:"岩伤",wind:"风伤",grass:"草伤"};function d(t){var e,a=t.preset,r={},d=[],f=t.preset.tagNum,v=a.cPanel["HP"][0],h=a.cPanel["ATTACK"][0],p=a.cPanel["DEFENSE"][0],g=a.output,b=[],x=[],m=t.calculator.convert;if(t.convertTag=[],m){var _=JSON.parse(JSON.stringify(a));_.aMinor=[0,0,0,0,0,0,0,0],t.convertPresets=[_]}for(var S=0;S<g.length;S++){var w,y="",T=0,N=g[S],M=(0,n.default)(N);try{for(M.s();!(w=M.n()).done;){var C=w.value;if(0==S){var k=0,D="";switch(C){case 0:k=.05*v,D="词条 - 生命（ +5% / "+k.toFixed(0)+" ）";break;case 1:k=.05*h,D="词条 - 攻击（ +5% / "+k.toFixed(0)+" ）";break;case 2:k=.062*p,D="词条 - 防御（ +6.2% / "+k.toFixed(0)+" ）";break;case 3:k=20,D="词条 - 精通（ +20 ）";break;case 4:k=3.3,D="词条 - 暴击（ +3.3% ）";break;case 5:k=6.6,D="词条 - 爆伤（ +6.6% ）";break;case 6:k=5.5,D="词条 - 充能（ +5.5% ）";break;default:break}var E={title:D,note:"",text:0};b.push(E);var A=JSON.parse(JSON.stringify(a));if(A.aMinor[C]+=k,m){var R=m.indexOf(C);if(R>-1){var O=JSON.parse(JSON.stringify(t.convertPresets[0]));O.aMinor[C]+=k,t.convertPresets.push(O),t.convertTag.push(f[C])}}x.push(A)}y+=s[C],T+=f[C]}}catch(Nt){M.e(Nt)}finally{M.f()}var I={title:y,text:T.toFixed(1)};0==S?r=(0,i.default)({},I):d.push(I)}if(a.cLevel<90){var P=JSON.parse(JSON.stringify(a));P.cLevel=90;var B={character:t.character,preset:P,weapon:t.weapon};(0,o.getBaseData)(B),x.push(P),b.push({title:"人物 - 等级（ +"+(90-a.cLevel)+"级 ）",note:"",text:0})}if(a.wLevel<90){var J=JSON.parse(JSON.stringify(a));J.wLevel=90;var F={character:t.character,preset:J,weapon:t.weapon};(0,o.getBaseData)(F),x.push(J),b.push({title:"武器 - 等级（ +"+(90-a.wLevel)+"级 ）",note:"",text:0})}var L=null!==(e=t.calculator.skillKey)&&void 0!==e?e:t.character.skillKey;if(L){var j=[9,9];a.cStage>2&&(j=[12,12],a.cStage<5&&(t.character.isSkillFive?j[0]=9:j[1]=9));var H,U=[{key:"技能 - A（ +1级 ）",index:0,max:9},{key:"技能 - E（ +1级 ）",index:1,max:j[0]},{key:"技能 - Q（ +1级 ）",index:2,max:j[0]}],z=[],$=(0,n.default)(L);try{for($.s();!(H=$.n()).done;){var G=H.value,K=a.cSkills[G],W=U[G];0==G&&K<W.max&&z.push(W),0!=G&&K<W.max&&z.push(W)}}catch(Nt){$.e(Nt)}finally{$.f()}for(var Y=0,q=z;Y<q.length;Y++){var Q=q[Y],V=JSON.parse(JSON.stringify(a));V.cSkills[Q.index]+=1,x.push(V),b.push({title:Q.key,note:"",text:0})}}if(g[0].indexOf(5)>-1||t.calculator.convert){var X=JSON.parse(JSON.stringify(a));if(x.push(X),b.push({title:"其他 - 伤害加成（ +5% ）",note:"",isBonus:!0,text:0}),a.aMajor[1]<6||a.aMajor[1]==l[a.element]){var Z=a.aMajor[1],tt=t.calculator.preset?t.calculator.preset.aMajor:t.character.preset.aMajor,et=["HP","ATTACK","DEFENSE"];if(Z<3){var at=JSON.parse(JSON.stringify(a)),rt="（ 元素杯 ）",it=4;5==tt[1]&&(rt="（ 物理杯 ）",it=5);var nt=.466;2==Z&&(nt=.583),at.aMajor[1]=it,(0,o.getMajorData)(at),at.aMinor[Z]-=nt*at.cPanel[et[Z]][0],x.push(at),b.push({title:"更换 - "+c[1][Z]+rt,note:"",text:0})}else if(3!=Z){var ot=JSON.parse(JSON.stringify(a)),st="更换 - 元素杯";5==Z&&(st="更换 - 物理杯");var ct=.466,lt="（ 攻击杯 ）";Z=1,2==tt[0]?(ct=.583,lt="（ 防御杯 ）",Z=2):0==tt[0]&&(lt="（ 生命杯 ）",Z=0),ot.aMajor[1]=Z,(0,o.getMajorData)(ot),ot.aMinor[Z]+=ct*ot.cPanel[et[Z]][0],x.push(ot),b.push({title:st+lt,note:"",text:0})}}}var ut=[20,20,20,20,20],dt=[];if(a.aConfigs){for(S=0;S<a.aConfigs.length;S++){var ft=a.aConfigs[S];ut[S]=20-ft[1]}ut[0]<20&&dt.push(ut[0]+"花"),ut[1]<20&&dt.push(ut[1]+"羽")}for(S=0;S<3;S++){var vt=a.aMajor[S];if(vt<99){var ht="";ht=1==S&&4==vt?u[a.element]+"杯":c[S][vt],ut[S+2]<20&&(ht=ut[S+2]+ht),dt.push(ht)}else dt.push("无")}var pt=dt.join(" / ");r.content=pt;var gt=[],bt=[],xt=[];t.presets=x;for(S=0;S<s.length;S++){var mt=f[S].toFixed(1),_t=s[S]+mt,St=g[0].indexOf(S);if(St>-1){gt.push(_t);var wt=a.aMinor[S].toFixed(0)+s[S];xt[St]=wt}else bt.push(_t)}var yt={title:"主要词条",text:gt.join(" / ")};d.push(yt);var Tt={title:"其他词条",text:bt.join(" / ")};d.push(Tt),g[0].indexOf(5)>-1?r.note="双爆: "+(2*a.aMinor[4]+a.aMinor[5]).toFixed(1):r.note="",a.tPanel=xt.join(" / "),a.tResult=r,a.tResults=d,t.weights=b}},"0b7e":function(t,e,a){"use strict";(function(t){var r=a("4ea4");a("99af"),a("c975"),a("d81d"),a("fb6a"),a("4e82"),a("a9e3"),Object.defineProperty(e,"__esModule",{value:!0}),e.getBaseScore=f,e.getTagScore=v,e.getDataScore=h,e.getGroupScore=p,e.getWeightScore=g,e.getGWeightScore=b,e.getPanel=x;var i=r(a("b85c")),n=a("149f"),o=a("175e"),s=a("7a53"),c=a("03ea"),l=a("b209"),u=a("e194"),d=a("0d89");function f(e){var a=e.preset,r=e.calculator.preset?e.calculator.preset:e.character.preset;e.oldPreset=r;var i=JSON.parse(JSON.stringify(r)),c=[8,8,8];4==e.character.star?(c=[8,11,11],i.cStage=6):i.cStage=0,i.cSkills=c,i.cLevel=90,i.wLevel=90,i.school=a.school,i.cId=a.cId,i.wType=a.wType,i.element=a.element,i.energy=a.energy,i.cPanel={HP:[0,4780],HP_PERCENT:[0,0],ATTACK:[0,311],ATTACK_PERCENT:[0,0],DEFENSE:[0,0],DEFENSE_PERCENT:[0,0],FIRE_ADD_HURT:[0,0],ICE_ADD_HURT:[0,0],ROCK_ADD_HURT:[0,0],ELEC_ADD_HURT:[0,0],WIND_ADD_HURT:[0,0],WATER_ADD_HURT:[0,0],PHYSICAL_ADD_HURT:[0,0],HEAL_ADD:[0,0],ELEMENT_MASTERY:[0,0],CRITICAL:[0,0],CRITICAL_HURT:[0,0],CHARGE_EFFICIENCY:[0,0]};var l=d.weaponsData[i.wId];if(i.wStage=5==l.star?0:4,i.wIndexs||(i.wIndexs=l.indexs),!i.aIndexs&&!i.aSets){var f=u.artifactsData[i.aIds[0]];f&&(i.aIndexs=f.indexs)}var v={character:e.character,preset:i,weapon:l};(0,o.getMajorData)(i),(0,o.getBaseData)(v),i.aTagToMinor=!0,i.tagNum=JSON.parse(JSON.stringify(a.school.tagNum)),(0,s.convertMinor)(i);var h=(0,n.buildAttribute)(i);h.isBalance=!0,h.onlyScore=!0,e.calculator.get(h),e.baseScore=h.score,t.log("-------------"+e.character.chs+"-------------"),t.log("(1) C期望（默认圣遗物+默认配置）："+h.score)}function v(e){var a=e.preset,r=JSON.parse(JSON.stringify(a));r.aConfigs=null,r.aTagToMinor=!0;var i=JSON.parse(JSON.stringify(r)),u=JSON.parse(JSON.stringify(a.school.tagNum)),d=u.map((function(t){return Math.round(5*t/3)}));i.tagNum=d,r.tagNum=u;var f=JSON.parse(JSON.stringify(r));r.aMajor=e.oldPreset.aMajor,(0,o.getMajorData)(r),(0,s.convertMinor)(r),(0,s.convertMinor)(f),(0,s.convertMinor)(i);var v=(0,n.buildAttribute)(i);v.onlyScore=!0;var h=(0,n.buildAttribute)(f);h.onlyScore=!0;var p=(0,n.buildAttribute)(r);p.onlyScore=!0,a.output[0].indexOf(5)>-1?(p.isBalance=!0,v.isBalance=!0,h.isBalance=!0):(p.isBalance=!1,v.isBalance=!1,h.isBalance=!1);var g=e.dataScore;e.calculator.get(p);var b=p.score;t.log("(4) B期望（默认圣遗物+当前配置）："+b),e.calculator.get(h);var x=h.score;t.log("(5) D期望（默认词条数）："+x),e.calculator.get(v);var m=v.score;t.log("(6) E期望（极限词条数）："+m);var _=(m-x)/50,S=(g-x)/_+100,w=g/x*100,y=g/b*100,T=g/m*100;t.log("新算法1："+w.toFixed(0)),t.log("新算法2："+S.toFixed(0)),a.school.score?a.tProgress=T.toFixed(0):a.tProgress=null,(0,c.getTag)(e);var N=y.toFixed(0),M=(0,l.getColor)(N);a.tResult.score=N,a.tResult.color=M,e.tagScore=b,a.score=e.supportScore?e.supportScore:a.tResult.score+" / "+a.dResult.score}function h(e){var a=e.preset,r=(0,n.buildAttribute)(a);e.attribute=r,r.isData=!0,e.calculator.get(r),a.dResult=r.result,a.dResults=r.results;var o=r.score;t.log("(3) A期望（当前圣遗物+当前配置）："+o),r.reacResult&&a.dResults.push(r.reacResult);var s=e.baseScore,c=(o/s*100).toFixed(0),d=(0,l.getColor)(c);a.dResult.score=c,a.dResult.color=d,e.dataScore=o,a.recharge=r.recharge;var f=e.baseData;r.dBuffs=f.concat(r.dBuffs),a.dBuffs=r.dBuffs,a.effects=r.effects;var v="",h=e.weapon.options;if(h){var p=a.wIndexs;if(p&&p[0]>0){v+="[";for(var g=0;g<p.length;g++){var b=p[g];v+=h[g][b]}v+="]"}}var m,_="",S=" ",w=(0,i.default)(a.cSkills);try{for(w.s();!(m=w.n()).done;){var y=m.value;S+=y+1}}catch(H){w.e(H)}finally{w.f()}var T="",N=u.artifactsData[a.aIds[0]];if(a.aSets){var M=u.artifactsData[a.aIds[1]];T=N.short[0]+M.short[0]+"二"}else{T=N.short+"四";var C=N.options;if(C){var k=a.aIndexs;if(k&&k[0]>0){_+="[";for(g=0;g<k.length;g++){var D=k[g];_+=C[g][D]}_+="]"}}}var E=e.weapon.chs.slice(0,2),A="";a.wLevel&&a.wLevel<90&&(A=a.wLevel,a.wAscend&&(A+="+"));var R=a.cLevel;a.cAscend?R+="+":R+="级";var O=R+" / "+a.cStage+"命 / 技能"+S,I=A+E+(a.wStage+1)+" / "+T;if(a.cNote=O,a.eNote=I,a.wNote=v,a.aNote=_,a.note=I+_+" / "+R+a.cStage+" /"+S,a.reactionText=r.reactionText?r.reactionText+" ":"",a.cData={em:r.em},e.preset.school.score||(e.supportScore=r.supportScore),r.isBalance)a.aMinor[4]+=r.resetCD.diffC,a.aMinor[5]+=r.resetCD.diffD,a.tagNum[4]=(a.aMinor[4]-100*a.cPanel["CRITICAL"][1])/3.3,a.tagNum[5]=(a.aMinor[5]-100*a.cPanel["CRITICAL_HURT"][1])/6.6,a.isAdapt=!1;else{var P=0;if(a.output[0].indexOf(5)>-1){var B=100*r.critical,J=100*r.criticalDamage;if(B<100)if(B*J<2e4){var F=Math.sqrt(8*B*J);P=(2*B+J-F)/6.6}else P=(2*B+J-200-B*J/100)/6.6;else if(J>200)P=(B-100)/3.3;else{var L=Math.sqrt(800*J);P=(2*B+J-L)/6.6}a.tLost=P.toFixed(1)}else a.tLost=null}var j=x(e);a.dPanel=j}function p(e){var a=e.preset;if(a.gIds&&a.gIds[1]){var r=(0,n.buildGroupAttribute)(a);e.attribute=r,e.calculator.get(r),a.gResult=r.result,a.gResults=r.results;var i=a.gResult.text;t.log("(2) E期望（+队伍增益）："+r.score),r.reacResult&&a.gResults.push(r.reacResult);var o=x(e);a.gPanel=o,a.gBuffs=r.gBuffs;var s=e.baseScore,c=(i/s*100).toFixed(0);a.gResult.score=c,a.gResult.color=(0,l.getColor)(c),a.groupScore=i}else a.gResult=null,a.gResults=null,a.gWeights=null,a.groupScore=null}function g(t){for(var e=t.preset,a=JSON.parse(JSON.stringify(t.weights)),r=[],i=0;i<a.length;i++){var o=a[i],s=t.presets[i],c=(0,n.buildAttribute)(s);c.onlyScore=!0,o.isBonus&&(c.bonus+=.05),t.calculator.get(c);var l=100*(c.score/t.dataScore-1);l>.05&&(o.text=l.toFixed(2),r.push(o))}if(t.calculator.convert){var u=Number(t.preset.tResult.text),d=(0,n.buildAttribute)(t.convertPresets[0]);d.onlyScore=!0,t.calculator.get(d);var f=d.score,v=(0,n.buildAttribute)(t.convertPresets[1]);v.onlyScore=!0,t.calculator.get(v);var h=v.score,p=(0,n.buildAttribute)(t.convertPresets[2]);p.onlyScore=!0,t.calculator.get(p);var g=p.score,b=100*(h/f-1),x=100*(g/f-1),m=[b,x],_=0,S=1;b>x&&(_=1,S=0);var w=t.convertTag[_]*(m[_]/m[S]-1),y=u+w;"shanhugongxinhai"!=t.preset.cId?t.preset.tResult.note+=" | ":t.preset.tResult.note="",t.preset.tResult.note+="词条："+t.preset.tResult.text,t.preset.tResult.text=y.toFixed(1),t.preset.tResult.rightText="折算 "+y.toFixed(1)}else t.preset.tResult.rightText="词条 "+t.preset.tResult.text;r.sort((function(t,e){return e.text-t.text})),e.weights=r}function b(t){for(var e=t.preset,a=JSON.parse(JSON.stringify(t.weights)),r=[],i=0;i<a.length;i++){var o=a[i],s=t.presets[i],c=(0,n.buildGroupAttribute)(s);c.onlyScore=!0,o.isBonus&&(c.bonus+=.05),t.calculator.get(c);var l=100*(c.score/t.preset.groupScore-1);l>.05&&(o.text=l.toFixed(2),r.push(o))}r.sort((function(t,e){return e.text-t.text})),e.gWeights=r}function x(t){var e,a=t.attribute,r=t.preset.output,n=[],o=(0,i.default)(r[0]);try{for(o.s();!(e=o.n()).done;){var s=e.value;if(6==s)break;var c=0,l="";switch(s){case 0:c=a.life().toFixed(0),l="生";break;case 1:c=a.atk().toFixed(0),l="攻";break;case 2:c=a.defend().toFixed(0),l="防";break;case 3:c=(100*a.em).toFixed(0),l="精";break;case 4:c=(100*a.critical).toFixed(0),l="暴";break;case 5:c=(100*a.criticalDamage).toFixed(0),l="爆";break;default:break}n.push(c+l)}}catch(f){o.e(f)}finally{o.f()}a.recharge>1&&n.push((100*a.recharge).toFixed(0)+"充");var u=n.join(" / "),d=u;return d}}).call(this,a("5a52")["default"])},"190b":function(t,e,a){"use strict";a("a9e3"),a("2ca0"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r={name:"uniLink",props:{href:{type:String,default:""},text:{type:String,default:""},download:{type:String,default:""},showUnderLine:{type:[Boolean,String],default:!0},copyTips:{type:String,default:"已自动复制网址，请在手机浏览器里粘贴该网址"},color:{type:String,default:"#999999"},fontSize:{type:[Number,String],default:14}},computed:{isShowA:function(){return this._isH5=!0,!(!this.isMail()&&!this.isTel()||!0!==this._isH5)}},created:function(){this._isH5=null},methods:{isMail:function(){return this.href.startsWith("mailto:")},isTel:function(){return this.href.startsWith("tel:")},openURL:function(){window.open(this.href)},makePhoneCall:function(t){uni.makePhoneCall({phoneNumber:t})}}};e.default=r},"1dfd":function(t,e,a){var r=a("24fb");e=r(!1),e.push([t.i,".content[data-v-d83b913c]{\n\t\t/* height: 50px; */width:100%;max-width:500px;position:relative;display:block;margin-left:auto;margin-right:auto;box-sizing:border-box;font-size:18px;text-align:center;text-decoration:none;line-height:3;color:#fff\n\t\t/* background-color: #ad9388; */}.bottom-view[data-v-d83b913c]{\n\t\t/* background-color: #ad9388; */height:calc(env(safe-area-inset-bottom)/2)}\n\n\t/* \t.height-set {\n\n\t\theight: 100px;\n\t} */.button-bottom-view[data-v-d83b913c]{\n\t\t/* background-color: #ad9388; */display:flex;flex-direction:column;position:fixed;left:0;right:0;\nleft:var(--window-left);right:var(--window-right);\nbottom:0;z-index:998}",""]),t.exports=e},"24db":function(t,e,a){"use strict";a.r(e);var r=a("190b"),i=a.n(r);for(var n in r)"default"!==n&&function(t){a.d(e,t,(function(){return r[t]}))}(n);e["default"]=i.a},"32d0":function(t,e,a){var r=a("58dd");r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);var i=a("4f06").default;i("385a23db",r,!0,{sourceMap:!1,shadowMode:!1})},3621:function(t,e,a){"use strict";a.r(e);var r=a("6689"),i=a.n(r);for(var n in r)"default"!==n&&function(t){a.d(e,t,(function(){return r[t]}))}(n);e["default"]=i.a},"3d37":function(t,e,a){"use strict";a.r(e);var r=a("444b"),i=a.n(r);for(var n in r)"default"!==n&&function(t){a.d(e,t,(function(){return r[t]}))}(n);e["default"]=i.a},"444b":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r={props:{text:{type:String,default:"保存"},color:{type:String,default:"#ad9388"}},data:function(){return{}},methods:{onClick:function(){this.$emit("click",{data:{}})}}};e.default=r},"58dd":function(t,e,a){var r=a("24fb");e=r(!1),e.push([t.i,"\n.uni-link[data-v-03b6d5de]{cursor:pointer}\n.uni-link--withline[data-v-03b6d5de]{text-decoration:underline}",""]),t.exports=e},6646:function(t,e,a){"use strict";var r=a("8580"),i=a.n(r);i.a},6689:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r={name:"UniSection",emits:["click"],props:{showArrow:{type:[Boolean,String],default:!1},rightText:{type:[String,Object],default:""},type:{type:String,default:""},title:{type:String,default:""},color:{type:String,default:"#f6f2ee"},subTitle:{type:String,default:""},padding:{type:Boolean,default:!1}},data:function(){return{}},watch:{title:function(t){uni.report&&""!==t&&uni.report("title",t)}},methods:{onClick:function(){this.$emit("click")}}};e.default=r},"748d":function(t,e,a){"use strict";var r;a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){return r}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",[a("v-uni-view",{staticStyle:{height:"100px"}}),a("v-uni-view",{staticClass:"button-bottom-view",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.onClick.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"content",style:{backgroundColor:t.color}},[t._v(t._s(t.text))]),a("v-uni-view",{staticClass:"bottom-view",style:{backgroundColor:t.color}})],1)],1)},n=[]},7558:function(t,e,a){"use strict";a.r(e);var r=a("915e"),i=a("b2cc");for(var n in i)"default"!==n&&function(t){a.d(e,t,(function(){return i[t]}))}(n);a("6646");var o,s=a("f0c5"),c=Object(s["a"])(i["default"],r["b"],r["c"],!1,null,"90a3bf80",null,!1,r["a"],o);e["default"]=c.exports},"7aec":function(t,e,a){"use strict";var r=a("f86f"),i=a.n(r);i.a},8580:function(t,e,a){var r=a("e3cd");r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);var i=a("4f06").default;i("3e034d30",r,!0,{sourceMap:!1,shadowMode:!1})},"89d3":function(t,e,a){"use strict";a.r(e);var r=a("971c"),i=a("3621");for(var n in i)"default"!==n&&function(t){a.d(e,t,(function(){return i[t]}))}(n);a("7aec");var o,s=a("f0c5"),c=Object(s["a"])(i["default"],r["b"],r["c"],!1,null,"c5b075ba",null,!1,r["a"],o);e["default"]=c.exports},"915e":function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){return r}));var r={uniSection:a("89d3").default,uniListItem:a("6e18").default,uniLink:a("bfb4").default,buttonBarBottom:a("e265").default},i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",[a("uni-section",{attrs:{title:"选择流派",type:"line"}}),a("v-uni-radio-group",[a("v-uni-view",{staticClass:"uni-list"},t._l(t.schoolArr,(function(e,r){return a("uni-list-item",{key:e.name,attrs:{title:e.name,clickable:!0},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.selectSchoolIndex(r)}},scopedSlots:t._u([{key:"footer",fn:function(){return[a("v-uni-radio",{attrs:{color:"#ad9388",checked:r==t.schoolIndex}})]},proxy:!0}],null,!0)})})),1)],1),t.info.major?a("v-uni-view",[a("uni-section",{attrs:{type:"line",title:"流派说明"}}),t.info.notes?a("v-uni-view",t._l(t.info.notes,(function(t,e){return a("uni-list-item",{key:e,staticClass:"item-space",attrs:{title:t}})})),1):t._e(),a("uni-list-item",{attrs:{title:"主词条",rightText:t.info.major}}),a("uni-list-item",{attrs:{title:"副词条",rightText:t.minorText+t.info.minor}}),a("v-uni-view",{on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.notice.apply(void 0,arguments)}}},[a("uni-section",{attrs:{title:"圣遗物推荐",type:"line"}},t._l(t.info.artifacts,(function(e,r){return t.artifactsData[e]?a("uni-list-item",{key:r,attrs:{title:t.artifactsData[e].chs,clickable:!0,thumb:t.artifactsData[e].url,"thumb-size":"lg",note:t.character.aNotes?t.character.aNotes[e]:""}}):t._e()})),1),a("uni-section",{attrs:{title:"武器推荐",type:"line"}},t._l(t.info.weapons,(function(e,r){return t.weaponsData[e]?a("uni-list-item",{key:r,attrs:{title:t.weaponsData[e].chs,clickable:!0,thumb:t.weaponsData[e].url,"thumb-size":"lg",note:t.character.wNotes?t.character.wNotes[e]:""}}):t._e()})),1)],1),a("uni-section",{attrs:{title:"队伍推荐",type:"line"}}),a("uni-list-item",{staticClass:"item-space",attrs:{title:"该流派的常见配队正在更新中..."}}),a("uni-section",{attrs:{title:"其他说明",type:"line"}}),a("uni-list-item",{staticClass:"item-space",attrs:{title:"1、相关内容还在完善中.."}}),a("uni-list-item",{staticClass:"item-space",attrs:{title:"2、角色圣遗物和武器推荐来自 NGA@一只不知名的菜鸡"},scopedSlots:t._u([{key:"footer",fn:function(){return[a("uni-link",{staticStyle:{color:"#007AFF"},attrs:{href:"https://nga.178.com/read.php?tid=27859119",text:"原帖地址"}})]},proxy:!0}],null,!1,3818278198)})],1):a("v-uni-view",[a("uni-section",{attrs:{title:"其他说明",type:"line"}}),a("uni-list-item",{staticClass:"item-space",attrs:{title:"该角色的流派的武器/圣遗物推荐等相关内容正在更新中..."}})],1),a("button-bar-bottom",{attrs:{text:t.saveText},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.save.apply(void 0,arguments)}}})],1)},n=[]},"949d":function(t,e,a){"use strict";var r;a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){return r}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.isShowA?a("a",{staticClass:"uni-link",class:{"uni-link--withline":!0===t.showUnderLine||"true"===t.showUnderLine},style:{color:t.color,fontSize:t.fontSize+"px"},attrs:{href:t.href,download:t.download}},[t._t("default",[t._v(t._s(t.text))])],2):a("v-uni-text",{staticClass:"uni-link",class:{"uni-link--withline":!0===t.showUnderLine||"true"===t.showUnderLine},style:{color:t.color,fontSize:t.fontSize+"px"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.openURL.apply(void 0,arguments)}}},[t._t("default",[t._v(t._s(t.text))])],2)},n=[]},"96a9":function(t,e,a){"use strict";(function(t){var r=a("4ea4");a("c975"),a("ac1f"),a("5319"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(a("5530")),n=a("fedd"),o=a("26cb"),s=a("0d89"),c=a("e194"),l={data:function(){return{texts:["1、展示柜的属性为只读，只能修改流派，其他属性无法修改，如果需要调整，可以在详情页下方点击【复制配置到本地】，再从首页进入角色修改","2、如果发现数据读取有误，先尝试刷新一下展示柜，还是无法解决大概率是BUG，可以把错误情况进行反馈"],index:0,info:{},saveText:"保存",weaponsData:{},artifactsData:{},school:null,schoolArr:[{score:!0,name:"默认",reaction:0}],schoolIndex:0,margin:"0 14px 20px"}},computed:(0,i.default)((0,i.default)((0,i.default)({},(0,o.mapState)(["preset"])),(0,o.mapGetters)(["character"])),{},{minorText:function(){return this.school&&this.school.reaction>0&&-1==this.info.minor.indexOf("精通")?"精通、":""}}),onLoad:function(e){this.index=e.index,t.log(this.index),this.artifactsData=c.artifactsData,this.weaponsData=s.weaponsData;var a,r=this.character,i=this.preset;(r.schools&&(this.schoolArr=r.schools),99==this.index)?this.saveText="初始化 - "+r.chs:this.schoolIndex=null!==(a=i.school.index)&&void 0!==a?a:0;this.selectSchoolIndex(this.schoolIndex)},methods:{onClickItem:function(t){switch(t.currentIndex){case 1:uni.redirectTo({url:"./equipment?from=detail"});break;case 2:uni.redirectTo({url:"./property?from=detail"});break;case 3:uni.redirectTo({url:"./group"});break;default:break}},notice:function(){uni.showModal({title:"提示",content:"这里只能修改流派，武器/圣遗物可在数据页修改",showCancel:!1,confirmText:"好的"})},save:function(){if(99==this.index){var t=(0,n.initPreset)(this.character,this.school.id);t.school=this.school,(0,n.startCalculate)(t),this.$store.commit("setPreset",t),uni.redirectTo({url:"equipment?from=school"})}else{var e=JSON.parse(JSON.stringify(this.preset)),a=e.school.element;e.school=this.school,a&&(e.element=a),(0,n.startCalculate)(e),this.index<99?(this.$store.commit("changeProfile",{temp:e,index:this.index}),this.$store.commit("setPreset",e)):(this.$store.commit("storePreset",e),this.$store.commit("setPreset",e)),uni.navigateBack({delta:1})}},selectSchoolIndex:function(t){var e,a=null===(e=this.schoolArr[t])||void 0===e?void 0:e.id;this.schoolIndex=t;var r=this.schoolArr[t];r.index=t,this.school=r,this.getInfo(a)},getInfo:function(t){if(t){var e=t.replace("-","");this.character[e]?this.info=this.character[e]:this.info=this.character.default}else this.info=this.character.default}}};e.default=l}).call(this,a("5a52")["default"])},"971c":function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){return r}));var r={uniIcons:a("fcef").default},i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"uni-section",style:{backgroundColor:t.color},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.onClick.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"uni-section-header",attrs:{nvue:!0}},[t.type?a("v-uni-view",{staticClass:"uni-section__head"},[a("v-uni-view",{staticClass:"uni-section__head-tag",class:t.type})],1):t._e(),a("v-uni-view",{staticClass:"uni-list-item__content"},[t.title?a("v-uni-text",{staticClass:"uni-list-item__content-title"},[t._v(t._s(t.title))]):t._e(),t.subTitle?a("v-uni-text",{staticClass:"uni-list-item__content-note"},[t._v(t._s(t.subTitle))]):t._e()],1),a("v-uni-view",{staticClass:"uni-section__content__extra"},[t._t("extra",[t.rightText?a("v-uni-text",{staticClass:"uni-list-item__extra-text"},[t._v(t._s(t.rightText))]):t._e()])],2),t.showArrow?a("uni-icons",{staticClass:"uni-icon-wrapper",attrs:{size:14,type:"arrowright"}}):t._e()],1),a("v-uni-view",{style:{padding:t.padding?"10px":""}},[t._t("default")],2)],1)},n=[]},a1f1:function(t,e,a){"use strict";var r=a("32d0"),i=a.n(r);i.a},aade:function(t,e,a){"use strict";(function(t){var r=a("4ea4");a("a9e3"),Object.defineProperty(e,"__esModule",{value:!0}),e.getBestTag=o;var i=r(a("b85c")),n=a("149f");function o(e){var r,o=e.preset,s=Number(o.adapt.total),c=["hp","atk","def","em","cr","cd","er","cu","eb","eb"],l=["eb"],u=[],d=(0,i.default)(o.output[0]);try{for(d.s();!(r=d.n()).done;){var f=r.value;u.push(c[f])}}catch(T){d.e(T)}finally{d.f()}var v=a("00d0"),h={},p=["BruteTwice","NelderMeadBrute","Brute"],g=o.adapt.method;t.log(o.cPanel);for(var b=0;b<o.adapt.min.length;b++){var x=o.adapt.min[b];x&&x>0&&(h[c[b]]=[x,100])}var m=JSON.parse(JSON.stringify(o));m.aConfigs=null;var _=o.adapt.max?o.adapt.max+24:24;t.log(_);var S=function(t){var a=t.cr+t.cd;if(a>=_)return 0;var r=JSON.parse(JSON.stringify(m)),i=r.cPanel;r.aMinor[0]=(.05*t.hp+i["HP_PERCENT"][1])*i["HP"][0]+i["HP"][1],r.aMinor[1]=(.05*t.atk+i["ATTACK_PERCENT"][1])*i["ATTACK"][0]+i["ATTACK"][1],r.aMinor[2]=(.062*t.def+i["DEFENSE_PERCENT"][1])*i["DEFENSE"][0],r.aMinor[3]=20*t.em+100*i["ELEMENT_MASTERY"][1],r.aMinor[4]=3.3*t.cr+100*i["CRITICAL"][1],r.aMinor[5]=6.6*t.cd+100*i["CRITICAL_HURT"][1],r.aMinor[6]=5.5*t.er+100*i["CHARGE_EFFICIENCY"][1];var s={};return s=g[0]>0&&o.gResult?(0,n.buildGroupAttribute)(r):(0,n.buildAttribute)(r),e.calculator.get(s),Number(s.score)};try{Date.now();var w=v.maximize(S,s,l,u,h,p[g[1]]),y=(Date.now(),w.statBest);e.preset.tagNum=[y.hp,y.atk,y.def,y.em,y.cr,y.cd,y.er],t.log(y)}catch(N){t.error(N)}}}).call(this,a("5a52")["default"])},b209:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getColor=n,e.default=void 0;var r=["rgb(125,127,131)","rgb(108,168,139)","rgb(86,155,175)","rgb(177,135,195)","rgb(211,159,81)"];e.default=r;var i=["rgb(125,127,131)","rgb(108,168,139)","rgb(86,155,175)","rgb(177,135,195)","rgb(211,159,81)"];function n(t){var e=t/25;return e<0&&(e=0),e>4&&(e=4),i[Math.floor(e)]}},b2cc:function(t,e,a){"use strict";a.r(e);var r=a("96a9"),i=a.n(r);for(var n in r)"default"!==n&&function(t){a.d(e,t,(function(){return r[t]}))}(n);e["default"]=i.a},bcee:function(t,e,a){"use strict";var r=a("e52b"),i=a.n(r);i.a},bfb4:function(t,e,a){"use strict";a.r(e);var r=a("949d"),i=a("24db");for(var n in i)"default"!==n&&function(t){a.d(e,t,(function(){return i[t]}))}(n);a("a1f1");var o,s=a("f0c5"),c=Object(s["a"])(i["default"],r["b"],r["c"],!1,null,"03b6d5de",null,!1,r["a"],o);e["default"]=c.exports},e265:function(t,e,a){"use strict";a.r(e);var r=a("748d"),i=a("3d37");for(var n in i)"default"!==n&&function(t){a.d(e,t,(function(){return i[t]}))}(n);a("bcee");var o,s=a("f0c5"),c=Object(s["a"])(i["default"],r["b"],r["c"],!1,null,"d83b913c",null,!1,r["a"],o);e["default"]=c.exports},e3cd:function(t,e,a){var r=a("24fb");e=r(!1),e.push([t.i,".note-text[data-v-90a3bf80]{padding:15px;font-size:14px;color:#666;line-height:22px}",""]),t.exports=e},e52b:function(t,e,a){var r=a("1dfd");r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);var i=a("4f06").default;i("8c48942a",r,!0,{sourceMap:!1,shadowMode:!1})},f15d:function(t,e,a){var r=a("24fb");e=r(!1),e.push([t.i,'@charset "UTF-8";\n/* 水平间距 */\n/* 水平间距 */.bg-y[data-v-c5b075ba]{background-color:#fff}.uni-list-item__content[data-v-c5b075ba]{display:flex;padding-right:8px;flex:1;color:#3b4144;flex-direction:column;justify-content:space-between;overflow:hidden}.uni-list-item__content-title[data-v-c5b075ba]{font-size:14px;color:#3b4144;overflow:hidden}.uni-list-item__content-note[data-v-c5b075ba]{margin-top:%?6?%;color:#999;font-size:12px;overflow:hidden}.uni-section-header[data-v-c5b075ba]{position:relative;display:flex;flex-direction:row;align-items:center;padding:12px 10px;font-weight:400}.uni-section__head[data-v-c5b075ba]{flex-direction:row;justify-content:center;align-items:center;margin-right:10px}.line[data-v-c5b075ba]{height:12px;background-color:#b1968b;border-radius:10px;width:4px}.circle[data-v-c5b075ba]{width:8px;height:8px;border-top-right-radius:50px;border-top-left-radius:50px;border-bottom-left-radius:50px;border-bottom-right-radius:50px;background-color:#b1968b}.uni-section__content[data-v-c5b075ba]{display:flex;flex-direction:column;flex:1;color:#333}.uni-section__content-title[data-v-c5b075ba]{font-size:14px;color:#333;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.distraction[data-v-c5b075ba]{flex-direction:row;align-items:center}.uni-section__content-sub[data-v-c5b075ba]{font-size:12px;color:#999;line-height:16px;margin-top:2px}.uni-section__content__extra[data-v-c5b075ba]{display:flex;flex-direction:row;justify-content:flex-end;align-items:center}.uni-icon-wrapper[data-v-c5b075ba]{display:flex;align-items:center;padding-left:10px;color:#999!important}.uni-list-item__extra-text[data-v-c5b075ba]{font-size:13px;color:#999}',""]),t.exports=e},f86f:function(t,e,a){var r=a("f15d");r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);var i=a("4f06").default;i("6eb03f5a",r,!0,{sourceMap:!1,shadowMode:!1})},fedd:function(t,e,a){"use strict";(function(t){var r=a("4ea4");a("c975"),Object.defineProperty(e,"__esModule",{value:!0}),e.initPreset=h,e.createPreset=p,e.getPreset=g,e.startCalculate=b,e.version=void 0;var i=r(a("5530")),n=a("0b7e"),o=a("175e"),s=a("aade"),c=a("433a"),l=a("7a53"),u=a("e194"),d=a("0d89"),f=a("4432"),v="2022年8月24日 15:37:17";function h(t,e){var a,r=e||t.name;"kong"==r&&(r="traveller");var n=t.element,o=null!==(a=c.characterDamage[r])&&void 0!==a?a:c.characterDamage[t.name];"traveller"==r&&(n=o.element);var s={cId:t.name,element:n,id:Date.now(),name:"默认预设",cSkills:[8,8,8],cLevel:90,wLevel:90,cAscend:!1,wAscend:!1,effects:[],isAdapt:void 0,type:0,reactionText:""};4==t.star&&(s.cSkills=[8,11,11]);var l=d.weaponsData[o.preset.wId];s.wStage=5==l.star?0:4,s.cStage=5==t.star?0:6;var u=(0,i.default)((0,i.default)({},s),o.preset);return u.aTagToMinor=!0,u}function p(t){var e=f.charactersData[t];return h(e)}function g(e){var a=f.charactersData[e],r=uni.getStorageSync(e);return r?(r.version&&v==r.version||(b(r,v),t.log("刷新！！"),uni.setStorageSync(r.cId,r)),r):h(a)}function b(e){var a,r=f.charactersData[e.cId];e.school||(e.school={name:"默认",score:!0,reaction:0});var i=e.school.id;i&&(a=c.characterDamage[i]),a||(a=c.characterDamage[e.cId]);var h=d.weaponsData[e.wId];e.element=a.element?a.element:r.element,e.energy=r.energy,e.wType=h.type,e.wName=h.chs,e.version=v;var p=[];if(p=a.output?JSON.parse(JSON.stringify(a.output)):r.output?JSON.parse(JSON.stringify(r.output)):[[1,4,5]],void 0==e.school.reaction&&r.schools){var g=r.schools[0];g.reaction||(g.reaction=0),e.school=g}if(e.school.reaction>0&&p[0].indexOf(3)<0&&p[0].push(3),"5jueyuan"!=e.aIds[0]||e.aSets||p[0].indexOf(6)<0&&p[0].push(6),!e.school.tagNum){var b=p[0],x=[0,0,0,0,0,0,0],m=b.length;if(m<3)x[b[0]]=9,x[b[1]]=4;else for(var _=0;_<m;_++){var S=b[_];x[S]=4==S||5==S?9:0==_?4:3}e.school.tagNum=x,t.log("初始化默认词条："+x)}if(e.tagNum||1!=e.aTagToMinor||(e.tagNum=JSON.parse(JSON.stringify(e.school.tagNum)),e.isAdapt=!0,e.adapt={type:0,limit:1,method:[0,0,0],total:24,min:[],max:0},t.log("重置当前词条："+e.tagNum)),e.output=p,e.wIndexs||(h.forceOption&&h.forceOption[e.cId]?e.wIndexs=h.forceOption[e.cId]:e.wIndexs=h.indexs),!e.aIndexs&&!e.aSets){var w=u.artifactsData[e.aIds[0]];w.forceOption&&w.forceOption[e.cId]?e.aIndexs=w.forceOption[e.cId]:e.aIndexs=w.indexs}e.cPanel||(e.cPanel={HP:[0,0],HP_PERCENT:[0,0],ATTACK:[0,0],ATTACK_PERCENT:[0,0],DEFENSE:[0,0],DEFENSE_PERCENT:[0,0],FIRE_ADD_HURT:[0,0],ICE_ADD_HURT:[0,0],ROCK_ADD_HURT:[0,0],ELEC_ADD_HURT:[0,0],WIND_ADD_HURT:[0,0],WATER_ADD_HURT:[0,0],GRASS_ADD_HURT:[0,0],PHYSICAL_ADD_HURT:[0,0],HEAL_ADD:[0,0],ELEMENT_MASTERY:[0,0],CRITICAL:[0,0],CRITICAL_HURT:[0,0],CHARGE_EFFICIENCY:[0,0]}),e.uid||(0,o.getMajorData)(e);var y={character:r,preset:e,calculator:a,weapon:h};(0,o.getBaseData)(y),e.isAdapt&&0!=e.adapt.type&&((0,s.getBestTag)(y),t.log("自动计算最优")),(0,l.convertMinor)(e),(0,n.getBaseScore)(y),(0,n.getGroupScore)(y),(0,n.getDataScore)(y),(0,n.getTagScore)(y),(0,n.getWeightScore)(y),(0,n.getGWeightScore)(y)}e.version=v}).call(this,a("5a52")["default"])}}]);