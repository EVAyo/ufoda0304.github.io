(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["package-pages-character-book-custom"],{"0a6d":function(t,e,o){"use strict";o("7a82");var i=o("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,o("e9c4"),o("14d9");var n=i(o("b85c")),s=(i(o("9ee3")),i(o("2f12"))),a={data:function(){return{note:"直伤",m:{},index:{},isAdd:!1,boomCount:0,items:[]}},onUnload:function(){},onLoad:function(){this.m=s.default,this.m.school.reaction>0&&(this.note+="/ 增幅"),this.note+="次数",s.default.boom&&!this.m.school.custom.boom&&(this.m.school.custom.boom=[s.default.boom.boom,0]);var t=this.m.school.custom.items;if(t[0]&&t[0].counts){var e,o=(0,n.default)(t);try{for(o.s();!(e=o.n()).done;){var i=e.value;this.m.all[i.key][4]=!0}}catch(a){o.e(a)}finally{o.f()}}else t=[];this.items=JSON.parse(JSON.stringify(t))},methods:{getNote:function(t){var e=t.key;return e.toUpperCase()+" | "+this.note},addOption:function(t){var e={key:t,counts:[1,0],note:"1次"};this.items.push(e),this.m.all[t][4]=!0},getOption:function(t){uni.navigateTo({url:"./option?key="+t})},goOption:function(t){uni.navigateTo({url:"./option?index="+t})},save:function(){var t,e="",o=0,i=[],s=(0,n.default)(this.items);try{for(s.s();!(t=s.n()).done;){var a=t.value,l=a.key;a.counts[0]+a.counts[1]>0&&(e&&(e+=" +"),e+=l.toUpperCase()+"(",o+=1,e+=a.counts[0],this.m.school.reaction>0&&a.counts[1]>0&&(o+=1,e+="/"+a.counts[1]),e+=") ",i.push(a))}}catch(c){s.e(c)}finally{s.f()}if(this.m.school.custom.boom[1]&&(e+=" +"+this.m.school.custom.boom[1]+this.m.boom.short),o>0){var u=["","蒸发","融化","超激化","蔓激化"][this.m.school.reaction];u&&(e=u+" | "+e),this.m.school.custom.note=e,this.m.school.custom.open=!0,this.m.school.core=null,this.m.school.custom.items=i}else this.m.school.custom.open=!1,this.m.school.custom.note="未设置...",this.m.school.core=this.m.selected[0];uni.navigateBack({delta:2})}}};e.default=a},"2f12":function(t,e,o){"use strict";o("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,o("a434"),o("3c65"),o("14d9"),o("99af");var i={school:{},cId:"",selected:[],all:null,init:function(t,e){var o,i={},l={e:e[1],q:e[2]},c=t.mults,r=null!==(o=t.countTexts)&&void 0!==o?o:{};for(var f in t.items){var d,m,v,h,p=t.items[f];p.base=null!==(d=p.base)&&void 0!==d?d:["atk"],1==p.base.length&&p.base.push(f);var b,y=p.title,k=null!==(m=p.key)&&void 0!==m?m:f[0];if(!y)y=null!==(b=t.titles[k])&&void 0!==b?b:t.titles.a;var x,g,O=k.toUpperCase()+" ";if(y=O+y+"（",p.stage)y+=p.stage+"命"+(null!==(x=p.text)&&void 0!==x?x:"");else y+=null!==(g=p.text)&&void 0!==g?g:"技能";y+="）";var w="";2==p.type?(y+="护盾",w=y):1==p.type?(y+="治疗",w=y):(w=y,y+="暴击",w+="期望");var S=null!==(v=p.itemNote)&&void 0!==v?v:"";if(""==S){var _,N=null!==(_=l[k])&&void 0!==_?_:e[0];S+=s(c,p.base,N,p.type),p.plus&&(S+=" + "+s(c,p.plus,N)),p.countText&&(y+=" x "+p.countText),r[f]&&(y+=" x "+r[f])}var J=null!==(h=p.type)&&void 0!==h?h:0;i[f]=[y,S,w,J,!1]}for(var T=0;T<t.counts.length;T++)for(var B=t.counts[T],C=0==T?"a":"b",I=0;I<B;I++){var U=I+1,$=C+U,j=c[$];if(j&&!i[$]){var L=C.toLocaleUpperCase(),K="".concat(L," ").concat(t.titles.a,"（");K+="b"==C?c["aim"]?"蓄力":"重击":"".concat($[1],"段"),K+="）";var E=j[[e[0]]],M=u(E);r[$]&&(M+=" x "+r[$]),i[$]=n(K,M)}}if(c.b11){var P="B ".concat(t.titles.a,"（重击x2）"),q=c["b11"][e[0]],A=u(q),z=c["b12"][e[0]];A+=" + "+u(z),i["b11"]=n(P,A)}if(c.b9){var D="B ".concat(t.titles.a,"（终结）"),F=c["b9"][e[0]],R=u(F);i["b9"]=n(D,R)}if(c.air1)for(T=1;T<4;T++){var G="air"+T,H="AIR ".concat(t.titles.a,"（");H+=a[T-1],H+="）";var Q=c[G][e[0]],V=u(Q);i[G]=n(H,V)}if(c.aim){var W="B ".concat(t.titles.a,"（瞄准）"),X=c["aim"][e[0]],Y=u(X);i["aim"]=n(W,Y)}this.all=i},addItem:function(t){this.selected.push(t)},delItem:function(t){this.selected.splice(t,1)},moveDown:function(t){if(t<this.selected.length-1){var e=this.selected.splice(t,1)[0];this.selected.splice(t+1,0,e)}},moveUp:function(t){if(t>0){var e=this.selected.splice(t,1)[0];this.selected.splice(t-1,0,e)}},moveTop:function(t){if(t>0){var e=this.selected.splice(t,1)[0];this.selected.unshift(e)}}};function n(t,e){return[t+"暴击",e,t+"期望",0,!1]}function s(t,e,o,i){var n=e[1],s=e[0];if("string"==typeof n){var a=l(t,n,o),c=u(a,s),r=e[2];if(r){var f=l(t,r,o);if(i)c+=" + "+f;else{var d=e[3];d?c+=" + "+u(f*d,s):c=u(a*f,s)}}return c}return u(n,s)}e.default=i;var a=["下坠","低空","高空"];function l(t,e,o){if("string"==typeof e){var i=t[e];return i?i[o]:"错误！"}return e}function u(t,e){if(!t)return"";var o="";o+=(100*t).toFixed(1)+"%";var i="攻击";return e&&(i={atk:"攻击",life:"生命",em:"精通",def:"防御"}[e]),o+=i,o}},4518:function(t,e,o){"use strict";o.d(e,"b",(function(){return n})),o.d(e,"c",(function(){return s})),o.d(e,"a",(function(){return i}));var i={uniSection:o("89d3").default,uniListItem:o("6e18").default,uniNumberBox:o("7ec4").default,uniList:o("add1").default,uniIcons:o("fcef").default,buttonBarBottom:o("e265").default},n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-uni-view",[o("uni-section",{attrs:{title:"已设置",type:"line","right-text":t.note}}),t.m.school.custom.boom?o("uni-list-item",{attrs:{title:t.m.boom.title},scopedSlots:t._u([{key:"footer",fn:function(){return[o("uni-number-box",{attrs:{min:0,step:1,max:99},model:{value:t.m.school.custom.boom[1],callback:function(e){t.$set(t.m.school.custom.boom,1,e)},expression:"m.school.custom.boom[1]"}})]},proxy:!0}],null,!1,2541530596)}):t._e(),t.items[0]?t._e():o("v-uni-view",[o("uni-list-item",{attrs:{title:"没有技能",note:"从下面的列表选择"}})],1),t._l(t.items,(function(e,i){return o("v-uni-view",{key:i},[o("uni-list-item",{attrs:{title:t.m.all[e.key][2]},scopedSlots:t._u([{key:"footer",fn:function(){return[o("v-uni-view",{staticStyle:{display:"flex","flex-direction":"column"}},[o("uni-number-box",{attrs:{min:0,step:1,max:99},model:{value:e.counts[0],callback:function(o){t.$set(e.counts,0,o)},expression:"item.counts[0]"}}),t.m.school.reaction>0?o("uni-number-box",{staticStyle:{"margin-top":"10px"},attrs:{min:0,step:1,max:99},model:{value:e.counts[1],callback:function(o){t.$set(e.counts,1,o)},expression:"item.counts[1]"}}):t._e()],1)]},proxy:!0}],null,!0)})],1)})),o("uni-section",{attrs:{title:"可选技能",type:"line"}}),o("uni-list",t._l(t.m.all,(function(e,i){return o("uni-list-item",{directives:[{name:"show",rawName:"v-show",value:!e[4]&&0==e[3],expression:"!t1[4] && t1[3]==0"}],key:i,attrs:{title:e[2],note:e[1],clickable:!0},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.addOption(i)}},scopedSlots:t._u([{key:"footer",fn:function(){return[o("v-uni-button",{staticClass:"uni-group-item",attrs:{size:"mini"}},[o("uni-icons",{attrs:{type:"plusempty"}})],1)]},proxy:!0}],null,!0)})})),1),o("button-bar-bottom",{on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.save.apply(void 0,arguments)}}})],2)},s=[]},"9ee3":function(t,e,o){"use strict";o("7a82");var i=o("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,o){var i,a;if(!t.skills)return;var l=uni.getStorageSync("favObj"),u=null!==(i=l[t.name].selected)&&void 0!==i?i:JSON.parse(JSON.stringify(t.skills.selected));if(o.school&&o.school.core){var c=u.indexOf(o.school.core);c>-1&&u.splice(c,1),u.unshift(o.school.core)}var r=e.cdKeys?JSON.parse(JSON.stringify(e.cdKeys)):[];if(o.school.custom&&o.school.custom.open){var f,d=(0,n.default)(o.school.custom.items);try{for(d.s();!(f=d.n()).done;){var m=f.value,v=r.indexOf(m.key);-1==v&&r.push(m.key)}}catch(C){d.e(C)}finally{d.f()}}for(var h=JSON.parse(JSON.stringify(t.skills)),p=null!==(a=h.countTexts)&&void 0!==a?a:{},b=[],y=0;y<u.length;y++){var k=u[y],x=!1;if(r){var g=r.indexOf(k);g>-1&&(x=!0,r.splice(g,1))}var O=s(h,k,x,!0);O&&b.push(O)}if(r){var w,S=(0,n.default)(r);try{for(S.s();!(w=S.n()).done;){var _=w.value,N=s(h,_,!0,!1);N&&b.push(N)}}catch(C){S.e(C)}finally{S.f()}}for(var J=0,T=b;J<T.length;J++){var B=T[J];p&&p[B.id]&&(B.countText=p[B.id]),-1==["e","q"].indexOf(B.key)&&("book"==t.weapon||B.element||(B.element="physical","bow"==t.weapon&&"b"==B.key&&(B.element=t.element))),B.element||(B.element=t.element)}return b};var n=i(o("b85c"));function s(t,e,o){var i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],n=t.items[e];if(n){var s,a;n.base=null!==(s=n.base)&&void 0!==s?s:["atk"],1==n.base.length&&n.base.push(e);var l,u,c=n.title,r=null!==(a=n.key)&&void 0!==a?a:e[0];if(!c)c=null!==(l=t.titles[r])&&void 0!==l?l:t.titles.a;if(c+="（",n.stage)c+=n.stage+"命";else c+=null!==(u=n.text)&&void 0!==u?u:"技能";return c+="）",n.title=c,n.mult&&(n.base=void 0,n[n.mult[0]+"Level"]=n.mult[1]),n.skip&&(n.base=void 0),n.key||(n.key=r),n.id=e,o&&(n.cdKey=e),i||(n.cr=!1),n}var f=e[0],d="".concat(t.titles.a,"（");"aim"==e?d+="瞄准":"i"==e[1]?d+=["下坠","低空","高空"][e[3]-1]:d+="b"==f?"b9"==e?"终结":"重击":"".concat(e[1],"段");var m={title:d,key:f,base:["atk",e],id:e};return"b11"==e&&(m.plus=["atk","b12"],m.title+="x2"),m.title+="）",o&&(m.cdKey=e),i||(m.cr=!1),m}o("e9c4"),o("c975"),o("a434"),o("3c65"),o("14d9")},a54a:function(t,e,o){"use strict";o.r(e);var i=o("4518"),n=o("e886");for(var s in n)["default"].indexOf(s)<0&&function(t){o.d(e,t,(function(){return n[t]}))}(s);var a=o("f0c5"),l=Object(a["a"])(n["default"],i["b"],i["c"],!1,null,"de294fea",null,!1,i["a"],void 0);e["default"]=l.exports},e886:function(t,e,o){"use strict";o.r(e);var i=o("0a6d"),n=o.n(i);for(var s in i)["default"].indexOf(s)<0&&function(t){o.d(e,t,(function(){return i[t]}))}(s);e["default"]=n.a}}]);