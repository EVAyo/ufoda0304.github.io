(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["package-pages-character-compare-index"],{2810:function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return i}));var i={uniSection:n("89d3").default,uniList:n("add1").default,uniListItem:n("6e18").default,uniNumberBox:n("7ec4").default,uniIcons:n("fcef").default,buttonBarBottom:n("e265").default},a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",[n("uni-section",{attrs:{title:"选项"}}),n("uni-list",{attrs:{border:!1}},[n("uni-list-item",{attrs:{showSwitch:!0,disabled:t.disableTeam,switchChecked:t.event.team,title:"队伍伤害",note:"打开后根据队伍伤害进行计算"},on:{switchChange:function(e){arguments[0]=e=t.$handleEvent(e),t.switchChange("team")}}}),n("uni-list-item",{attrs:{showSwitch:!0,switchChecked:t.event.auto,title:"配平双暴",note:"计算之前先对双暴进行平衡"},on:{switchChange:function(e){arguments[0]=e=t.$handleEvent(e),t.switchChange("auto")}}}),n("uni-list-item",{attrs:{showSwitch:!0,switchChecked:t.event.recharge,title:"配平充能",note:"计算之前自动调整充能词条"},on:{switchChange:function(e){arguments[0]=e=t.$handleEvent(e),t.switchChange("recharge")}}}),n("uni-list-item",{directives:[{name:"show",rawName:"v-show",value:t.event.recharge,expression:"event.recharge"}],attrs:{title:"充能要求（100 - 350%）",note:"有效词条与充能进行转换"},scopedSlots:t._u([{key:"footer",fn:function(){return[n("uni-number-box",{attrs:{min:100,step:10,max:350},model:{value:t.recharge,callback:function(e){t.recharge=e},expression:"recharge"}})]},proxy:!0}])})],1),n("uni-section",{attrs:{title:"已选择",type:"line"}}),t.weaponIds[0]?t._e():n("v-uni-view",[n("uni-list",{attrs:{border:!1}},[n("uni-list-item",{attrs:{title:"目前没有武器\t",note:"从下面的列表选择武器"}})],1)],1),t._l(t.weaponIds,(function(e,i){return n("v-uni-view",{key:i},[n("uni-list-item",{directives:[{name:"show",rawName:"v-show",value:!t.weaponConfig[e][0],expression:"!weaponConfig[id][0]"}],attrs:{"thumb-size":"lg",thumb:t.ImageUrl[e]},scopedSlots:t._u([{key:"body",fn:function(){return[n("v-uni-view",{staticClass:"item-content",on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.setOption(e,0,null)}}},[n("v-uni-view",{staticClass:"item-content-title"},[t._v("无选项")])],1)]},proxy:!0},{key:"footer",fn:function(){return[n("v-uni-view",{staticClass:"uni-group"},[n("v-uni-button",{staticClass:"uni-group-item",attrs:{size:"mini"},on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.setOption(e,0,null)}}},[n("uni-icons",{attrs:{type:"plusempty"}})],1),n("v-uni-button",{staticClass:"uni-group-item",attrs:{size:"mini"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.deleteWeapon(i)}}},[n("uni-icons",{attrs:{type:"trash"}})],1)],1)]},proxy:!0}],null,!0)}),t._l(t.weaponConfig[e],(function(a,o){return n("uni-list-item",{key:o,attrs:{"thumb-size":"lg",thumb:t.ImageUrl[e]},scopedSlots:t._u([{key:"body",fn:function(){return[n("v-uni-view",{staticClass:"item-content",on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.setOption(e,o,a)}}},[n("v-uni-view",{staticClass:"item-content-title"},[t._v(t._s(a.title))])],1)]},proxy:!0},{key:"footer",fn:function(){return[n("v-uni-view",{staticClass:"uni-group"},[n("v-uni-button",{staticClass:"uni-group-item",attrs:{size:"mini"},on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.setOption(e,o,null)}}},[n("uni-icons",{attrs:{type:"plusempty"}})],1),n("v-uni-button",{staticClass:"uni-group-item",attrs:{size:"mini"},on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.deleteOption(e,o,i)}}},[n("uni-icons",{attrs:{type:"trash"}})],1)],1)]},proxy:!0}],null,!0)})}))],2)})),n("uni-section",{attrs:{title:"所有",type:"line"}}),t._l(t.weapons,(function(e,i){return n("uni-list-item",{directives:[{name:"show",rawName:"v-show",value:t.weaponIds.indexOf(e.name)<0,expression:"weaponIds.indexOf(weapon.name) < 0"}],key:e.name,attrs:{title:t.textMap[e.name],clickable:!0,thumb:t.ImageUrl[e.name],"thumb-size":"lg"},on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.addWeapon(e.name)}}})})),n("button-bar-bottom",{directives:[{name:"show",rawName:"v-show",value:t.weaponIds[0],expression:"weaponIds[0]"}],attrs:{text:"开始计算"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.save()}}})],2)},o=[]},"2e57":function(t,e,n){"use strict";var i=n("f9a6"),a=n.n(i);a.a},"48b2":function(t,e,n){"use strict";n.r(e);var i=n("a865"),a=n.n(i);for(var o in i)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(o);e["default"]=a.a},8981:function(t,e,n){"use strict";n.r(e);var i=n("2810"),a=n("48b2");for(var o in a)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(o);n("2e57");var s=n("f0c5"),r=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,"0d0a2261",null,!1,i["a"],void 0);e["default"]=r.exports},a865:function(t,e,n){"use strict";n("7a82");var i=n("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n("c975"),n("c740"),n("a434"),n("14d9"),n("e9c4");var a=i(n("7d5b")),o=n("0d89"),s=i(n("d37b")),r={data:function(){return{textMap:{},ImageUrl:{},disableTeam:!0,recharge:100,event:{recharge:!1,team:!1,auto:!0},texts:["1、点击已选武器进行配置修改，右边按钮分别是新增、删除配置，如果设置的配置已存在，则不会保存。","2、计算结果对比的标准为当前队伍/单人的伤害为基准100%，默认平衡双爆后进行计算，从大到小排序。"],isAdd:!0,index:0,id:"",key:"",compare:{weaponIds:[],weaponConfig:{}},weapons:{},weaponIds:{},weaponsData:{},weaponConfig:{}}},onUnload:function(){uni.$off("optionChanged")},onLoad:function(){this.textMap=a.default,this.ImageUrl=s.default;var t=this.$store.getters.character,e="ys-compare-"+t.name;this.key=e;var n=this.$store.state.preset;-1==n.output[0].indexOf(4)&&(this.event.auto=!1),this.recharge=Math.round(100*n.recharge),n.gResult&&(this.disableTeam=!1,this.event.team=!0),this.weapons=o.weaponsByType[t.weapon];var i=uni.getStorageSync(e);i&&(this.compare=i),this.weaponConfig=this.compare.weaponConfig,this.weaponIds=this.compare.weaponIds,this.weaponsData=o.weaponsData;var r=this;uni.$on("optionChanged",(function(t){var e=r.weaponConfig[r.id];if(e){var n=e.findIndex((function(e){return e.title===t.title}));r.isAdd?e.splice(r.index+1,0,t):e[r.index]=t,n>-1&&e.splice(n,1)}else e=[t];r.$forceUpdate()}))},methods:{switchChange:function(t){this.event[t]=!this.event[t]},initOption:function(t){var e=this.weaponConfig[t];if(!e||0==e.length){var n=this.weaponsData[t],i=5==n.star?1:5,a=i+"精",o=[a];if(n.options)for(var s=0;s<n.options.length;s++){var r=n.options[s],u=n.indexs[s];o.push(r[u])}var c={stage:i-1,indexs:n.indexs,title:o.join(" / ")};this.weaponConfig[t]=[c]}},addWeapon:function(t){this.weaponIds.push(t),this.initOption(t),this.$forceUpdate()},deleteWeapon:function(t){this.weaponIds.splice(t,1)},deleteOption:function(t,e,n){this.weaponConfig[t].splice(e,1),this.$forceUpdate()},copyOption:function(t,e,n){this.weaponConfig[t].splice(e,0,n)},addOption:function(t,e){this.id=t,this.index=e,this.isAdd=!0,this.$store.commit("setOption",null),uni.navigateTo({url:"option?id="+t})},setOption:function(t,e,n){this.id=t,this.index=e,this.isAdd=!n,this.$store.commit("setOption",n),uni.navigateTo({url:"option?id="+t})},checkTeam:function(){var t=this.$store.state.preset,e=this;t.gResult?uni.showModal({title:"提示",content:"使用添加队友的核心伤害作为标准进行计算？",confirmText:"队友",cancelText:"单人",success:function(t){t.confirm?e.save(4):e.save(1)}}):e.save(1)},save:function(t){var e=JSON.parse(JSON.stringify(this.compare)),n=this.$store.state.preset,i=n.wId,a={indexs:n.wIndexs,stage:n.wStage,title:this.getOptionText(n)},o=e.weaponIds.indexOf(i);if(o<0)e.weaponIds.push(i),e.weaponConfig[i]=[a];else{var s=e.weaponConfig[i].findIndex((function(t){return t.title==a.title}));s<0&&e.weaponConfig[i].push(a)}this.$store.commit("setCompare",e),uni.setStorageSync(this.key,this.compare);var r=this.event.recharge?"&recharge="+this.recharge:"";uni.navigateTo({url:"result?team="+this.event.team+"&auto="+this.event.auto+r})},getOptionText:function(t){var e=this.weaponsData[t.wId],n=t.wStage+1,i=n+"精",a=[i];if(e.options)for(var o=0;o<e.options.length;o++){var s=e.options[o],r=t.wIndexs[o];a.push(s[r])}return a.join(" / ")},reset:function(){uni.removeStorageSync(this.key)}}};e.default=r},c25b:function(t,e,n){var i=n("24fb");e=i(!1),e.push([t.i,".uni-group[data-v-0d0a2261]{display:flex;align-items:center;justify-content:center}.uni-group-item[data-v-0d0a2261]{margin-left:15px;padding:0 10px;line-height:40px\n\t/* \twidth: 40px; */}.item-content[data-v-0d0a2261]{display:flex;padding-right:8px;flex:1;color:#3b4144;flex-direction:column;justify-content:space-between;overflow:hidden;justify-content:center}.item-content-title[data-v-0d0a2261]{font-size:14px;color:#3b4144;overflow:hidden}",""]),t.exports=e},f9a6:function(t,e,n){var i=n("c25b");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=n("4f06").default;a("c491ec52",i,!0,{sourceMap:!1,shadowMode:!1})}}]);