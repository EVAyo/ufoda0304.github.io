(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-team-detail"],{1148:function(e,t,i){"use strict";var n=i("5926"),a=i("577e"),r=i("1d80"),s=RangeError;e.exports=function(e){var t=a(r(this)),i="",o=n(e);if(o<0||o==1/0)throw s("Wrong number of repetitions");for(;o>0;(o>>>=1)&&(t+=t))1&o&&(i+=t);return i}},"190b":function(e,t,i){"use strict";i("7a82"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,i("a9e3"),i("2ca0");var n={name:"uniLink",props:{href:{type:String,default:""},text:{type:String,default:""},download:{type:String,default:""},showUnderLine:{type:[Boolean,String],default:!0},copyTips:{type:String,default:"已自动复制网址，请在手机浏览器里粘贴该网址"},color:{type:String,default:"#999999"},fontSize:{type:[Number,String],default:14}},computed:{isShowA:function(){return this._isH5=!0,!(!this.isMail()&&!this.isTel()||!0!==this._isH5)}},created:function(){this._isH5=null},methods:{isMail:function(){return this.href.startsWith("mailto:")},isTel:function(){return this.href.startsWith("tel:")},openURL:function(){window.open(this.href)},makePhoneCall:function(e){uni.makePhoneCall({phoneNumber:e})}}};t.default=n},"24db":function(e,t,i){"use strict";i.r(t);var n=i("190b"),a=i.n(n);for(var r in n)["default"].indexOf(r)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(r);t["default"]=a.a},"32d0":function(e,t,i){var n=i("58dd");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var a=i("4f06").default;a("5264f9cc",n,!0,{sourceMap:!1,shadowMode:!1})},"38cf":function(e,t,i){var n=i("23e7"),a=i("1148");n({target:"String",proto:!0},{repeat:a})},"58dd":function(e,t,i){var n=i("24fb");t=n(!1),t.push([e.i,"\n.uni-link[data-v-03b6d5de]{cursor:pointer}\n.uni-link--withline[data-v-03b6d5de]{text-decoration:underline}",""]),e.exports=t},"69e1":function(e,t,i){var n=i("24fb");t=n(!1),t.push([e.i,".js[data-v-3b70efae]{width:25%;background-color:#6a63ab}.js2[data-v-3b70efae]{width:5%;background-color:#6a63ab}.skills[data-v-3b70efae]{white-space:nowrap;\n\t\t/* overflow: ; */overflow:visible;text-overflow:ellipsis;font-size:14px;text-align:left;padding-left:5px;line-height:40px;color:#999}\n\n\t/* \t.swiper-item-bg {\n\t\tcolor: #7f858a;\n\t\tbackground-color: #fafafa;\n\t}\n */.example-body[data-v-3b70efae]{\ndisplay:flex;\nflex-direction:row;justify-content:flex-start;align-items:flex-end;flex-wrap:wrap}.tag-view[data-v-3b70efae]{margin-right:10px}.goods-carts[data-v-3b70efae]{\ndisplay:flex;\nflex-direction:column;position:fixed;left:0;right:0;\nleft:var(--window-left);right:var(--window-right);\nbottom:0;z-index:1000}",""]),e.exports=t},8026:function(e,t,i){"use strict";var n=i("c3c5"),a=i.n(n);a.a},"949d":function(e,t,i){"use strict";i.d(t,"b",(function(){return n})),i.d(t,"c",(function(){return a})),i.d(t,"a",(function(){}));var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.isShowA?i("a",{staticClass:"uni-link",class:{"uni-link--withline":!0===e.showUnderLine||"true"===e.showUnderLine},style:{color:e.color,fontSize:e.fontSize+"px"},attrs:{href:e.href,download:e.download}},[e._t("default",[e._v(e._s(e.text))])],2):i("v-uni-text",{staticClass:"uni-link",class:{"uni-link--withline":!0===e.showUnderLine||"true"===e.showUnderLine},style:{color:e.color,fontSize:e.fontSize+"px"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.openURL.apply(void 0,arguments)}}},[e._t("default",[e._v(e._s(e.text))])],2)},a=[]},9952:function(e,t,i){"use strict";(function(e){i("7a82");var n=i("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.getTeamData=function(t){var i=JSON.parse(JSON.stringify(t)),n={fire:0,rock:0,wind:0,ice:0,thunder:0,water:0},s=[],h={},v=[];for(var m in i.members){var g=i.members[m],p=(0,c.getPreset)(m);p.cNote?(g.title=p.cNote,g.note=p.eNote,g.title2=p.score,g.score=0,g.element=p.element,h[p.cId]=p,n[p.element]+=1):v.push(p)}if(i.presets=h,v.length>0)return e.log("needInit"),{needInit:!0,initPresets:v};var b={};for(var x in h){var k=h[x];if(k.effects){var w,y=(0,r.default)(k.effects);try{for(y.s();!(w=y.n()).done;){var S=w.value;b[S.id]=S}}catch(le){y.e(le)}finally{y.f()}}}n.fire>1&&s.push({id:"shuanghuo",title:"共鸣 - 双火",text:"攻击力提升25%"});n.ice>1&&(b.shuangbing={id:"shuangbing",title:"共鸣 - 双冰",text:"暴击率提升15%"});n.rock>1&&s.push({id:"shuangyan",title:"共鸣 - 双岩",text:"伤害提升15%,目标岩元素抗性降低15%"});n.ice>0&&n.thunder>0&&(b.chaodao={id:"chaodao",title:"效果 - 超导",text:"目标物理抗性降低40%"});i.score=0;var _,T=(0,r.default)(i.results);try{for(T.s();!(_=T.n()).done;){var I=_.value;I.score=0;var C,D=h[I.id],L=o.characterDamage[I.id],$=(0,r.default)(I.actions);try{for($.s();!(C=$.n()).done;){var P=C.value,M=[],O=(0,a.default)({},D);P.type?(O.school.reaction=P.type,P.text=f[P.type]):(O.school={reaction:-1},P.text=""),O.tIds=i.cIds;var U=d(O,P,s,b);if(U.isTeam=!0,U.buffTexts&&(M=U.buffTexts),U.wBuff&&M.unshift(U.wBuff),U.aBuff&&M.unshift(U.aBuff),P.skills){P.skillKey||(P.skillKey=P.skills[0][0]);var z=0;if(P.skillIndex)z=cSkills[P.skillIndex];else{var F=O["cSkills"];z="q"==P.skillKey?F[2]:"e"==P.skillKey?F[1]:F[0]}for(var N=0,j=i.members[I.id],A=0;A<P.skills.length;A++){var B=P.skills[A],E=j.skill[B][z];P.repeat?N+=E*P.repeat[A]:N+=E}var R={element:P.element,title:P.title,key:P.skillKey,level:N};if(P.stage){var K,q=(0,r.default)(P.stage);try{for(q.s();!(K=q.n()).done;){var J=K.value;if(O.cStage>=J.num)switch(J.type){case"skill":for(var H=0;H<J.skills.length;H++){var W=J.skills[H],G=j.skill[W][z];R.level+=G*J.repeat[H]}break;case"bonus":R.bonus=J.value;break;default:break}}}catch(le){q.e(le)}finally{q.f()}}if(P.baseAction){var Q=P.baseAction,V=(0,a.default)({},h[Q.id]);V.tIds=i.cIds;var X=d(V,Q,s,b),Y=V.cSkills[Q.skillIndex],Z=i.members[Q.id],ee=Z.skill[Q.skillKey][Y];R.baseItem={atk:X.atk(),ratio:ee*Q.repeat}}U.skills.push(R),L.get(U),P.score=U.tScore,P.formula=U.formula,P.extraNote&&M.unshift(P.extraNote)}else{var te=(0,u.reactionDamage)(U,P.reaction);P.score=te*P.repeat[0],P.formula=P.repeat[0]+" * "+U.formulaR}M.length>0?P.note=M.join(" | "):P.note="无";var ie=parseInt(P.score);I.score+=ie,i.members[I.id].score+=ie,P.text+=(1*P.score).toFixed(0)}}catch(le){$.e(le)}finally{$.f()}I.text=I.score.toFixed(0),i.score+=I.score}}catch(le){T.e(le)}finally{T.f()}for(var ne in i.members){var ae=i.members[ne],re=(ae.score/i.score*100).toFixed(0)+"%";ae.text=ae.score+" / "+re,ae.dps=(ae.score/i.time).toFixed(0)+" / S"}i.sText=i.score.toFixed(0);var se=i.score/i.time;i.dps=se.toFixed(0)+" / S";var oe=(se/5e4*100).toFixed(0),ce=(0,l.getColor)(oe);return i.result.color=ce,i.result.score=oe,i};var a=n(i("5530")),r=n(i("b85c"));i("e9c4"),i("14d9"),i("3c65"),i("38cf"),i("e25e");var s=i("149f"),o=i("433a"),c=i("fedd"),l=i("b209"),u=i("4d26"),f=["无","蒸发 - ","融化 - "];function d(e,t,i,n){var a,o,c=[];if(t.buffs){var l,u=(0,r.default)(t.buffs);try{for(u.s();!(l=u.n()).done;){var f=l.value,d=n[f];d&&c.push(d)}}catch(m){u.e(m)}finally{u.f()}}else t.buffs=[];if(t.aConfigs&&!e.aSets){var h=t.aConfigs[e.aIds[0]];h&&(a=h.indexs)}if(t.wConfigs){var v=t.wConfigs[e.wId];v&&(o=v.indexs)}return(0,s.buildTeamAttribute)(e,i,c,o,a)}}).call(this,i("5a52")["default"])},"9ddb":function(e,t,i){"use strict";i.r(t);var n=i("b89f"),a=i.n(n);for(var r in n)["default"].indexOf(r)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(r);t["default"]=a.a},a1f1:function(e,t,i){"use strict";var n=i("32d0"),a=i.n(n);a.a},b89f:function(e,t,i){"use strict";(function(e){i("7a82");var n=i("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,i("14d9"),i("4e82");var a=n(i("b85c")),r=n(i("5530")),s=i("26cb"),o=i("c670"),c=i("9952"),l=i("4432"),u=i("fedd"),f={data:function(){return{colors:{fire:"#fadbd9",ice:"#d2f1f0",rock:"#fef2ced2",water:"#cce6ff",thunder:"#e1d7f0",wind:"#d7f0dbff"},margin:"0px 15px 30px",notices:[],recharges:[],others:[],needInit:!1,initPresets:[],charactersData:{},formulaText:"基础区 * 增伤 * 期望 * 防御 * 反应 * 抗性 * 倍率",color:"rgb(211,159,81)",score:"",members:[],showSequence:!1,switchChecked:[!1,!1,!1,!1],switchChecked2:[!1,!1,!1,!1],presets:[],team:{},index:0,showRecharges:!1,showTeamBuffs:[],value:["0"],preset:{},options:[{icon:"star",text:"收藏"},{icon:"color",text:" 预设",info:0},{icon:"vip",text:"词条",info:0},{icon:"fire",text:"数据",info:0},{icon:"staff",text:"队友",info:0}]}},computed:(0,r.default)({},(0,s.mapState)(["version","character"])),onUnload:function(){uni.$off("presetChanged")},onLoad:function(e){var t=o.Teams[e.teamId];if(t){this.Team=t,this.charactersData=l.charactersData;var i=this;uni.$on("presetChanged",(function(){i.$store.commit("recoverPreset"),i.initData(),i.$forceUpdate()})),i.initData()}else uni.reLaunch({url:"/pages/team/team"})},methods:{initData:function(){if(uni.showLoading({title:"正在计算,请稍后!"}),this.members=[],this.team=(0,c.getTeamData)(this.Team),e.log("计算！"),this.team.needInit)return this.needInit=this.team.needInit,this.initPresets=this.team.initPresets,void uni.hideLoading();for(var t in this.needInit=!1,this.notices=[],this.recharges=[],this.others=[],this.team.members){var i,n=this.team.members[t],r=uni.getStorageSync(n.id),s=(0,a.default)(n.requires);try{for(s.s();!(i=s.n()).done;){var o=i.value,l=this.charactersData[r.cId].chs;switch(o.type){case 0:o.value>r.recharge&&(o.title=l,o.note="低于"+(100*o.value).toFixed(0)+"%",this.recharges.push(o));break;case 1:o.value>r.cStage&&(o.title=l,o.note="低于"+o.value+"命",this.notices.push(o));break;case 2:o.value==r.cStage&&(o.title=l,o.note="不支持"+o.value+"命",this.others.push(o));break;case 3:o.value<=r.cStage&&(o.title=l+" - 命座说明",this.notices.push(o));break;default:break}}}catch(d){s.e(d)}finally{s.f()}this.members.push(n)}this.members.sort((function(e,t){return t.score-e.score}));for(var u=0;u<this.members.length;u++){var f=this.members[u];f.width=0==u?90:f.score/this.members[0].score*90}uni.hideLoading(),this.$store.commit("setTeam",this.team),uni.setNavigationBarTitle({title:this.team.sTitle})},onClick:function(e){switch(e.index){case 0:uni.navigateTo({url:"config/actions"});break;default:break}},switchChange2:function(e){var t=this.switchChecked2[e];this.switchChecked2[e]=!t||!t,this.$forceUpdate()},switchChange:function(e){var t=this.switchChecked[e];this.switchChecked[e]=!t||!t,this.$forceUpdate()},setIndex:function(e){this.index=e},switchSequence:function(e){this.showSequence=e.value},switchRecharges:function(e){this.showRecharges=e.value},change:function(t){e.log(t)},toInit:function(e){var t=this;uni.showLoading({title:"初始化中..",mask:!0}),setTimeout((function(){(0,u.startCalculate)(e,this.version),t.$store.dispatch("storePreset",e),t.initData(),uni.hideLoading()}),3e3)},toAction:function(e){uni.navigateTo({url:"./action?index="+e})},toDetail:function(e){var t=uni.getStorageSync(e);this.$store.commit("backupPreset"),this.$store.commit("setPreset",t),uni.navigateTo({url:"../character/property?from=team"})}}};t.default=f}).call(this,i("5a52")["default"])},bfb4:function(e,t,i){"use strict";i.r(t);var n=i("949d"),a=i("24db");for(var r in a)["default"].indexOf(r)<0&&function(e){i.d(t,e,(function(){return a[e]}))}(r);i("a1f1");var s=i("f0c5"),o=Object(s["a"])(a["default"],n["b"],n["c"],!1,null,"03b6d5de",null,!1,n["a"],void 0);t["default"]=o.exports},c3c5:function(e,t,i){var n=i("69e1");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var a=i("4f06").default;a("2a29d963",n,!0,{sourceMap:!1,shadowMode:!1})},d7a4:function(e,t,i){"use strict";i.r(t);var n=i("f8d3"),a=i("9ddb");for(var r in a)["default"].indexOf(r)<0&&function(e){i.d(t,e,(function(){return a[e]}))}(r);i("8026");var s=i("f0c5"),o=Object(s["a"])(a["default"],n["b"],n["c"],!1,null,"3b70efae",null,!1,n["a"],void 0);t["default"]=o.exports},f8d3:function(e,t,i){"use strict";i.d(t,"b",(function(){return a})),i.d(t,"c",(function(){return r})),i.d(t,"a",(function(){return n}));var n={uniCard:i("3d92").default,uniListItem:i("6e18").default,uniLink:i("bfb4").default,uniSection:i("89d3").default},a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-view",[e.needInit?e._l(e.initPresets,(function(t,n){return i("uni-card",{key:n,attrs:{margin:e.margin,padding:"0",spacing:"0"}},[i("uni-list-item",{attrs:{"thumb-size":"lg",clickable:!0,thumb:e.charactersData[t.cId].avatar,title:"该角色未初始化，无法进行计算..",rightText:"配置",showArrow:!0},on:{click:function(i){arguments[0]=i=e.$handleEvent(i),e.toInit(t)}}})],1)})):i("v-uni-view",[i("uni-card",{attrs:{margin:e.margin,padding:"0",spacing:"0"}},[i("uni-list-item",{staticClass:"item-space",attrs:{title:"1、原作者 "+e.team.from.name},scopedSlots:e._u([{key:"footer",fn:function(){return[i("uni-link",{attrs:{color:"#007AFF",href:e.team.from.url,text:"地址"}})]},proxy:!0}],null,!1,1157944898)}),i("uni-list-item",{staticClass:"item-space",attrs:{title:"2、注意：如果装备了和原作者不同的条件触发型武器或圣遗物，将会影响伤害的计算，原因是没有具体覆盖情况，因此将会忽略处理（会按照角色设置的选项算），各位如果能提供相关覆盖情况，可以和我联系补充完善该轴。"}})],1),i("uni-card",{attrs:{padding:"0",spacing:"0",margin:e.margin}},[i("uni-section",{attrs:{title:"伤害分析",type:"line",rightText:e.team.dps}},[i("uni-list-item",{attrs:{showBadge:!0,title:"总伤害",rightText:e.team.sText+" / 100%",clickable:!0},scopedSlots:e._u([{key:"header",fn:function(){return[i("v-uni-view",{staticClass:"cu-avatar",style:{backgroundColor:e.team.result.color}},[e._v(e._s(e.team.result.score))])]},proxy:!0}],null,!1,1238893863)}),e._l(e.members,(function(t,n){return i("uni-list-item",{key:n,attrs:{clickable:!0,"thumb-size":"lg",thumb:e.charactersData[t.id].avatar,title:t.title2,rightText:t.text},on:{click:function(i){arguments[0]=i=e.$handleEvent(i),e.toDetail(t.id)}}})}))],2)],1),e.notices.length>0?i("uni-card",{attrs:{margin:e.margin,padding:"0",spacing:"0"}},[i("uni-section",{attrs:{title:"计算说明",type:"line",rightText:"影响伤害计算"}}),i("v-uni-view",e._l(e.notices,(function(e,t){return i("uni-list-item",{key:t,attrs:{title:e.title,rightText:e.note}})})),1)],1):e._e(),e.recharges.length>0?i("uni-card",{attrs:{margin:e.margin,padding:"0",spacing:"0"}},[i("uni-section",{attrs:{title:"充能要求",type:"line",rightText:"可能影响循环"}}),i("v-uni-view",e._l(e.recharges,(function(e,t){return i("uni-list-item",{key:t,attrs:{title:e.title,rightText:e.note}})})),1)],1):e._e(),e.others.length>0?i("uni-card",{attrs:{margin:e.margin,padding:"0",spacing:"0"}},[i("uni-section",{attrs:{title:"忽视计算",type:"line",rightText:"计算时会忽略"}}),i("v-uni-view",e._l(e.others,(function(e,t){return i("uni-list-item",{key:t,attrs:{title:e.title,rightText:e.note}})})),1)],1):e._e(),i("uni-card",{key:e.index,attrs:{padding:"0",spacing:"0",margin:e.margin}},[i("uni-section",{attrs:{title:"技能轴",type:"line",rightText:e.team.note}}),e._l(e.team.results,(function(t,n){return i("uni-list-item",{key:n,attrs:{clickable:!0,"thumb-size":"lg",thumb:e.charactersData[t.id].avatar,title:t.title,note:t.note,rightText:t.text},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.toAction(n)}}})}))],2)],1),i("v-uni-view",{staticStyle:{height:"60px"}})],2)},r=[]}}]);