(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["package-pages-character-effect"],{"00d0":function(e,t,a){"use strict";a("7a82");var r=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.maximize=function(e,t,a,r,n){var l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"Brute",d={atk:[0,37],hp:[0,37],def:[0,37],em:[0,35],er:[0,35],cr:[0,35],cd:[0,35]};if(a){if(a.length>3)throw new Error("主词条列表长度不超过3，得到"+a.length);var f,v=(0,i.default)(a);try{for(v.s();!(f=v.n()).done;){var h=f.value;h in d&&(["atk","hp","def"].includes(h)?d[h][1]-=5:d[h][1]-=7)}}catch(N){v.e(N)}finally{v.f()}}if(n)for(var p in d)if(p in n&&(d[p][0]=Math.max(d[p][0],Math.ceil(n[p][0])),d[p][1]=Math.min(d[p][1],Math.floor(n[p][1])),d[p][0]>d[p][1]))throw new Error("".concat(p,"的实际取值范围无效：[").concat(d[p][0],", ").concat(d[p][1],"]"));if(r)for(var g in d)r.includes(g)||(d[g][1]=d[g][0]);var x=[],b=0,m=0;for(var _ in d)d[_][0]<d[_][1]&&x.push(_),b+=d[_][0],m+=d[_][1];if(t<b||t>m)throw new Error("没有可行解，因为".concat(t,"不在[").concat(b,", ").concat(m,"]内"));if(x.length<=1){var S={};for(var w in d)S[w]=Math.min(t-b+d[w][0],d[w][1]);return{statBest:S,dmgBest:e(S)}}if(t==b){var E={};for(var y in d)E[y]=d[y][0];return{statBest:E,dmgBest:e(E)}}if(t==m){var T={};for(var C in d)T[C]=d[C][1];return{statBest:T,dmgBest:e(T)}}switch(l){case"Brute":return o(e,t,d);case"BruteTwice":return s(e,t,d);case"NelderMead":return c(e,t,d);case"NelderMeadBrute":return u(e,t,d);default:throw new Error("未知的优化方法："+l)}},a("14d9"),a("4e82"),a("d9e2"),a("d401"),a("caad"),a("99af"),a("2532");var i=r(a("b85c")),n=r(a("5530"));function o(e,t,a){for(var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i={},o=0,s=["cr","cd","atk","em","hp","def","er"],c={},u=0,l=0,d=s.length-1;d>=0;--d)c[s[d]]=[u,l],u+=a[s[d]][0],l+=a[s[d]][1];function f(t,u){var l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,d=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,v=s[l];if(l==s.length-1){if(u+d>41)return;t[v]=u;var h=e(t);h>o&&(o=h,i=(0,n.default)({},t))}else for(var p=Math.max(a[v][0],u-c[v][1]),g=Math.min(a[v][1],u-c[v][0],41-d),x=p;x<=g;x+=r)t[v]=x,f(t,u-x,l+1,Math.max(d,x))}return t=Math.floor(t),f({},t),{statBest:i,dmgBest:o}}function s(e,t,a){var r=o(e,t,a,2),i=r.statBest,n=(r.dmgBest,{});for(var s in a)n[s]=[a[s][0],a[s][1]],s in i&&(n[s][0]=Math.max(n[s][0],i[s]-3),n[s][1]=Math.min(n[s][1],i[s]+3));return o(e,t,n)}function c(e,t,a){function r(t){var r=[];for(var i in t){if(i in a&&(t[i]<a[i][0]||t[i]>a[i][1]))return 0;t[i]>0&&r.push(t[i])}return r.sort((function(e,t){return t-e})),r.length>=2&&r[0]+r[1]>41?0:e(t)}var i=0,n=[],o=0,s=0,c=[];for(var u in a)if(o+=a[u][0],a[u][0]<a[u][1]){i++,n.push(u);var l=Math.random();s+=l*(a[u][1]-a[u][0]),c.push(l)}for(var d=[],f=0;f<n.length;++f){var v=n[f],h=(t-o)/(s+.1*c[f]*(a[v][1]-a[v][0])),p={};for(var g in a)p[g]=a[g][0];for(var x=0;x<n.length;++x){var b=n[x],m=a[b][1]-a[b][0];p[b]+=h*c[x]*m,b==v&&(p[b]+=.1*h*c[x]*m)}d.push({stat:p,dmg:r(p)})}function _(){d.sort((function(e,t){return t.dmg-e.dmg}))}function S(e,t,i,n){var o={stat:{},dmg:0};for(var s in a)o.stat[s]=e*t.stat[s]+i*n.stat[s];return o.dmg=r(o.stat),o}for(var w=0;w<2e3;++w){_();var E=0;for(var y in a)E=Math.max(E,Math.abs(d[0].stat[y]-d[1].stat[y]));if(Math.abs(d[0].dmg-d[i-1].dmg)<1e-5&&E<1e-5)break;var T={stat:{},dmg:0};for(var C in a){T.stat[C]=0;for(var N=0;N<i-1;++N)T.stat[C]+=d[N].stat[C];T.stat[C]/=i-1}var D=d[i-1],A=S(2,T,-1,D);if(A.dmg>d[0].dmg){var R=S(3,T,-2,D);R.dmg>A.dmg?d[i-1]=R:d[i-1]=A}else if(A.dmg<=d[i-1].dmg){var M=!1;if(A.dmg<D.dmg){var k=S(.5,T,.5,D);k.dmg>D.dmg?d[i-1]=k:M=!0}else{var I=S(1.5,T,-.5,D);I.dmg>A.dmg?d[i-1]=I:M=!0}if(M){0;for(var O=1;O<i;++O)d[O]=S(.5,d[0],.5,d[O])}}else d[i-1]=A}return _(),{statBest:d[0].stat,dmgBest:d[0].dmg}}function u(e,t,a){for(var r=c(e,t,a),i=r.statBest,n=r.dmgBest,s=1;s<5;++s){var u=c(e,t,a);u.dmgBest>n&&(i=u.statBest,n=u.dmgBest)}var l={};for(var d in a)l[d]=[a[d][0],a[d][1]],d in i&&(l[d][0]=Math.max(l[d][0],Math.ceil(i[d]-3)),l[d][1]=Math.min(l[d][1],Math.floor(i[d]+3)));return o(e,t,l)}},"03ea":function(e,t,a){"use strict";a("7a82");var r=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.getTag=function(e){var t,a=e.preset,r={},h=[],p=e.preset.tagNum,g=a.cPanel["HP"][0],x=a.cPanel["ATTACK"][0],b=a.cPanel["DEFENSE"][0],m=a.output,_=[],S=[],w=e.calculator.convert;if(e.convertTag=[],w){var E=JSON.parse(JSON.stringify(a));E.aMinor=[0,0,0,0,0,0,0,0],e.convertPresets=[E]}for(var y={},T={},C=0;C<m.length;C++){var N,D="",A=0,R=m[C],M=(0,n.default)(R);try{for(M.s();!(N=M.n()).done;){var k=N.value;if(0==C){var I=0,O="";switch(k){case 0:T.HP=!0,y.HP_PERCENT=!0,I=.05*g,O="词条 - 生命（ +5% / "+I.toFixed(0)+" ）";break;case 1:T.ATTACK=!0,y.ATTACK_PERCENT=!0,I=.05*x,O="词条 - 攻击（ +5% / "+I.toFixed(0)+" ）";break;case 2:T.DEFENSE=!0,y.DEFENSE_PERCENT=!0,I=.062*b,O="词条 - 防御（ +6.2% / "+I.toFixed(0)+" ）";break;case 3:y.ELEMENT_MASTERY=!0,I=20,O="词条 - 精通（ +20 ）";break;case 4:y.CRITICAL=!0,I=3.3,O="词条 - 暴击（ +3.3% ）";break;case 5:y.CRITICAL_HURT=!0,I=6.6,O="词条 - 爆伤（ +6.6% ）";break;case 6:y.CHARGE_EFFICIENCY=!0,I=5.5,O="词条 - 充能（ +5.5% ）";break;default:break}var P={title:O,note:"",text:0};_.push(P);var B=JSON.parse(JSON.stringify(a));if(B.aMinor[k]+=I,w){var F=w.indexOf(k);if(F>-1){var H=JSON.parse(JSON.stringify(e.convertPresets[0]));H.aMinor[k]+=I,e.convertPresets.push(H),e.convertTag.push(p[k])}}S.push(B)}D+=c[k],A+=p[k]}}catch(Je){M.e(Je)}finally{M.f()}var L={title:D,text:A.toFixed(1)};0==C?r=(0,i.default)({},L):h.push(L)}if(a.cLevel<90){var J=JSON.parse(JSON.stringify(a)),j={character:e.character,preset:J,weapon:e.weapon};J.cLevel=90,J.aTagToMinor=!0,(0,s.getBaseData)(j),(0,o.convertMinor)(J),S.push(J),_.push({title:"人物 - 等级（ +"+(90-a.cLevel)+"级 ）",note:"",text:0})}if(a.wLevel<90){var U=JSON.parse(JSON.stringify(a)),$={character:e.character,preset:U,weapon:e.weapon};U.wLevel=90,(0,s.getBaseData)($),U.aTagToMinor=!0,(0,o.convertMinor)(U),S.push(U),_.push({title:"武器 - 等级（ +"+(90-a.wLevel)+"级 ）",note:"",text:0})}var Y=null!==(t=e.calculator.skillKey)&&void 0!==t?t:e.character.skillKey;if(Y){var K=[9,9];a.cStage>2&&(K=[12,12],a.cStage<5&&(e.character.isSkillFive?K[0]=9:K[1]=9));var G,z=[{key:"技能 - A（ +1级 ）",index:0,max:9},{key:"技能 - E（ +1级 ）",index:1,max:K[0]},{key:"技能 - Q（ +1级 ）",index:2,max:K[0]}],W=[],q=(0,n.default)(Y);try{for(q.s();!(G=q.n()).done;){var Q=G.value,V=a.cSkills[Q],X=z[Q];0==Q&&V<X.max&&W.push(X),0!=Q&&V<X.max&&W.push(X)}}catch(Je){q.e(Je)}finally{q.f()}for(var Z=0,ee=W;Z<ee.length;Z++){var te=ee[Z],ae=JSON.parse(JSON.stringify(a));ae.cSkills[te.index]+=1,S.push(ae),_.push({title:te.key,note:"",text:0})}}if(m[0].indexOf(5)>-1||e.calculator.convert){var re=JSON.parse(JSON.stringify(a));if(S.push(re),_.push({title:"其他 - 伤害加成（ +5% ）",note:"",isBonus:!0,text:0}),a.aMajor[1]<6||a.aMajor[1]==f[a.element]){var ie=a.aMajor[1],ne=e.calculator.preset?e.calculator.preset.aMajor:e.character.preset.aMajor,oe=["HP","ATTACK","DEFENSE"];if(ie<3){var se=JSON.parse(JSON.stringify(a)),ce="（ 元素杯 ）",ue=4;5==ne[1]&&(ce="（ 物理杯 ）",ue=5);var le=.466;2==ie&&(le=.583),se.aMajor[1]=ue,(0,s.getMajorData)(se),se.aMinor[ie]-=le*se.cPanel[oe[ie]][0],S.push(se),_.push({title:"更换 - "+u[1][ie]+ce,note:"",text:0})}else if(3!=ie){var de=JSON.parse(JSON.stringify(a)),fe="更换 - 元素杯";5==ie&&(fe="更换 - 物理杯");var ve=.466,he="（ 攻击杯 ）";ie=1,2==ne[0]?(ve=.583,he="（ 防御杯 ）",ie=2):0==ne[0]&&(he="（ 生命杯 ）",ie=0),de.aMajor[1]=ie,(0,s.getMajorData)(de),de.aMinor[ie]+=ve*de.cPanel[oe[ie]][0],S.push(de),_.push({title:fe+he,note:"",text:0})}}}var pe=[20,20,20,20,20],ge=[];if(a.aConfigs){for(C=0;C<a.aConfigs.length;C++){var xe=a.aConfigs[C];pe[C]=20-xe[1]}pe[0]<20&&ge.push(pe[0]+"花"),pe[1]<20&&ge.push(pe[1]+"羽")}for(C=0;C<3;C++){var be=a.aMajor[C];if(be<99){var me="";me=1==C&&4==be?v[a.element]+"杯":u[C][be],pe[C+2]<20&&(me=pe[C+2]+me),ge.push(me)}else ge.push("无")}var _e=ge.join(" / ");r.content=_e;var Se=[],we=[],Ee=[];e.presets=S;for(C=0;C<c.length;C++){var ye=p[C].toFixed(1),Te=c[C]+ye,Ce=m[0].indexOf(C);if(Ce>-1){Se.push(Te);var Ne=a.aMinor[C].toFixed(0)+c[C];Ee[Ce]=Ne}else we.push(Te)}var De={title:"主要词条",text:Se.join(" /")};h.push(De);var Ae={title:"其他词条",text:we.join(" /")};h.push(Ae),m[0].indexOf(5)>-1?r.note="双爆: "+(2*a.aMinor[4]+a.aMinor[5]).toFixed(1):r.note="";if(a.tPanel=Ee.join(" /"),a.tResult=r,a.tResults=h,e.weights=_,a.aData)for(var Re in a.aData){var Me=a.aData[Re];Me.type=l[Re[4]],Me.count=0;var ke,Ie=(0,n.default)(Me.attrs);try{for(Ie.s();!(ke=Ie.n()).done;){var Oe=ke.value;if(0!=Oe.length){if(Oe[3]="#d5d6d9",Oe[4]=0,y[Oe[2]]){Oe[3]="#3b4144";var Pe=Oe[1]/d[Oe[2]][1];Oe[4]=Pe.toFixed(1),Me.count+=Pe}else if("CHARGE_EFFICIENCY"==Oe[2]){var Be=Oe[1]/d[Oe[2]][1];Oe[4]=Be.toFixed(1),Me.count+=Be}if(T[Oe[2]]){Oe[3]="#999";var Fe=.05;"DEFENSE"==Oe[2]&&(Fe=.062);var He=a.cPanel[Oe[2]][0]*Fe,Le=Oe[1]/He;Oe[4]=Le.toFixed(1),Me.count+=Le}Oe[0]=Oe[1]+d[Oe[2]][0]}}}catch(Je){Ie.e(Je)}finally{Ie.f()}Me.attrs.sort((function(e,t){return t[4]-e[4]})),Me.count=Me.count.toFixed(1)}};var i=r(a("5530")),n=r(a("b85c"));a("e9c4"),a("14d9"),a("c975"),a("4e82");var o=a("7a53"),s=a("175e"),c=["生","攻","防","精","暴","爆","充"],u=[["生命沙","攻击沙","防御沙","精通沙","充能沙"],["生命杯","攻击杯","防御杯","精通杯","元素杯","物理杯","火伤杯","冰伤杯","水伤杯","雷伤杯","草伤杯","岩伤杯","风伤杯"],["生命头","攻击头","防御头","精通头","暴击头","爆伤头","治疗头"]],l=["","花","羽","沙","杯","冠"],d={HP:["小生",0],HP_PERCENT:["生",5],ATTACK:["小攻",1],ATTACK_PERCENT:["攻",5],DEFENSE:["小防",2],DEFENSE_PERCENT:["防",6.2],FIRE_ADD_HURT:"火",ICE_ADD_HURT:"冰",ROCK_ADD_HURT:"岩",ELEC_ADD_HURT:"雷",WIND_ADD_HURT:"风",WATER_ADD_HURT:"水",PHYSICAL_ADD_HURT:"物",GRASS_ADD_HURT:"草",HEAL_ADD:"治",ELEMENT_MASTERY:["精",20],CRITICAL:["暴",3.3],CRITICAL_HURT:["爆",6.6],CHARGE_EFFICIENCY:["充",5.5]},f={fire:6,ice:7,water:8,thunder:9,grass:10,rock:11,wind:12},v={fire:"火伤",water:"水伤",thunder:"雷伤",ice:"冰伤",rock:"岩伤",wind:"风伤",grass:"草伤"}},"0b7e":function(e,t,a){"use strict";(function(e){a("7a82");var r=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.getBaseScore=function(t){var a=t.preset,r=t.calculator.preset?t.calculator.preset:t.character.preset;t.oldPreset=r;var i=JSON.parse(JSON.stringify(r)),c=[8,8,8];4==t.character.star?(c=[8,11,11],i.cStage=6):i.cStage=0;i.cSkills=c,i.cLevel=90,i.wLevel=90,i.school=a.school,i.cId=a.cId,i.wType=a.wType,i.element=a.element,i.energy=a.energy,i.cPanel={HP:[0,4780],HP_PERCENT:[0,0],ATTACK:[0,311],ATTACK_PERCENT:[0,0],DEFENSE:[0,0],DEFENSE_PERCENT:[0,0],FIRE_ADD_HURT:[0,0],ICE_ADD_HURT:[0,0],ROCK_ADD_HURT:[0,0],ELEC_ADD_HURT:[0,0],WIND_ADD_HURT:[0,0],WATER_ADD_HURT:[0,0],PHYSICAL_ADD_HURT:[0,0],HEAL_ADD:[0,0],ELEMENT_MASTERY:[0,0],CRITICAL:[0,0],CRITICAL_HURT:[0,0],CHARGE_EFFICIENCY:[0,0]};var u=d.weaponsData[i.wId];i.wStage=5==u.star?0:4,i.wIndexs||(i.wIndexs=u.indexs);if(!i.aIndexs&&!i.aSets){var f=l.artifactsData[i.aIds[0]];f&&(i.aIndexs=f.indexs)}var v={character:t.character,preset:i,weapon:u};(0,o.getMajorData)(i),(0,o.getBaseData)(v),i.aTagToMinor=!0,i.tagNum=JSON.parse(JSON.stringify(a.school.tagNum)),(0,s.convertMinor)(i);var h=(0,n.buildAttribute)(i);a.output[0].indexOf(5)>-1&&(h.isBalance=!0);h.onlyScore=!0,t.calculator.get(h),t.baseScore=h.score,e.log("-------------"+t.character.chs+"-------------"),e.log("(1) C期望（默认圣遗物+默认配置）："+h.score)},t.getDataScore=function(t){var a=t.preset,r=(0,n.buildAttribute)(a);t.attribute=r,r.isData=!0,t.calculator.get(r),a.dResult=r.result,a.dResults=r.results;var o=r.score;e.log("(3) A期望（当前圣遗物+当前配置）："+o),r.reacResult&&a.dResults.push(r.reacResult);var s=t.baseScore,c=(o/s*100).toFixed(0),d=(0,u.getColor)(c);a.dResult.score=c,a.dResult.color=d,t.dataScore=o,a.recharge=r.recharge;var v=t.baseData;r.dBuffs=v.concat(r.dBuffs),a.dBuffs=r.dBuffs,a.effects=r.effects;var h="",p=t.weapon.options;if(p){var g=a.wIndexs;if(g&&g[0]>0){h+="[";for(var x=0;x<g.length;x++){var b=g[x];h+=p[x][b]}h+="]"}}var m,_="",S="",w=(0,i.default)(a.cSkills);try{for(w.s();!(m=w.n()).done;){var E=m.value;S+=E+1}}catch(j){w.e(j)}finally{w.f()}var y="",T=l.artifactsData[a.aIds[0]];if(a.aSets){var C=l.artifactsData[a.aIds[1]];y=T.short[0]+C.short[0]+"二"}else{y=T.short+"四";var N=T.options;if(N){var D=a.aIndexs;if(D&&D[0]>0){_+="[";for(x=0;x<D.length;x++){var A=D[x];_+=N[x][A]}_+="]"}}}var R=t.weapon.chs.slice(0,2),M="";a.wLevel&&a.wLevel<90&&(M=a.wLevel,a.wAscend&&(M+="+"));var k=a.cLevel;a.cAscend?k+="+":k+="级";var I=k+" / "+a.cStage+"命 / 技能 "+S,O=M+R+(a.wStage+1)+"精 /"+y;a.cNote=I,a.eNote=O,a.wNote=h,a.aNote=_,a.note=O+_+" /"+k+a.cStage+"命 /"+S,a.reactionText=r.reactionText?r.reactionText+" ":"",a.cData={em:r.em0()},t.preset.school.score||(t.supportScore=r.supportScore);if(r.isBalance)a.aMinor[4]+=r.resetCD.diffC,a.aMinor[5]+=r.resetCD.diffD,a.tagNum[4]=(a.aMinor[4]-100*a.cPanel["CRITICAL"][1])/3.3,a.tagNum[5]=(a.aMinor[5]-100*a.cPanel["CRITICAL_HURT"][1])/6.6,a.isAdapt=!1;else{var P=0;if(a.output[0].indexOf(5)>-1){var B=100*r.critical,F=100*r.criticalDamage;if(B<100)if(B*F<2e4){var H=Math.sqrt(8*B*F);P=(2*B+F-H)/6.6}else P=(2*B+F-200-B*F/100)/6.6;else if(F>200)P=(B-100)/3.3;else{var L=Math.sqrt(800*F);P=(2*B+F-L)/6.6}a.tLost=P.toFixed(1)}else a.tLost=null}var J=f(t);a.dPanel=J},t.getGWeightScore=function(e){for(var t=e.preset,a=JSON.parse(JSON.stringify(e.weights)),r=[],i=0;i<a.length;i++){var o=a[i],s=e.presets[i],c=(0,n.buildGroupAttribute)(s);c.onlyScore=!0,o.isBonus&&(c.bonus+=.05),e.calculator.get(c);var u=100*(c.score/e.preset.groupScore-1);u>.05&&(o.text=u.toFixed(2),r.push(o))}r.sort((function(e,t){return t.text-e.text})),t.gWeights=r},t.getGroupScore=function(t){var a=t.preset;if(a.gEffects||a.openBuffs){var r=(0,n.buildGroupAttribute)(a);t.attribute=r,t.calculator.get(r),a.gResult=r.result,a.gResults=r.results;var i=a.gResult.text;e.log("(2) E期望（+队伍增益）："+r.score),r.reacResult&&a.gResults.push(r.reacResult);var o=f(t);a.gPanel=o,a.gBuffs=r.gBuffs,a.gOpenBuffs=r.gOpenBuffs;var s=t.baseScore,c=(i/s*100).toFixed(0);a.gResult.score=c,a.gResult.color=(0,u.getColor)(c),a.groupScore=i}else a.gResult=null,a.gResults=null,a.gWeights=null,a.groupScore=null},t.getPanel=f,t.getTagScore=function(t){var a=t.preset,r=JSON.parse(JSON.stringify(a));r.aConfigs=null,r.aTagToMinor=!0;var i=t.dataScore,l=JSON.parse(JSON.stringify(r)),d=JSON.parse(JSON.stringify(a.school.tagNum)),f=d.map((function(e){return Math.round(5*e/3)}));l.tagNum=f,r.tagNum=d;var v=JSON.parse(JSON.stringify(r));r.aMajor=t.oldPreset.aMajor,(0,o.getMajorData)(r),(0,s.convertMinor)(r),(0,s.convertMinor)(v),(0,s.convertMinor)(l);var h=(0,n.buildAttribute)(l);h.onlyScore=!0;var p=(0,n.buildAttribute)(v);p.onlyScore=!0;var g=(0,n.buildAttribute)(r);g.onlyScore=!0,a.output[0].indexOf(5)>-1?(g.isBalance=!0,h.isBalance=!0,p.isBalance=!0):(g.isBalance=!1,h.isBalance=!1,p.isBalance=!1);t.calculator.get(g);var x=g.score;e.log("(4) B期望（默认圣遗物+当前配置）："+x),t.calculator.get(p);var b=p.score;e.log("(5) D期望（默认词条数）："+b),t.calculator.get(h);var m=h.score;e.log("(6) E期望（极限词条数）："+m);var _=i/b*100,S=i/m*100;a.output[0].indexOf(5)>-1&&a.school.score?a.tProgress=S.toFixed(0):a.tProgress=null;(0,c.getTag)(t);var w=_.toFixed(0),E=(0,u.getColor)(w);a.tResult.score=w,a.tResult.color=E,t.tagScore=x,a.score=t.supportScore?t.supportScore:a.tResult.score+" / "+a.dResult.score},t.getWeightScore=function(e){for(var t=e.preset,a=JSON.parse(JSON.stringify(e.weights)),r=[],i=0;i<a.length;i++){var o=a[i],s=e.presets[i],c=(0,n.buildAttribute)(s);c.onlyScore=!0,o.isBonus&&(c.bonus+=.05),e.calculator.get(c);var u=100*(c.score/e.dataScore-1);u>.05&&(o.text=u.toFixed(2),r.push(o))}if(e.calculator.convert){var l=Number(e.preset.tResult.text),d=(0,n.buildAttribute)(e.convertPresets[0]);d.onlyScore=!0,e.calculator.get(d);var f=d.score,v=(0,n.buildAttribute)(e.convertPresets[1]);v.onlyScore=!0,e.calculator.get(v);var h=v.score,p=(0,n.buildAttribute)(e.convertPresets[2]);p.onlyScore=!0,e.calculator.get(p);var g=p.score,x=100*(h/f-1),b=100*(g/f-1),m=[x,b],_=0,S=1;x>b&&(_=1,S=0);var w=e.convertTag[_]*(m[_]/m[S]-1),E=l+w;"shanhugongxinhai"!=e.preset.cId?e.preset.tResult.note+=" | ":e.preset.tResult.note="",e.preset.tResult.note+="词条："+e.preset.tResult.text,e.preset.tResult.text=E.toFixed(1),e.preset.tResult.rightText="折算 "+E.toFixed(1)}else e.preset.tResult.rightText="词条 "+e.preset.tResult.text;r.sort((function(e,t){return t.text-e.text})),t.weights=r};var i=r(a("b85c"));a("e9c4"),a("c975"),a("d81d"),a("14d9"),a("99af"),a("fb6a"),a("a9e3"),a("4e82");var n=a("149f"),o=a("175e"),s=a("7a53"),c=a("03ea"),u=a("b209"),l=a("e194"),d=a("0d89");function f(e){var t,a=e.attribute,r=e.preset.output,n=!0,o=[],s=(0,i.default)(r[0]);try{for(s.s();!(t=s.n()).done;){var c=t.value;6==c&&(n=!1);var u=0,l="";switch(c){case 0:u=a.life().toFixed(0),l="生";break;case 1:u=a.atk().toFixed(0),l="攻";break;case 2:u=a.defend().toFixed(0),l="防";break;case 3:u=(100*a.em).toFixed(0),l="精";break;case 4:u=(100*a.critical).toFixed(0),l="暴";break;case 5:u=(100*a.criticalDamage).toFixed(0),l="爆";break;case 6:u=(100*a.recharge).toFixed(0),l="充";break;default:break}o.push(u+l)}}catch(v){s.e(v)}finally{s.f()}a.recharge>1&&n&&o.push((100*a.recharge).toFixed(0)+"充");var d=o.join(" /"),f=d;return f}}).call(this,a("5a52")["default"])},1205:function(e,t,a){var r=a("24fb");t=r(!1),t.push([e.i,'@charset "UTF-8";\n/* 水平间距 */\n/* 水平间距 */.uni-list[data-v-e07ee5ea]{display:flex;background-color:#fff;position:relative;flex-direction:column}.uni-list--border[data-v-e07ee5ea]{position:relative;z-index:-1}.uni-list--border-top[data-v-e07ee5ea]{position:absolute;top:0;right:0;left:0;height:1px;-webkit-transform:scaleY(.5);transform:scaleY(.5);background-color:#e5e5e5;z-index:1}.uni-list--border-bottom[data-v-e07ee5ea]{position:absolute;bottom:0;right:0;left:0;height:1px;-webkit-transform:scaleY(.5);transform:scaleY(.5);background-color:#e5e5e5}',""]),e.exports=t},1291:function(e,t,a){"use strict";a.r(t);var r=a("6b9d"),i=a.n(r);for(var n in r)["default"].indexOf(n)<0&&function(e){a.d(t,e,(function(){return r[e]}))}(n);t["default"]=i.a},"1dfd":function(e,t,a){var r=a("24fb");t=r(!1),t.push([e.i,".content[data-v-d83b913c]{\n\t\t/* height: 50px; */width:100%;max-width:500px;position:relative;display:block;margin-left:auto;margin-right:auto;box-sizing:border-box;font-size:18px;text-align:center;text-decoration:none;line-height:3;color:#fff\n\t\t/* background-color: #ad9388; */}.bottom-view[data-v-d83b913c]{\n\t\t/* background-color: #ad9388; */height:calc(env(safe-area-inset-bottom)/2)}\n\n\t/* \t.height-set {\n\n\t\theight: 100px;\n\t} */.button-bottom-view[data-v-d83b913c]{\n\t\t/* background-color: #ad9388; */display:flex;flex-direction:column;position:fixed;left:0;right:0;\nleft:var(--window-left);right:var(--window-right);\nbottom:0;z-index:998}",""]),e.exports=t},"3cef":function(e,t,a){"use strict";a.r(t);var r=a("90b7"),i=a.n(r);for(var n in r)["default"].indexOf(n)<0&&function(e){a.d(t,e,(function(){return r[e]}))}(n);t["default"]=i.a},"3d37":function(e,t,a){"use strict";a.r(t);var r=a("444b"),i=a.n(r);for(var n in r)["default"].indexOf(n)<0&&function(e){a.d(t,e,(function(){return r[e]}))}(n);t["default"]=i.a},"3d92":function(e,t,a){"use strict";a.r(t);var r=a("6bb3"),i=a("689e");for(var n in i)["default"].indexOf(n)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(n);a("fce2");var o=a("f0c5"),s=Object(o["a"])(i["default"],r["b"],r["c"],!1,null,"44c0d81e",null,!1,r["a"],void 0);t["default"]=s.exports},"444b":function(e,t,a){"use strict";a("7a82"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={props:{text:{type:String,default:"保存"},color:{type:String,default:"#ad9388"}},data:function(){return{}},methods:{onClick:function(){this.$emit("click",{data:{}})}}};t.default=r},"526e":function(e,t,a){var r=a("a5c4");r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var i=a("4f06").default;i("13158881",r,!0,{sourceMap:!1,shadowMode:!1})},6828:function(e,t,a){"use strict";var r=a("e387"),i=a.n(r);i.a},"689e":function(e,t,a){"use strict";a.r(t);var r=a("e7a4"),i=a.n(r);for(var n in r)["default"].indexOf(n)<0&&function(e){a.d(t,e,(function(){return r[e]}))}(n);t["default"]=i.a},"6b9d":function(e,t,a){"use strict";a("7a82"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={name:"uniList","mp-weixin":{options:{multipleSlots:!1}},props:{enableBackToTop:{type:[Boolean,String],default:!1},scrollY:{type:[Boolean,String],default:!1},border:{type:Boolean,default:!0}},created:function(){this.firstChildAppend=!1},methods:{loadMore:function(e){this.$emit("scrolltolower")}}};t.default=r},"6bb3":function(e,t,a){"use strict";a.d(t,"b",(function(){return r})),a.d(t,"c",(function(){return i})),a.d(t,"a",(function(){}));var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-uni-view",{staticClass:"uni-card",class:{"uni-card--full":e.isFull,"uni-card--shadow":e.isShadow,"uni-card--border":e.border},style:{margin:e.isFull?0:e.margin,padding:e.spacing,"box-shadow":e.isShadow?e.shadow:""}},[e._t("cover",[e.cover?a("v-uni-view",{staticClass:"uni-card__cover"},[a("v-uni-image",{staticClass:"uni-card__cover-image",attrs:{mode:"widthFix",src:e.cover},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.onClick("cover")}}})],1):e._e()]),e._t("title",[e.title||e.extra?a("v-uni-view",{staticClass:"uni-card__header"},[a("v-uni-view",{staticClass:"uni-card__header-box",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.onClick("title")}}},[e.thumbnail?a("v-uni-view",{staticClass:"uni-card__header-avatar"},[a("v-uni-image",{staticClass:"uni-card__header-avatar-image",attrs:{src:e.thumbnail,mode:"aspectFit"}})],1):e._e(),a("v-uni-view",{staticClass:"uni-card__header-content"},[a("v-uni-text",{staticClass:"uni-card__header-content-title uni-ellipsis"},[e._v(e._s(e.title))]),e.title&&e.subTitle?a("v-uni-text",{staticClass:"uni-card__header-content-subtitle uni-ellipsis"},[e._v(e._s(e.subTitle))]):e._e()],1)],1),a("v-uni-view",{staticClass:"uni-card__header-extra",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.onClick("extra")}}},[a("v-uni-text",{staticClass:"uni-card__header-extra-text"},[e._v(e._s(e.extra))])],1)],1):e._e()]),a("v-uni-view",{staticClass:"uni-card__content",style:{padding:e.padding},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.onClick("content")}}},[e._t("default")],2),a("v-uni-view",{staticClass:"uni-card__actions",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.onClick("actions")}}},[e._t("actions")],2)],2)},i=[]},"748d":function(e,t,a){"use strict";a.d(t,"b",(function(){return r})),a.d(t,"c",(function(){return i})),a.d(t,"a",(function(){}));var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-uni-view",[a("v-uni-view",{staticStyle:{height:"100px"}}),a("v-uni-view",{staticClass:"button-bottom-view",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.onClick.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"content",style:{backgroundColor:e.color}},[e._v(e._s(e.text))]),a("v-uni-view",{staticClass:"bottom-view",style:{backgroundColor:e.color}})],1)],1)},i=[]},"84b3":function(e,t,a){var r=a("1205");r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var i=a("4f06").default;i("445af795",r,!0,{sourceMap:!1,shadowMode:!1})},"90b7":function(e,t,a){"use strict";(function(e){a("7a82");var r=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("c975"),a("e9c4"),a("14d9"),a("c740"),a("4de4"),a("d3b7");var i=r(a("ade3")),n=r(a("b85c")),o=r(a("5530")),s=a("fedd"),c=a("4432"),u=a("26cb"),l={data:function(){return{eleNum:0,percentages:[0,0,0,0,0,0,0,0,0,0],disbaleObj:{},index:0,resonances:[],options:[],effectsArr:[[]],charactersData:{},closedObj:{},temp:{},names:[],presets:[],effectTextArrs:[],effects:[],openBuffs:{}}},computed:(0,o.default)({},(0,u.mapState)(["buffs","preset","selectIds","character","version"])),onUnload:function(){uni.$off("presetChanged")},onLoad:function(){this.temp=(0,o.default)({},this.preset);var e=uni.getStorageSync("ys-config-buffs");e||(e=[{id:0,title:"仙跳墙",note:"攻击力316、暴击10%",data:[{key:"atkp",value:316,text:"316",text2:"",title:"攻击力",index:2},{key:"addCrit",value:.1,text:"10",text2:"%",title:"暴击",func:!0,index:7}]}]),this.$store.commit("initBuffs",e),this.charactersData=c.charactersData;var t=this;t.initData(),uni.$on("presetChanged",(function(){t.initData(),t.$forceUpdate()}))},methods:{addBuff:function(e){var t,a=this.buffs[e],r=String(null!==(t=a.id)&&void 0!==t?t:"0");this.openBuffs[r]?this.openBuffs[r]=void 0:this.openBuffs[r]=a},showBuff:function(e){if(this.buffIds){var t=this.buffIds.indexOf(e.id)>-1;return e.close=!t,t}return!e.close},toList:function(){uni.navigateTo({url:"/package/pages/character/buff/list"})},closeEffect:function(e){e.close?e.close=!e.close:e.close=!0},initPreset:function(e){var t=this;uni.showLoading({title:"初始化中..",mask:!0}),setTimeout((function(){(0,s.startCalculate)(e),t.$store.commit("storePreset",e),t.initData(),uni.hideLoading()}),2e3)},toDetail:function(e){this.$store.commit("backupPreset"),this.$store.commit("setPreset",e),uni.navigateTo({url:"./property?from=effect"})},save:function(){var t,a={},r=this.percentages,i=[],o=(0,n.default)(this.resonances);try{for(o.s();!(t=o.n()).done;){var c=t.value;a[c.id]=c}}catch(Y){o.e(Y)}finally{o.f()}var u,l=(0,n.default)(this.options);try{for(l.s();!(u=l.n()).done;){var d=u.value;d.close||(a[d.id]=d)}}catch(Y){l.e(Y)}finally{l.f()}var f,v=(0,n.default)(this.effectsArr);try{for(v.s();!(f=v.n()).done;){var h,p=f.value,g=(0,n.default)(p);try{for(g.s();!(h=g.n()).done;){var x=h.value;if(!x.close){var b=a[x.id];b?x.many?b.value+=x.value:x.value>b.value&&(a[x.id]=x):a[x.id]=x}}}catch(Y){g.e(Y)}finally{g.f()}}}catch(Y){v.e(Y)}finally{v.f()}for(var m in a){var _=a[m];if(_.dynamic){var S=JSON.parse(JSON.stringify(_));i.push(S)}if(_.index&&(r[_.index]+=_.value),"ranse"==m){var w=this.presets[1];if(w){var E=w.element,y=["fire","water","ice","thunder"].indexOf(E);if(y>-1){var T=["火","水","冰","雷"];a[m].value={eleText:T[y],ele:E},a[m].text=T[y],a[m].title="大招染色"}}}}for(var C=0,N=i;C<N.length;C++){var D=N[C],A=D.dynamic;if("yunjinQ"==D.id){var R=[.025,.05,.075,.115][this.eleNum-1]-.025;e.log(R),D.value=(r[A.index]*A.base+A.def)*(A.skill+R)}else if("naxidaT"==D.id){var M,k=A.em,I=!0,O=(0,n.default)(this.presets);try{for(O.s();!(M=O.n()).done;){var P=M.value;"naxida"!=P.cId&&P.cData&&P.cData.em>k&&(k=P.cData.em,I=!1)}}catch(Y){O.e(Y)}finally{O.f()}var B=r[A.index];if(I){var F=this.presets.findIndex((function(e){return"naxida"==e.cId})),H=void 0;if(F&&(H=this.presets[F]),H){var L=H.effects.findIndex((function(e){return"qianyefumeng"==e.id}));L>-1&&(B-=H.effects[L].value)}}var J=k+B;D.value=Math.min(.25*J,2.5)}else{var j=r[A.index]*A.base*A.skill;D.value+=j}a[D.id]=D}var U=[];for(var $ in this.openBuffs)this.openBuffs[$]&&U.push(this.openBuffs[$]);U.length>0?(this.temp.openBuffs=U,this.names.push("派蒙")):this.temp.openBuffs=[],this.temp.gContent=this.names.join(" /"),this.temp.gEffects=a,this.temp.isGoup=!0,this.temp.gIds=this.selectIds,(0,s.startCalculate)(this.temp),this.$store.commit("storePreset",this.temp),this.$store.commit("setPreset",this.temp),uni.navigateBack({delta:2})},initData:function(){this.eleNum=0,this.percentages=[0,0,0,0,0,0,0,0,0,0],this.effectsArr=[],this.presets=[],this.resonances=[],this.options=[],this.names=[],uni.showLoading({});for(var e={fire:0,rock:0,wind:0,ice:0,thunder:0,water:0,grass:0},t=0;t<this.selectIds.length;t++){var a=this.selectIds[t],r=(0,s.getPreset)(a);if(0==t){var n=r.effects.filter((function(e){return e.type<2&&!e.own}));this.effectsArr.push(n)}else{var o=r.effects.filter((function(e){return e.type>0}));this.effectsArr.push(o)}this.presets.push(r);var c=r.element;e[c]+=1,1==e[c]&&(this.eleNum+=1),this.names.push(this.charactersData[a].chs+r.cStage)}"naxida"==this.temp.cId&&(this.temp.gData={fireNum:e.fire}),"yelan"==this.temp.cId&&(this.temp.gData={eleNum:this.eleNum}),e.fire>1&&(this.percentages[1]+=.25,this.resonances.push({id:"shuanghuo",title:"共鸣 - 双火",text:"攻击力提升25%"})),e.water>1&&(this.percentages[0]+=.25,this.resonances.push({id:"shuangshui",title:"共鸣 - 双水",text:"生命值提高25%"})),e.grass>1&&(this.percentages[3]+=.5,this.resonances.push({id:"shuangcao1",title:"共鸣 - 双草",text:"精通提升50"}),this.options.push((0,i.default)({index:3,value:.3,id:"shuangcao2",title:"共鸣 - 双草（燃烧/激化/绽放）",text:"精通提升30"},"index",3)),this.options.push((0,i.default)({index:3,value:.2,id:"shuangcao3",title:"共鸣 - 双草（超、蔓激化/超、烈绽放）",text:"精通提升20"},"index",3))),e.ice>1&&this.options.push({id:"shuangbing",title:"共鸣 - 双冰",text:"暴击率提升15%"}),e.rock>1&&(this.resonances.push({id:"shuangyan3",title:"共鸣 - 双岩（护盾）",text:"护盾强效提升15%"}),this.options.push({id:"shuangyan",title:"共鸣 - 双岩（增伤）",text:"伤害增加15%"}),this.options.push({id:"shuangyan2",title:"共鸣 - 双岩（减抗）",text:"目标岩元素抗性降低20%"})),e.ice>0&&e.thunder>0&&this.options.push({id:"chaodao",title:"效果 - 超导",text:"目标物理抗性降低40%"}),uni.hideLoading({})}}};t.default=l}).call(this,a("5a52")["default"])},a5c4:function(e,t,a){var r=a("24fb");t=r(!1),t.push([e.i,'@charset "UTF-8";\n/* 水平间距 */\n/* 水平间距 */.uni-card[data-v-44c0d81e]{margin:10px;padding:0 8px;border-radius:4px;overflow:hidden;font-family:Helvetica Neue,Helvetica,PingFang SC,Hiragino Sans GB,Microsoft YaHei,SimSun,sans-serif;background-color:#fff;flex:1}.uni-card .uni-card__cover[data-v-44c0d81e]{position:relative;margin-top:10px;flex-direction:row;overflow:hidden;border-radius:4px}.uni-card .uni-card__cover .uni-card__cover-image[data-v-44c0d81e]{flex:1;vertical-align:middle}.uni-card .uni-card__header[data-v-44c0d81e]{display:flex;border-bottom:1px #dcdcdc solid;flex-direction:row;align-items:center;padding:10px;overflow:hidden}.uni-card .uni-card__header .uni-card__header-box[data-v-44c0d81e]{display:flex;flex:1;flex-direction:row;align-items:center;overflow:hidden}.uni-card .uni-card__header .uni-card__header-avatar[data-v-44c0d81e]{width:40px;height:40px;overflow:hidden;border-radius:5px;margin-right:10px}.uni-card .uni-card__header .uni-card__header-avatar .uni-card__header-avatar-image[data-v-44c0d81e]{flex:1;width:40px;height:40px}.uni-card .uni-card__header .uni-card__header-content[data-v-44c0d81e]{display:flex;flex-direction:column;justify-content:center;flex:1;overflow:hidden}.uni-card .uni-card__header .uni-card__header-content .uni-card__header-content-title[data-v-44c0d81e]{font-size:15px;color:#3a3a3a}.uni-card .uni-card__header .uni-card__header-content .uni-card__header-content-subtitle[data-v-44c0d81e]{font-size:12px;margin-top:5px;color:#909399}.uni-card .uni-card__header .uni-card__header-extra[data-v-44c0d81e]{line-height:12px}.uni-card .uni-card__header .uni-card__header-extra .uni-card__header-extra-text[data-v-44c0d81e]{font-size:12px;color:#909399}.uni-card .uni-card__content[data-v-44c0d81e]{padding:10px;font-size:14px;color:#6a6a6a;line-height:22px}.uni-card .uni-card__actions[data-v-44c0d81e]{font-size:12px}.uni-card--border[data-v-44c0d81e]{border:1px solid #dcdcdc}.uni-card--shadow[data-v-44c0d81e]{position:relative;box-shadow:0 1px 8px 1px hsla(0,0%,64.7%,.2)}.uni-card--full[data-v-44c0d81e]{margin:0;border-left-width:0;border-left-width:0;border-radius:0}.uni-card--full[data-v-44c0d81e]:after{border-radius:0}.uni-ellipsis[data-v-44c0d81e]{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}',""]),e.exports=t},aade:function(e,t,a){"use strict";(function(e){a("7a82");var r=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.getBestTag=function(t){var r,o=t.preset,s=Number(o.adapt.total),c=["hp","atk","def","em","cr","cd","er","cu","eb","eb"],u=[],l=(0,i.default)(o.output[0]);try{for(l.s();!(r=l.n()).done;){var d=r.value;u.push(c[d])}}catch(S){l.e(S)}finally{l.f()}for(var f=a("00d0"),v={},h=o.adapt.method,p=0;p<o.adapt.min.length;p++){var g=o.adapt.min[p];g&&g>0&&(v[c[p]]=[g,100])}var x=JSON.parse(JSON.stringify(o));x.aConfigs=null;var b=o.adapt.max?Number(o.adapt.max)+18:18;e.log(b);try{Date.now();var m=f.maximize((function(e){var a=e.cr+e.cd;if(a>b)return 0;var r=JSON.parse(JSON.stringify(x)),i=r.cPanel;r.aMinor[0]=(.05*e.hp+i["HP_PERCENT"][1])*i["HP"][0]+i["HP"][1],r.aMinor[1]=(.05*e.atk+i["ATTACK_PERCENT"][1])*i["ATTACK"][0]+i["ATTACK"][1],r.aMinor[2]=(.062*e.def+i["DEFENSE_PERCENT"][1])*i["DEFENSE"][0],r.aMinor[3]=20*e.em+100*i["ELEMENT_MASTERY"][1],r.aMinor[4]=3.3*e.cr+100*i["CRITICAL"][1],r.aMinor[5]=6.6*e.cd+100*i["CRITICAL_HURT"][1],r.aMinor[6]=5.5*e.er+100*i["CHARGE_EFFICIENCY"][1];var s={};return s=h[0]>0&&o.gResult?(0,n.buildGroupAttribute)(r):(0,n.buildAttribute)(r),t.calculator.get(s),Number(s.score)}),s,["eb"],u,v,["BruteTwice","NelderMeadBrute","Brute"][h[1]]),_=(Date.now(),m.statBest);t.preset.tagNum=[_.hp,_.atk,_.def,_.em,_.cr,_.cd,_.er],e.log(_)}catch(w){e.error(w)}};var i=r(a("b85c"));a("a9e3"),a("e9c4"),a("14d9");var n=a("149f")}).call(this,a("5a52")["default"])},add1:function(e,t,a){"use strict";a.r(t);var r=a("bb28"),i=a("1291");for(var n in i)["default"].indexOf(n)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(n);a("c286");var o=a("f0c5"),s=Object(o["a"])(i["default"],r["b"],r["c"],!1,null,"e07ee5ea",null,!1,r["a"],void 0);t["default"]=s.exports},b123:function(e,t,a){"use strict";a.d(t,"b",(function(){return i})),a.d(t,"c",(function(){return n})),a.d(t,"a",(function(){return r}));var r={uniCard:a("3d92").default,uniList:a("add1").default,uniListItem:a("6e18").default,buttonBarBottom:a("e265").default},i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-uni-view",[a("uni-card",{attrs:{margin:"20px"}},[a("v-uni-view",[e._v("队友增益说明：")]),a("v-uni-view",[e._v("1、所有增益都是开关，可以自行设置是否启用。")]),a("v-uni-view",[e._v("2、无法读展示柜的角色信息，需要将角色信息保存到本地才能读取。")])],1),e._l(e.presets,(function(t,r){return a("uni-card",{key:t.cId,attrs:{margin:"20px",padding:"0",spacing:"0"}},[t.cNote?a("uni-list",[0==r?a("v-uni-view",[a("uni-list-item",{attrs:{"thumb-size":"lg",thumb:e.charactersData[t.cId].avatar,title:t.cNote,note:t.eNote}}),e._l(e.resonances,(function(e,t){return a("uni-list-item",{key:e.title,attrs:{title:e.title,note:e.text}})})),e._l(e.options,(function(t,r){return a("uni-list-item",{key:t.title,attrs:{showSwitch:"true",switchChecked:"true",title:t.title,note:t.text},on:{switchChange:function(a){arguments[0]=a=e.$handleEvent(a),e.closeEffect(t)}}})}))],2):a("uni-list-item",{attrs:{"thumb-size":"lg",clickable:!0,thumb:e.charactersData[t.cId].avatar,title:t.cNote,note:t.eNote,rightText:"配置",showArrow:!0},on:{click:function(a){arguments[0]=a=e.$handleEvent(a),e.toDetail(t)}}}),e._l(e.effectsArr[r],(function(t,r){return a("uni-list-item",{key:r,attrs:{showSwitch:!0,switchChecked:!t.close,clickable:!0,title:t.title,note:t.text},on:{switchChange:function(a){arguments[0]=a=e.$handleEvent(a),e.closeEffect(t)}}})}))],2):a("uni-list-item",{attrs:{"thumb-size":"lg",clickable:!0,thumb:e.charactersData[t.cId].avatar,title:"未初始化，无法读取增益",rightText:"初始化",showArrow:!0},on:{click:function(a){arguments[0]=a=e.$handleEvent(a),e.initPreset(t)}}})],1)})),a("uni-card",{attrs:{margin:"20px",padding:"0",spacing:"0"}},[a("uni-list-item",{attrs:{"thumb-size":"lg",thumb:"https://vkceyugu.cdn.bspapp.com/VKCEYUGU-79e44238-f896-4f4e-8e1a-2cb2d1958cdb/b34b7663-cc2c-4ed7-8a16-d3e7bb8fc1c0.png",title:"派蒙",note:"自定义增益效果",rightText:"编辑",showArrow:!0,clickable:!0},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.toList()}}}),e._l(e.buffs,(function(t,r){return a("uni-list-item",{key:r,attrs:{showSwitch:!0,title:t.title,note:t.note},on:{switchChange:function(t){arguments[0]=t=e.$handleEvent(t),e.addBuff(r)}}})}))],2),a("button-bar-bottom",{attrs:{text:"保存"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.save()}}})],2)},n=[]},b1a2:function(e,t,a){var r=a("24fb");t=r(!1),t.push([e.i,".image[data-v-26bbfebd]{width:%?130?%;height:%?130?%;border-radius:%?8?%}.text[data-v-26bbfebd]{text-align:center;font-size:%?26?%;margin-top:%?10?%;color:#333}.uni-grid-item[data-v-26bbfebd]{height:auto!important}.grid-item-box[data-v-26bbfebd]{flex:1;\ndisplay:flex;\nflex-direction:column;align-items:center;justify-content:center;padding:%?40?% 0 0 0;margin:%?8?%;border-radius:%?8?%}",""]),e.exports=t},b209:function(e,t,a){"use strict";a("7a82"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.getColor=function(e){var t=e/25;t<0&&(t=0);t>4&&(t=4);return r[Math.floor(t)]};t.default=["rgb(125,127,131)","rgb(108,168,139)","rgb(86,155,175)","rgb(177,135,195)","rgb(211,159,81)"];var r=["rgb(125,127,131)","rgb(108,168,139)","rgb(86,155,175)","rgb(177,135,195)","rgb(211,159,81)"]},bb28:function(e,t,a){"use strict";a.d(t,"b",(function(){return r})),a.d(t,"c",(function(){return i})),a.d(t,"a",(function(){}));var r=function(){var e=this.$createElement,t=this._self._c||e;return t("v-uni-view",{staticClass:"uni-list uni-border-top-bottom"},[this.border?t("v-uni-view",{staticClass:"uni-list--border-top"}):this._e(),this._t("default"),this.border?t("v-uni-view",{staticClass:"uni-list--border-bottom"}):this._e()],2)},i=[]},bcee:function(e,t,a){"use strict";var r=a("e52b"),i=a.n(r);i.a},c286:function(e,t,a){"use strict";var r=a("84b3"),i=a.n(r);i.a},c489:function(e,t,a){"use strict";a.r(t);var r=a("b123"),i=a("3cef");for(var n in i)["default"].indexOf(n)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(n);a("6828");var o=a("f0c5"),s=Object(o["a"])(i["default"],r["b"],r["c"],!1,null,"26bbfebd",null,!1,r["a"],void 0);t["default"]=s.exports},e265:function(e,t,a){"use strict";a.r(t);var r=a("748d"),i=a("3d37");for(var n in i)["default"].indexOf(n)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(n);a("bcee");var o=a("f0c5"),s=Object(o["a"])(i["default"],r["b"],r["c"],!1,null,"d83b913c",null,!1,r["a"],void 0);t["default"]=s.exports},e387:function(e,t,a){var r=a("b1a2");r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var i=a("4f06").default;i("b09f9c7a",r,!0,{sourceMap:!1,shadowMode:!1})},e52b:function(e,t,a){var r=a("1dfd");r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var i=a("4f06").default;i("1143f6dc",r,!0,{sourceMap:!1,shadowMode:!1})},e7a4:function(e,t,a){"use strict";a("7a82"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={name:"UniCard",emits:["click"],props:{title:{type:String,default:""},subTitle:{type:String,default:""},padding:{type:String,default:"10px"},margin:{type:String,default:"15px"},spacing:{type:String,default:"0 10px"},extra:{type:String,default:""},cover:{type:String,default:""},thumbnail:{type:String,default:""},isFull:{type:Boolean,default:!1},isShadow:{type:Boolean,default:!0},shadow:{type:String,default:"0px 0px 3px 1px rgba(0, 0, 0, 0.08)"},border:{type:Boolean,default:!0}},methods:{onClick:function(e){this.$emit("click",e)}}};t.default=r},fce2:function(e,t,a){"use strict";var r=a("526e"),i=a.n(r);i.a},fedd:function(e,t,a){"use strict";(function(e){a("7a82");var r=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.createPreset=function(e){var t=f.charactersData[e];return h(t)},t.getPreset=function(t){var a=f.charactersData[t],r=uni.getStorageSync(t);return r?(r.version&&v==r.version||(p(r),e.log("刷新！！"),uni.setStorageSync(r.cId,r)),r):h(a)},t.initPreset=h,t.startCalculate=p,t.version=void 0,a("e9c4"),a("c975"),a("14d9");var i=r(a("5530")),n=a("0b7e"),o=a("175e"),s=a("aade"),c=a("433a"),u=a("7a53"),l=a("e194"),d=a("0d89"),f=a("4432"),v="2022年8月24日 15:37:17";function h(e,t){var a,r=t||e.name;"kong"==r&&(r="traveller");var n=e.element,o=null!==(a=c.characterDamage[r])&&void 0!==a?a:c.characterDamage[e.name];"traveller"==r&&(n=o.element);var s={cId:e.name,element:n,id:Date.now(),name:"默认预设",cSkills:[8,8,8],cLevel:90,wLevel:90,cAscend:!1,wAscend:!1,effects:[],isAdapt:void 0,type:0,reactionText:""};4==e.star&&(s.cSkills=[8,11,11]);var u=d.weaponsData[o.preset.wId];s.wStage=5==u.star?0:4,s.cStage=5==e.star?0:6;var l=(0,i.default)((0,i.default)({},s),o.preset);return l.aTagToMinor=!0,l}function p(t){var a,r,i,h=f.charactersData[t.cId];t.school||(t.school={name:"默认",score:!0,reaction:0});var p=t.school.id;p&&(i=c.characterDamage[p]),i||(i=c.characterDamage[t.cId]);var g=d.weaponsData[t.wId];t.element=i.element?i.element:h.element,t.energy=h.energy,t.wType=g.type,t.wName=g.chs,t.version=v,t.school.stage&&t.cStage<t.school.stage&&(t.cStage=t.school.stage);var x=[];if(x=i.output?JSON.parse(JSON.stringify(i.output)):h.output?JSON.parse(JSON.stringify(h.output)):[[1,4,5]],void 0==t.school.reaction&&h.schools){var b=h.schools[0];b.reaction||(b.reaction=0),t.school=b}if(t.school.reaction>0&&x[0].indexOf(3)<0&&x[0].push(3),"5jueyuan"!=t.aIds[0]||t.aSets||x[0].indexOf(6)<0&&x[0].push(6),!t.school.tagNum){var m=x[0],_=[0,0,0,0,0,0,0],S=m.length;if(-1==m.indexOf(5)){for(var w=0;w<S;w++){var E=m[w];_[E]=0==w?9:1==w?4:3}_[m[0]]=9,_[m[1]]=4}else for(w=0;w<S;w++){var y=m[w];_[y]=4==y||5==y?9:0==w?4:3}t.school.tagNum=_,e.log("初始化默认词条："+_)}if(t.tagNum||1!=t.aTagToMinor||(t.tagNum=JSON.parse(JSON.stringify(t.school.tagNum)),t.isAdapt=!0,t.adapt={type:0,limit:1,method:[0,0,0],total:24,min:[],max:0},e.log("重置当前词条："+t.tagNum)),t.output=x,t.wIndexs||(g.forceOption&&g.forceOption[t.cId]?t.wIndexs=g.forceOption[t.cId]:t.wIndexs=g.indexs),!t.aIndexs&&!t.aSets){var T=l.artifactsData[t.aIds[0]];T.forceOption&&T.forceOption[t.cId]?t.aIndexs=T.forceOption[t.cId]:t.aIndexs=T.indexs}t.cPanel||(t.cPanel={HP:[0,0],HP_PERCENT:[0,0],ATTACK:[0,0],ATTACK_PERCENT:[0,0],DEFENSE:[0,0],DEFENSE_PERCENT:[0,0],FIRE_ADD_HURT:[0,0],ICE_ADD_HURT:[0,0],ROCK_ADD_HURT:[0,0],ELEC_ADD_HURT:[0,0],WIND_ADD_HURT:[0,0],WATER_ADD_HURT:[0,0],GRASS_ADD_HURT:[0,0],PHYSICAL_ADD_HURT:[0,0],HEAL_ADD:[0,0],ELEMENT_MASTERY:[0,0],CRITICAL:[0,0],CRITICAL_HURT:[0,0],CHARGE_EFFICIENCY:[0,0]}),t.uid||(0,o.getMajorData)(t);var C={character:h,preset:t,calculator:i,weapon:g};t.calNotes=null!==(a=i.notes)&&void 0!==a?a:void 0,t.calVersion=null!==(r=i.version)&&void 0!==r?r:void 0,(0,o.getBaseData)(C),t.isAdapt&&0!=t.adapt.type&&((0,s.getBestTag)(C),e.log("自动计算最优")),(0,u.convertMinor)(t),(0,n.getBaseScore)(C),(0,n.getGroupScore)(C),(0,n.getDataScore)(C),(0,n.getTagScore)(C),(0,n.getWeightScore)(C),(0,n.getGWeightScore)(C)}t.version=v}).call(this,a("5a52")["default"])}}]);