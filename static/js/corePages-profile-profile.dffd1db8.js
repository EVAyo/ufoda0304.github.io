(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["corePages-profile-profile"],{"03667":function(t,e,n){var i=n("24fb");e=i(!1),e.push([t.i,'@charset "UTF-8";\n/* 水平间距 */\n/* 水平间距 */.uni-easyinput[data-v-0c5cc850]{width:100%;flex:1;position:relative;text-align:left;color:#333;font-size:14px}.uni-easyinput__content[data-v-0c5cc850]{flex:1;width:100%;display:flex;box-sizing:border-box;flex-direction:row;align-items:center;border-color:#fff;transition-property:border-color;transition-duration:.3s}.uni-easyinput__content-input[data-v-0c5cc850]{width:auto;position:relative;overflow:hidden;flex:1;line-height:1;font-size:14px;height:35px}.uni-easyinput__placeholder-class[data-v-0c5cc850]{color:#999;font-size:12px}.is-textarea[data-v-0c5cc850]{align-items:flex-start}.is-textarea-icon[data-v-0c5cc850]{margin-top:5px}.uni-easyinput__content-textarea[data-v-0c5cc850]{position:relative;overflow:hidden;flex:1;line-height:1.5;font-size:14px;margin:6px;margin-left:0;height:80px;min-height:80px;min-height:80px;width:auto}.input-padding[data-v-0c5cc850]{padding-left:10px}.content-clear-icon[data-v-0c5cc850]{padding:0 5px}.label-icon[data-v-0c5cc850]{margin-right:5px;margin-top:-1px}.is-input-border[data-v-0c5cc850]{display:flex;box-sizing:border-box;flex-direction:row;align-items:center;border:1px solid #f0f0f0;border-radius:4px}.uni-error-message[data-v-0c5cc850]{position:absolute;bottom:-17px;left:0;line-height:12px;color:#e43d33;font-size:12px;text-align:left}.uni-error-msg--boeder[data-v-0c5cc850]{position:relative;bottom:0;line-height:22px}.is-input-error-border[data-v-0c5cc850]{border-color:#e43d33}.is-input-error-border .uni-easyinput__placeholder-class[data-v-0c5cc850]{color:#f29e99}.uni-easyinput--border[data-v-0c5cc850]{margin-bottom:0;padding:10px 15px;border-top:1px #eee solid}.uni-easyinput-error[data-v-0c5cc850]{padding-bottom:0}.is-first-border[data-v-0c5cc850]{border:none}.is-disabled[data-v-0c5cc850]{background-color:#f7f6f6;color:#d5d5d5}.is-disabled .uni-easyinput__placeholder-class[data-v-0c5cc850]{color:#d5d5d5;font-size:12px}',""]),t.exports=e},"0589":function(t,e,n){"use strict";var i;n.d(e,"b",(function(){return r})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){return i}));var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-text",[t._v(t._s(t.dateShow))])},a=[]},"1e25":function(t,e,n){"use strict";var i=n("23e7"),r=n("58a8").end,a=n("c8d2"),o=a("trimEnd"),s=o?function(){return r(this)}:"".trimEnd;i({target:"String",proto:!0,forced:o},{trimEnd:s,trimRight:s})},"23dd":function(t,e,n){"use strict";n.r(e);var i=n("d664"),r=n.n(i);for(var a in i)"default"!==a&&function(t){n.d(e,t,(function(){return i[t]}))}(a);e["default"]=r.a},2414:function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){return i}));var i={uniCard:n("84b5").default,uniEasyinput:n("a259").default,uniSection:n("e405").default,uniDateformat:n("4c93").default,uniListItem:n("8447").default,uniIcons:n("26bc").default},r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",[n("uni-card",{attrs:{padding:"7px"}},[n("v-uni-view",{staticStyle:{margin:"20px 0px"}},[t._v("说明：通过https://enka.shinshin.moe/提供的接口进行查询获得游戏中的展示柜数据，需要游戏里打开相关选项，更新时间为5分钟。\n\n\t\t\t如果遇到网络等问题，可以多次尝试。")]),n("v-uni-view",{staticStyle:{display:"flex","flex-direction":"row",margin:"15px 0px"}},[n("uni-easyinput",{attrs:{placeholder:"输入UID..."},model:{value:t.uid,callback:function(e){t.uid=e},expression:"uid"}}),n("v-uni-button",{staticStyle:{"margin-left":"20px","font-size":"13px"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.add()}}},[t._v("添加")])],1)],1),t._l(t.profileList,(function(e,i){return n("uni-card",{key:i,attrs:{margin:"16px",padding:"0",spacing:"0"}},[n("uni-section",{attrs:{type:"line",title:e.info.leftTitle},scopedSlots:t._u([{key:"extra",fn:function(){return[n("uni-dateformat",{staticStyle:{"font-size":"14px"},attrs:{date:e.info.rightText,threshold:[6e4,36e5]}})]},proxy:!0}],null,!0)}),n("uni-list-item",{attrs:{clickable:!0,"thumb-size":"lg",thumb:t.charactersData[e.info.avatarId].avatar,title:e.info.title,note:e.info.note},on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.load(e,i)}},scopedSlots:t._u([{key:"footer",fn:function(){return[n("v-uni-view",{staticStyle:{display:"flex","align-items":"center"}},[t.needRefresh(e)?n("uni-icons",{staticStyle:{"font-size":"20px"},attrs:{type:"refreshempty"}}):t._e()],1)]},proxy:!0}],null,!0)})],1)}))],2)},a=[]},"2bd9":function(t,e,n){"use strict";function i(t){var e="";for(var n in t){var i=t[n];i&&(e+="".concat(n," "))}return e}function r(t){var e="";for(var n in t){var i=t[n];e+="".concat(n,":").concat(i,";")}return e}n("99af"),n("a9e3"),n("ac1f"),n("5319"),n("498a"),n("1e25"),n("eee7"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={name:"uni-easyinput",emits:["click","iconClick","update:modelValue","input","focus","blur","confirm","clear","eyes","change"],model:{prop:"modelValue",event:"update:modelValue"},options:{virtualHost:!0},inject:{form:{from:"uniForm",default:null},formItem:{from:"uniFormItem",default:null}},props:{name:String,value:[Number,String],modelValue:[Number,String],type:{type:String,default:"text"},clearable:{type:Boolean,default:!0},autoHeight:{type:Boolean,default:!1},placeholder:{type:String,default:" "},placeholderStyle:String,focus:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},maxlength:{type:[Number,String],default:140},confirmType:{type:String,default:"done"},clearSize:{type:[Number,String],default:24},inputBorder:{type:Boolean,default:!0},prefixIcon:{type:String,default:""},suffixIcon:{type:String,default:""},trim:{type:[Boolean,String],default:!0},passwordIcon:{type:Boolean,default:!0},styles:{type:Object,default:function(){return{color:"#333",disableColor:"#F7F6F6",borderColor:"#e5e5e5"}}},errorMessage:{type:[String,Boolean],default:""}},data:function(){return{focused:!1,val:"",showMsg:"",border:!1,isFirstBorder:!1,showClearIcon:!1,showPassword:!1,focusShow:!1,localMsg:""}},computed:{isVal:function(){var t=this.val;return!(!t&&0!==t)},msg:function(){return this.localMsg||this.errorMessage},inputMaxlength:function(){return Number(this.maxlength)},boxStyle:function(){return"color:".concat(this.inputBorder&&this.msg?"#e43d33":this.styles.color,";")},inputContentClass:function(){return i({"is-input-border":this.inputBorder,"is-input-error-border":this.inputBorder&&this.msg,"is-textarea":"textarea"===this.type,"is-disabled":this.disabled})},inputContentStyle:function(){var t=this.focusShow?"#2979ff":this.styles.borderColor,e=this.inputBorder&&this.msg?"#dd524d":t;return r({"border-color":e||"#e5e5e5","background-color":this.disabled?this.styles.disableColor:"#fff"})},inputStyle:function(){var t="password"===this.type||this.clearable||this.prefixIcon?"":"10px";return r({"padding-right":t,"padding-left":this.prefixIcon?"":"10px"})}},watch:{value:function(t){this.val=t},modelValue:function(t){this.val=t},focus:function(t){var e=this;this.$nextTick((function(){e.focused=e.focus,e.focusShow=e.focus}))}},created:function(){var t=this;this.init(),this.form&&this.formItem&&this.$watch("formItem.errMsg",(function(e){t.localMsg=e}))},mounted:function(){var t=this;this.$nextTick((function(){t.focused=t.focus,t.focusShow=t.focus}))},methods:{init:function(){this.value||0===this.value?this.val=this.value:this.modelValue||0===this.modelValue?this.val=this.modelValue:this.val=null},onClickIcon:function(t){this.$emit("iconClick",t)},onEyes:function(){this.showPassword=!this.showPassword,this.$emit("eyes",this.showPassword)},onInput:function(t){var e=t.detail.value;this.trim&&("boolean"===typeof this.trim&&this.trim&&(e=this.trimStr(e)),"string"===typeof this.trim&&(e=this.trimStr(e,this.trim))),this.errMsg&&(this.errMsg=""),this.val=e,this.$emit("input",e),this.$emit("update:modelValue",e)},onFocus:function(){var t=this;this.$nextTick((function(){t.focused=!0})),this.$emit("focus",null)},_Focus:function(t){this.focusShow=!0,this.$emit("focus",t)},onBlur:function(){this.focused=!1,this.$emit("focus",null)},_Blur:function(t){t.detail.value;if(this.focusShow=!1,this.$emit("blur",t),this.$emit("change",this.val),this.form&&this.formItem){var e=this.form.validateTrigger;"blur"===e&&this.formItem.onFieldChange()}},onConfirm:function(t){this.$emit("confirm",this.val),this.$emit("change",this.val)},onClear:function(t){this.val="",this.$emit("input",""),this.$emit("update:modelValue",""),this.$emit("clear")},trimStr:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"both";return"both"===e?t.trim():"left"===e?t.trimLeft():"right"===e?t.trimRight():"start"===e?t.trimStart():"end"===e?t.trimEnd():"all"===e?t.replace(/\s+/g,""):t}}};e.default=a},4076:function(t,e,n){"use strict";function i(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;t+="";while(t.length<e)t="0"+t;return t.slice(-e)}n("c975"),n("fb6a"),n("ac1f"),n("5319"),Object.defineProperty(e,"__esModule",{value:!0}),e.formatDate=o,e.friendlyDate=s;var r={yyyy:function(t){return i(t.year,4)},yy:function(t){return i(t.year)},MM:function(t){return i(t.month)},M:function(t){return t.month},dd:function(t){return i(t.day)},d:function(t){return t.day},hh:function(t){return i(t.hour)},h:function(t){return t.hour},mm:function(t){return i(t.minute)},m:function(t){return t.minute},ss:function(t){return i(t.second)},s:function(t){return t.second},SSS:function(t){return i(t.millisecond,3)},S:function(t){return t.millisecond}};function a(t){if(t instanceof Date)return t;switch(typeof t){case"string":return t.indexOf("T")>-1?new Date(t):new Date(t.replace(/-/g,"/"));default:return new Date(t)}}function o(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"yyyy/MM/dd hh:mm:ss";if(!t&&0!==t)return"";t=a(t);var n={year:t.getFullYear(),month:t.getMonth()+1,day:t.getDate(),hour:t.getHours(),minute:t.getMinutes(),second:t.getSeconds(),millisecond:t.getMilliseconds()},i=/yyyy|yy|MM|M|dd|d|hh|h|mm|m|ss|s|SSS|SS|S/,o=!0,s=e;while(o)o=!1,s=s.replace(i,(function(t){return o=!0,r[t](n)}));return s}function s(t,e){var n=e.locale,i=void 0===n?"zh":n,r=e.threshold,s=void 0===r?[6e4,36e5]:r,c=e.format,u=void 0===c?"yyyy/MM/dd hh:mm:ss":c;if("-"===t)return t;if(!t&&0!==t)return"";var l,f,d={zh:{year:"年",month:"月",day:"天",hour:"小时",minute:"分钟",second:"秒",ago:"前",later:"后",justNow:"刚刚",soon:"马上",template:"{num}{unit}{suffix}"},en:{year:"year",month:"month",day:"day",hour:"hour",minute:"minute",second:"second",ago:"ago",later:"later",justNow:"just now",soon:"soon",template:"{num} {unit} {suffix}"}},h=d[i]||d.zh,p=a(t),m=p.getTime()-Date.now(),v=Math.abs(m);if(v<s[0])return m<0?h.justNow:h.soon;if(v>=s[1])return o(p,u);var y=h.later;m<0&&(y=h.ago,m=-m);var g=Math.floor(m/1e3),x=Math.floor(g/60),b=Math.floor(x/60),S=Math.floor(b/24),w=Math.floor(S/30),_=Math.floor(w/12);switch(!0){case _>0:l=_,f=h.year;break;case w>0:l=w,f=h.month;break;case S>0:l=S,f=h.day;break;case b>0:l=b,f=h.hour;break;case x>0:l=x,f=h.minute;break;default:l=g,f=h.second;break}return"en"===i&&(1===l?l="a":f+="s"),h.template.replace(/{\s*num\s*}/g,l+"").replace(/{\s*unit\s*}/g,f).replace(/{\s*suffix\s*}/g,y)}},"4c93":function(t,e,n){"use strict";n.r(e);var i=n("0589"),r=n("e988");for(var a in r)"default"!==a&&function(t){n.d(e,t,(function(){return r[t]}))}(a);var o,s=n("f0c5"),c=Object(s["a"])(r["default"],i["b"],i["c"],!1,null,"7d20afea",null,!1,i["a"],o);e["default"]=c.exports},"73d2":function(t,e,n){"use strict";var i=n("f31a"),r=n.n(i);r.a},"80d7":function(t,e,n){"use strict";n.r(e);var i=n("2bd9"),r=n.n(i);for(var a in i)"default"!==a&&function(t){n.d(e,t,(function(){return i[t]}))}(a);e["default"]=r.a},9566:function(t,e,n){"use strict";n.r(e);var i=n("2414"),r=n("23dd");for(var a in r)"default"!==a&&function(t){n.d(e,t,(function(){return r[t]}))}(a);var o,s=n("f0c5"),c=Object(s["a"])(r["default"],i["b"],i["c"],!1,null,"03b1b754",null,!1,i["a"],o);e["default"]=c.exports},a259:function(t,e,n){"use strict";n.r(e);var i=n("e4e1"),r=n("80d7");for(var a in r)"default"!==a&&function(t){n.d(e,t,(function(){return r[t]}))}(a);n("73d2");var o,s=n("f0c5"),c=Object(s["a"])(r["default"],i["b"],i["c"],!1,null,"0c5cc850",null,!1,i["a"],o);e["default"]=c.exports},d664:function(t,e,n){"use strict";(function(t,i){var r=n("4ea4");n("c740"),n("a434"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=r(n("b85c"));n("96cf");var o=r(n("1da1")),s=r(n("5530")),c=n("8a51"),u=n("8cbd"),l=n("f4a7"),f=n("26cb"),d={data:function(){return{uid:"",charactersData:{},profileList:void 0}},computed:(0,s.default)({},(0,f.mapState)(["profileData","version"])),onLoad:function(t){var e=this;this.charactersData=l.charactersData;var n=uni.getStorageSync("ysin_profileList");if(n){if(this.profileList=n,this.profileData){var i=this.profileList.findIndex((function(t){return t.info.leftTitle==e.profileData.info.leftTitle}));i>-1&&this.profileList.splice(i,1),this.profileList.unshift(this.profileData)}}else this.profileList=[]},methods:{add:function(){9===this.uid.length?this.getData(this.uid):uni.showToast({title:"格式有误.."})},needRefresh:function(t){return Date.now()-t.info.rightText>3e5},load:function(t){if(Date.now()-t.info.rightText>3e5){var e=this;uni.showModal({title:"提示",content:"是否要刷新数据？",cancelText:"否",confirmText:"是",success:function(n){n.confirm?e.getData(t.info.leftTitle):e.setData(t)}})}else this.setData(t)},getData:function(e){var n=this;return(0,o.default)(regeneratorRuntime.mark((function r(){var o,s,f,d,h,p,m,v;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return uni.showLoading({title:"请求中,请稍候.."}),o=t.importObject("enka"),r.prev=2,r.next=5,o.get(e);case 5:s=r.sent,f=s.data,i.log(f),d=(0,u.convertEnka)(f,e),i.log(d),h=(0,a.default)(d.list);try{for(h.s();!(p=h.n()).done;)m=p.value,v=l.charactersData[m.cId],v.schools?m.school=v.schools[0]:m.school={name:"默认流派",score:!0},(0,c.startCalculate)(m,n.version)}catch(y){h.e(y)}finally{h.f()}n.setData(d),r.next=18;break;case 15:r.prev=15,r.t0=r["catch"](2),i.log(r.t0);case 18:uni.hideLoading();case 19:case"end":return r.stop()}}),r,null,[[2,15]])})))()},setData:function(t){uni.setStorageSync("ysin_profileList",this.profileList),this.$store.commit("updateProfileData",t),uni.navigateBack({delta:1})},updateProfileList:function(t){var e=JSON.parse(JSON.stringify(t));this.profileList.unshift(e),this.uid="",this.profileList.length>9&&this.profileList.splice(9,1),uni.setStorageSync("ysin_profileList",this.profileList)},remove:function(t){var e=this;uni.showModal({title:"提示",content:"确定要删除该条记录？",cancelText:"否",confirmText:"是",success:function(n){n.confirm&&(e.profileList.splice(t,1),e.$forceUpdate(),uni.setStorageSync("ysin_profileList",e.profileList))}})}}};e.default=d}).call(this,n("a9ff")["default"],n("5a52")["default"])},e4e1:function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){return i}));var i={uniIcons:n("26bc").default},r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"uni-easyinput",class:{"uni-easyinput-error":t.msg},style:t.boxStyle},[n("v-uni-view",{staticClass:"uni-easyinput__content",class:t.inputContentClass,style:t.inputContentStyle},[t.prefixIcon?n("uni-icons",{staticClass:"content-clear-icon",attrs:{type:t.prefixIcon,color:"#c0c4cc",size:"22"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.onClickIcon("prefix")}}}):t._e(),"textarea"===t.type?n("v-uni-textarea",{staticClass:"uni-easyinput__content-textarea",class:{"input-padding":t.inputBorder},attrs:{name:t.name,value:t.val,placeholder:t.placeholder,placeholderStyle:t.placeholderStyle,disabled:t.disabled,"placeholder-class":"uni-easyinput__placeholder-class",maxlength:t.inputMaxlength,focus:t.focused,autoHeight:t.autoHeight},on:{input:function(e){arguments[0]=e=t.$handleEvent(e),t.onInput.apply(void 0,arguments)},blur:function(e){arguments[0]=e=t.$handleEvent(e),t._Blur.apply(void 0,arguments)},focus:function(e){arguments[0]=e=t.$handleEvent(e),t._Focus.apply(void 0,arguments)},confirm:function(e){arguments[0]=e=t.$handleEvent(e),t.onConfirm.apply(void 0,arguments)}}}):n("v-uni-input",{staticClass:"uni-easyinput__content-input",style:t.inputStyle,attrs:{type:"password"===t.type?"text":t.type,name:t.name,value:t.val,password:!t.showPassword&&"password"===t.type,placeholder:t.placeholder,placeholderStyle:t.placeholderStyle,"placeholder-class":"uni-easyinput__placeholder-class",disabled:t.disabled,maxlength:t.inputMaxlength,focus:t.focused,confirmType:t.confirmType},on:{focus:function(e){arguments[0]=e=t.$handleEvent(e),t._Focus.apply(void 0,arguments)},blur:function(e){arguments[0]=e=t.$handleEvent(e),t._Blur.apply(void 0,arguments)},input:function(e){arguments[0]=e=t.$handleEvent(e),t.onInput.apply(void 0,arguments)},confirm:function(e){arguments[0]=e=t.$handleEvent(e),t.onConfirm.apply(void 0,arguments)}}}),"password"===t.type&&t.passwordIcon?[t.isVal?n("uni-icons",{staticClass:"content-clear-icon",class:{"is-textarea-icon":"textarea"===t.type},attrs:{type:t.showPassword?"eye-slash-filled":"eye-filled",size:22,color:t.focusShow?"#2979ff":"#c0c4cc"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.onEyes.apply(void 0,arguments)}}}):t._e()]:t.suffixIcon?[t.suffixIcon?n("uni-icons",{staticClass:"content-clear-icon",attrs:{type:t.suffixIcon,color:"#c0c4cc",size:"22"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.onClickIcon("suffix")}}}):t._e()]:[t.clearable&&t.isVal&&!t.disabled&&"textarea"!==t.type?n("uni-icons",{staticClass:"content-clear-icon",class:{"is-textarea-icon":"textarea"===t.type},attrs:{type:"clear",size:t.clearSize,color:t.msg?"#dd524d":t.focusShow?"#2979ff":"#c0c4cc"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.onClear.apply(void 0,arguments)}}}):t._e()],t._t("right")],2)],1)},a=[]},e77e:function(t,e,n){"use strict";n("a9e3"),n("e25e"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n("4076"),r={name:"uniDateformat",props:{date:{type:[Object,String,Number],default:function(){return"-"}},locale:{type:String,default:"zh"},threshold:{type:Array,default:function(){return[0,0]}},format:{type:String,default:"yyyy/MM/dd hh:mm:ss"},refreshRate:{type:[Number,String],default:0}},data:function(){return{refreshMark:0}},computed:{dateShow:function(){return this.refreshMark,(0,i.friendlyDate)(this.date,{locale:this.locale,threshold:this.threshold,format:this.format})}},watch:{refreshRate:{handler:function(){this.setAutoRefresh()},immediate:!0}},methods:{refresh:function(){this.refreshMark++},setAutoRefresh:function(){var t=this;clearInterval(this.refreshInterval),this.refreshRate&&(this.refreshInterval=setInterval((function(){t.refresh()}),parseInt(this.refreshRate)))}}};e.default=r},e988:function(t,e,n){"use strict";n.r(e);var i=n("e77e"),r=n.n(i);for(var a in i)"default"!==a&&function(t){n.d(e,t,(function(){return i[t]}))}(a);e["default"]=r.a},eee7:function(t,e,n){"use strict";var i=n("23e7"),r=n("58a8").start,a=n("c8d2"),o=a("trimStart"),s=o?function(){return r(this)}:"".trimStart;i({target:"String",proto:!0,forced:o},{trimStart:s,trimLeft:s})},f31a:function(t,e,n){var i=n("03667");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var r=n("4f06").default;r("dff9d742",i,!0,{sourceMap:!1,shadowMode:!1})}}]);