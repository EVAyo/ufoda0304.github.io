(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["package-pages-character-group"],{"00d0":function(t,e,a){"use strict";a("7a82");var r=a("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.maximize=function(t,e,a,r,n){var u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"Brute",d={atk:[0,37],hp:[0,37],def:[0,37],em:[0,35],er:[0,35],cr:[0,35],cd:[0,35]};if(a){if(a.length>3)throw new Error("主词条列表长度不超过3，得到"+a.length);var f,v=(0,i.default)(a);try{for(v.s();!(f=v.n()).done;){var h=f.value;h in d&&(["atk","hp","def"].includes(h)?d[h][1]-=5:d[h][1]-=7)}}catch(I){v.e(I)}finally{v.f()}}if(n)for(var g in d)if(g in n&&(d[g][0]=Math.max(d[g][0],Math.ceil(n[g][0])),d[g][1]=Math.min(d[g][1],Math.floor(n[g][1])),d[g][0]>d[g][1]))throw new Error("".concat(g,"的实际取值范围无效：[").concat(d[g][0],", ").concat(d[g][1],"]"));if(r)for(var p in d)r.includes(p)||(d[p][1]=d[p][0]);var m=[],x=0,b=0;for(var _ in d)d[_][0]<d[_][1]&&m.push(_),x+=d[_][0],b+=d[_][1];if(e<x||e>b)throw new Error("没有可行解，因为".concat(e,"不在[").concat(x,", ").concat(b,"]内"));if(m.length<=1){var w={};for(var S in d)w[S]=Math.min(e-x+d[S][0],d[S][1]);return{statBest:w,dmgBest:t(w)}}if(e==x){var y={};for(var T in d)y[T]=d[T][0];return{statBest:y,dmgBest:t(y)}}if(e==b){var C={};for(var E in d)C[E]=d[E][1];return{statBest:C,dmgBest:t(C)}}switch(u){case"Brute":return o(t,e,d);case"BruteTwice":return s(t,e,d);case"NelderMead":return c(t,e,d);case"NelderMeadBrute":return l(t,e,d);default:throw new Error("未知的优化方法："+u)}},a("14d9"),a("4e82"),a("d9e2"),a("d401"),a("caad"),a("99af"),a("2532");var i=r(a("b85c")),n=r(a("5530"));function o(t,e,a){for(var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i={},o=0,s=["cr","cd","atk","em","hp","def","er"],c={},l=0,u=0,d=s.length-1;d>=0;--d)c[s[d]]=[l,u],l+=a[s[d]][0],u+=a[s[d]][1];function f(e,l){var u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,d=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,v=s[u];if(u==s.length-1){if(l+d>41)return;e[v]=l;var h=t(e);h>o&&(o=h,i=(0,n.default)({},e))}else for(var g=Math.max(a[v][0],l-c[v][1]),p=Math.min(a[v][1],l-c[v][0],41-d),m=g;m<=p;m+=r)e[v]=m,f(e,l-m,u+1,Math.max(d,m))}return e=Math.floor(e),f({},e),{statBest:i,dmgBest:o}}function s(t,e,a){var r=o(t,e,a,2),i=r.statBest,n=(r.dmgBest,{});for(var s in a)n[s]=[a[s][0],a[s][1]],s in i&&(n[s][0]=Math.max(n[s][0],i[s]-3),n[s][1]=Math.min(n[s][1],i[s]+3));return o(t,e,n)}function c(t,e,a){function r(e){var r=[];for(var i in e){if(i in a&&(e[i]<a[i][0]||e[i]>a[i][1]))return 0;e[i]>0&&r.push(e[i])}return r.sort((function(t,e){return e-t})),r.length>=2&&r[0]+r[1]>41?0:t(e)}var i=0,n=[],o=0,s=0,c=[];for(var l in a)if(o+=a[l][0],a[l][0]<a[l][1]){i++,n.push(l);var u=Math.random();s+=u*(a[l][1]-a[l][0]),c.push(u)}for(var d=[],f=0;f<n.length;++f){var v=n[f],h=(e-o)/(s+.1*c[f]*(a[v][1]-a[v][0])),g={};for(var p in a)g[p]=a[p][0];for(var m=0;m<n.length;++m){var x=n[m],b=a[x][1]-a[x][0];g[x]+=h*c[m]*b,x==v&&(g[x]+=.1*h*c[m]*b)}d.push({stat:g,dmg:r(g)})}function _(){d.sort((function(t,e){return e.dmg-t.dmg}))}function w(t,e,i,n){var o={stat:{},dmg:0};for(var s in a)o.stat[s]=t*e.stat[s]+i*n.stat[s];return o.dmg=r(o.stat),o}for(var S=0;S<2e3;++S){_();var y=0;for(var T in a)y=Math.max(y,Math.abs(d[0].stat[T]-d[1].stat[T]));if(Math.abs(d[0].dmg-d[i-1].dmg)<1e-5&&y<1e-5)break;var C={stat:{},dmg:0};for(var E in a){C.stat[E]=0;for(var I=0;I<i-1;++I)C.stat[E]+=d[I].stat[E];C.stat[E]/=i-1}var N=d[i-1],D=w(2,C,-1,N);if(D.dmg>d[0].dmg){var M=w(3,C,-2,N);M.dmg>D.dmg?d[i-1]=M:d[i-1]=D}else if(D.dmg<=d[i-1].dmg){var A=!1;if(D.dmg<N.dmg){var R=w(.5,C,.5,N);R.dmg>N.dmg?d[i-1]=R:A=!0}else{var O=w(1.5,C,-.5,N);O.dmg>D.dmg?d[i-1]=O:A=!0}if(A){0;for(var k=1;k<i;++k)d[k]=w(.5,d[0],.5,d[k])}}else d[i-1]=D}return _(),{statBest:d[0].stat,dmgBest:d[0].dmg}}function l(t,e,a){for(var r=c(t,e,a),i=r.statBest,n=r.dmgBest,s=1;s<5;++s){var l=c(t,e,a);l.dmgBest>n&&(i=l.statBest,n=l.dmgBest)}var u={};for(var d in a)u[d]=[a[d][0],a[d][1]],d in i&&(u[d][0]=Math.max(u[d][0],Math.ceil(i[d]-3)),u[d][1]=Math.min(u[d][1],Math.floor(i[d]+3)));return o(t,e,u)}},"03ea":function(t,e,a){"use strict";a("7a82");var r=a("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.getTag=function(t){var e,a=t.preset,r={},h=[],g=t.preset.tagNum,p=a.cPanel["HP"][0],m=a.cPanel["ATTACK"][0],x=a.cPanel["DEFENSE"][0],b=a.output,_=[],w=[],S=t.calculator.convert;if(t.convertTag=[],S){var y=JSON.parse(JSON.stringify(a));y.aMinor=[0,0,0,0,0,0,0,0],t.convertPresets=[y]}for(var T={},C={},E=0;E<b.length;E++){var I,N="",D=0,M=b[E],A=(0,n.default)(M);try{for(A.s();!(I=A.n()).done;){var R=I.value;if(0==E){var O=0,k="";switch(R){case 0:C.HP=!0,T.HP_PERCENT=!0,O=.05*p,k="词条 - 生命（ +5% / "+O.toFixed(0)+" ）";break;case 1:C.ATTACK=!0,T.ATTACK_PERCENT=!0,O=.05*m,k="词条 - 攻击（ +5% / "+O.toFixed(0)+" ）";break;case 2:C.DEFENSE=!0,T.DEFENSE_PERCENT=!0,O=.062*x,k="词条 - 防御（ +6.2% / "+O.toFixed(0)+" ）";break;case 3:T.ELEMENT_MASTERY=!0,O=20,k="词条 - 精通（ +20 ）";break;case 4:T.CRITICAL=!0,O=3.3,k="词条 - 暴击（ +3.3% ）";break;case 5:T.CRITICAL_HURT=!0,O=6.6,k="词条 - 爆伤（ +6.6% ）";break;case 6:T.CHARGE_EFFICIENCY=!0,O=5.5,k="词条 - 充能（ +5.5% ）";break;default:break}var B={title:k,note:"",text:0};_.push(B);var P=JSON.parse(JSON.stringify(a));if(P.aMinor[R]+=O,S){var F=S.indexOf(R);if(F>-1){var H=JSON.parse(JSON.stringify(t.convertPresets[0]));H.aMinor[R]+=O,t.convertPresets.push(H),t.convertTag.push(g[R])}}w.push(P)}N+=c[R],D+=g[R]}}catch(Lt){A.e(Lt)}finally{A.f()}var J={title:N,text:D.toFixed(1)};0==E?r=(0,i.default)({},J):h.push(J)}if(a.cLevel<90){var L=JSON.parse(JSON.stringify(a)),j={character:t.character,preset:L,weapon:t.weapon};L.cLevel=90,L.aTagToMinor=!0,(0,s.getBaseData)(j),(0,o.convertMinor)(L),w.push(L),_.push({title:"人物 - 等级（ +"+(90-a.cLevel)+"级 ）",note:"",text:0})}if(a.wLevel<90){var U=JSON.parse(JSON.stringify(a)),K={character:t.character,preset:U,weapon:t.weapon};U.wLevel=90,(0,s.getBaseData)(K),U.aTagToMinor=!0,(0,o.convertMinor)(U),w.push(U),_.push({title:"武器 - 等级（ +"+(90-a.wLevel)+"级 ）",note:"",text:0})}var $=null!==(e=t.calculator.skillKey)&&void 0!==e?e:t.character.skillKey;if($){var G=[9,9];a.cStage>2&&(G=[12,12],a.cStage<5&&(t.character.isSkillFive?G[0]=9:G[1]=9));var z,Y=[{key:"技能 - A（ +1级 ）",index:0,max:9},{key:"技能 - E（ +1级 ）",index:1,max:G[0]},{key:"技能 - Q（ +1级 ）",index:2,max:G[0]}],W=[],q=(0,n.default)($);try{for(q.s();!(z=q.n()).done;){var Q=z.value,V=a.cSkills[Q],X=Y[Q];0==Q&&V<X.max&&W.push(X),0!=Q&&V<X.max&&W.push(X)}}catch(Lt){q.e(Lt)}finally{q.f()}for(var Z=0,tt=W;Z<tt.length;Z++){var et=tt[Z],at=JSON.parse(JSON.stringify(a));at.cSkills[et.index]+=1,w.push(at),_.push({title:et.key,note:"",text:0})}}if(b[0].indexOf(5)>-1||t.calculator.convert){var rt=JSON.parse(JSON.stringify(a));if(w.push(rt),_.push({title:"其他 - 伤害加成（ +5% ）",note:"",isBonus:!0,text:0}),a.aMajor[1]<6||a.aMajor[1]==f[a.element]){var it=a.aMajor[1],nt=t.calculator.preset?t.calculator.preset.aMajor:t.character.preset.aMajor,ot=["HP","ATTACK","DEFENSE"];if(it<3){var st=JSON.parse(JSON.stringify(a)),ct="（ 元素杯 ）",lt=4;5==nt[1]&&(ct="（ 物理杯 ）",lt=5);var ut=.466;2==it&&(ut=.583),st.aMajor[1]=lt,(0,s.getMajorData)(st),st.aMinor[it]-=ut*st.cPanel[ot[it]][0],w.push(st),_.push({title:"更换 - "+l[1][it]+ct,note:"",text:0})}else if(3!=it){var dt=JSON.parse(JSON.stringify(a)),ft="更换 - 元素杯";5==it&&(ft="更换 - 物理杯");var vt=.466,ht="（ 攻击杯 ）";it=1,2==nt[0]?(vt=.583,ht="（ 防御杯 ）",it=2):0==nt[0]&&(ht="（ 生命杯 ）",it=0),dt.aMajor[1]=it,(0,s.getMajorData)(dt),dt.aMinor[it]+=vt*dt.cPanel[ot[it]][0],w.push(dt),_.push({title:ft+ht,note:"",text:0})}}}var gt=[20,20,20,20,20],pt=[];if(a.aConfigs){for(E=0;E<a.aConfigs.length;E++){var mt=a.aConfigs[E];gt[E]=20-mt[1]}gt[0]<20&&pt.push(gt[0]+"花"),gt[1]<20&&pt.push(gt[1]+"羽")}for(E=0;E<3;E++){var xt=a.aMajor[E];if(xt<99){var bt="";bt=1==E&&4==xt?v[a.element]+"杯":l[E][xt],gt[E+2]<20&&(bt=gt[E+2]+bt),pt.push(bt)}else pt.push("无")}var _t=pt.join(" / ");r.content=_t;var wt=[],St=[],yt=[];t.presets=w;for(E=0;E<c.length;E++){var Tt=g[E].toFixed(1),Ct=c[E]+Tt,Et=b[0].indexOf(E);if(Et>-1){wt.push(Ct);var It=a.aMinor[E].toFixed(0)+c[E];yt[Et]=It}else St.push(Ct)}var Nt={title:"主要词条",text:wt.join(" /")};h.push(Nt);var Dt={title:"其他词条",text:St.join(" /")};h.push(Dt),b[0].indexOf(5)>-1?r.note="双爆: "+(2*a.aMinor[4]+a.aMinor[5]).toFixed(1):r.note="";if(a.tPanel=yt.join(" /"),a.tResult=r,a.tResults=h,t.weights=_,a.aData)for(var Mt in a.aData){var At=a.aData[Mt];At.type=u[Mt[4]],At.count=0;var Rt,Ot=(0,n.default)(At.attrs);try{for(Ot.s();!(Rt=Ot.n()).done;){var kt=Rt.value;kt[3]="#d5d6d9",kt[4]=0;if(T[kt[2]]){kt[3]="#3b4144";var Bt=kt[1]/d[kt[2]][1];kt[4]=Bt.toFixed(1),At.count+=Bt}else if("CHARGE_EFFICIENCY"==kt[2]){var Pt=kt[1]/d[kt[2]][1];kt[4]=Pt.toFixed(1),At.count+=Pt}if(C[kt[2]]){kt[3]="#999";var Ft=.05;"DEFENSE"==kt[2]&&(Ft=.062);var Ht=a.cPanel[kt[2]][0]*Ft,Jt=kt[1]/Ht;kt[4]=Jt.toFixed(1),At.count+=Jt}kt[0]=kt[1]+d[kt[2]][0]}}catch(Lt){Ot.e(Lt)}finally{Ot.f()}At.attrs.sort((function(t,e){return e[4]-t[4]})),At.count=At.count.toFixed(1),a.aDetail=!0}else a.aDetail=void 0};var i=r(a("5530")),n=r(a("b85c"));a("e9c4"),a("14d9"),a("c975"),a("4e82");var o=a("7a53"),s=a("175e"),c=["生","攻","防","精","暴","爆","充"],l=[["生命沙","攻击沙","防御沙","精通沙","充能沙"],["生命杯","攻击杯","防御杯","精通杯","元素杯","物理杯","火伤杯","冰伤杯","水伤杯","雷伤杯","草伤杯","岩伤杯","风伤杯"],["生命头","攻击头","防御头","精通头","暴击头","爆伤头","治疗头"]],u=["","花","羽","沙","杯","冠"],d={HP:["小生",0],HP_PERCENT:["生",5],ATTACK:["小攻",1],ATTACK_PERCENT:["攻",5],DEFENSE:["小防",2],DEFENSE_PERCENT:["防",6.2],FIRE_ADD_HURT:"火",ICE_ADD_HURT:"冰",ROCK_ADD_HURT:"岩",ELEC_ADD_HURT:"雷",WIND_ADD_HURT:"风",WATER_ADD_HURT:"水",PHYSICAL_ADD_HURT:"物",GRASS_ADD_HURT:"草",HEAL_ADD:"治",ELEMENT_MASTERY:["精",20],CRITICAL:["暴",3.3],CRITICAL_HURT:["爆",6.6],CHARGE_EFFICIENCY:["充",5.5]},f={fire:6,ice:7,water:8,thunder:9,grass:10,rock:11,wind:12},v={fire:"火伤",water:"水伤",thunder:"雷伤",ice:"冰伤",rock:"岩伤",wind:"风伤",grass:"草伤"}},"0452":function(t,e,a){"use strict";a.r(e);var r=a("e65c"),i=a("fe25");for(var n in i)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(n);a("2606");var o=a("f0c5"),s=Object(o["a"])(i["default"],r["b"],r["c"],!1,null,"a60696ce",null,!1,r["a"],void 0);e["default"]=s.exports},"09ec":function(t,e,a){"use strict";a.r(e);var r=a("e1c1"),i=a("dcce");for(var n in i)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(n);a("a518");var o=a("f0c5"),s=Object(o["a"])(i["default"],r["b"],r["c"],!1,null,"13f73da8",null,!1,r["a"],void 0);e["default"]=s.exports},"0a00":function(t,e,a){var r=a("673b");r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);var i=a("4f06").default;i("046c18dd",r,!0,{sourceMap:!1,shadowMode:!1})},"0b7e":function(t,e,a){"use strict";(function(t){a("7a82");var r=a("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.getBaseScore=function(e){var a=e.preset,r=e.calculator.preset?e.calculator.preset:e.character.preset;e.oldPreset=r;var i=JSON.parse(JSON.stringify(r)),c=[8,8,8];4==e.character.star?(c=[8,11,11],i.cStage=6):i.cStage=0;i.cSkills=c,i.cLevel=90,i.wLevel=90,i.school=a.school,i.cId=a.cId,i.wType=a.wType,i.element=a.element,i.energy=a.energy,i.cPanel={HP:[0,4780],HP_PERCENT:[0,0],ATTACK:[0,311],ATTACK_PERCENT:[0,0],DEFENSE:[0,0],DEFENSE_PERCENT:[0,0],FIRE_ADD_HURT:[0,0],ICE_ADD_HURT:[0,0],ROCK_ADD_HURT:[0,0],ELEC_ADD_HURT:[0,0],WIND_ADD_HURT:[0,0],WATER_ADD_HURT:[0,0],PHYSICAL_ADD_HURT:[0,0],HEAL_ADD:[0,0],ELEMENT_MASTERY:[0,0],CRITICAL:[0,0],CRITICAL_HURT:[0,0],CHARGE_EFFICIENCY:[0,0]};var l=d.weaponsData[i.wId];i.wStage=5==l.star?0:4,i.wIndexs||(i.wIndexs=l.indexs);if(!i.aIndexs&&!i.aSets){var f=u.artifactsData[i.aIds[0]];f&&(i.aIndexs=f.indexs)}var v={character:e.character,preset:i,weapon:l};(0,o.getMajorData)(i),(0,o.getBaseData)(v),i.aTagToMinor=!0,i.tagNum=JSON.parse(JSON.stringify(a.school.tagNum)),(0,s.convertMinor)(i);var h=(0,n.buildAttribute)(i);a.output[0].indexOf(5)>-1&&(h.isBalance=!0);h.onlyScore=!0,e.calculator.get(h),e.baseScore=h.score,t.log("-------------"+e.character.chs+"-------------"),t.log("(1) C期望（默认圣遗物+默认配置）："+h.score)},e.getDataScore=function(e){var a=e.preset,r=(0,n.buildAttribute)(a);e.attribute=r,r.isData=!0,e.calculator.get(r),a.dResult=r.result,a.dResults=r.results;var o=r.score;t.log("(3) A期望（当前圣遗物+当前配置）："+o),r.reacResult&&a.dResults.push(r.reacResult);var s=e.baseScore,c=(o/s*100).toFixed(0),d=(0,l.getColor)(c);a.dResult.score=c,a.dResult.color=d,e.dataScore=o,a.recharge=r.recharge;var v=e.baseData;r.dBuffs=v.concat(r.dBuffs),a.dBuffs=r.dBuffs,a.effects=r.effects;var h="",g=e.weapon.options;if(g){var p=a.wIndexs;if(p&&p[0]>0){h+="[";for(var m=0;m<p.length;m++){var x=p[m];h+=g[m][x]}h+="]"}}var b,_="",w="",S=(0,i.default)(a.cSkills);try{for(S.s();!(b=S.n()).done;){var y=b.value;w+=y+1}}catch(j){S.e(j)}finally{S.f()}var T="",C=u.artifactsData[a.aIds[0]];if(a.aSets){var E=u.artifactsData[a.aIds[1]];T=C.short[0]+E.short[0]+"二"}else{T=C.short+"四";var I=C.options;if(I){var N=a.aIndexs;if(N&&N[0]>0){_+="[";for(m=0;m<N.length;m++){var D=N[m];_+=I[m][D]}_+="]"}}}var M=e.weapon.chs.slice(0,2),A="";a.wLevel&&a.wLevel<90&&(A=a.wLevel,a.wAscend&&(A+="+"));var R=a.cLevel;a.cAscend?R+="+":R+="级";var O=R+" / "+a.cStage+"命 / 技能 "+w,k=A+M+(a.wStage+1)+"精 /"+T;a.cNote=O,a.eNote=k,a.wNote=h,a.aNote=_,a.note=k+_+" /"+R+a.cStage+"命 /"+w,a.reactionText=r.reactionText?r.reactionText+" ":"",a.cData={em:r.em0()},e.preset.school.score||(e.supportScore=r.supportScore);if(r.isBalance)a.aMinor[4]+=r.resetCD.diffC,a.aMinor[5]+=r.resetCD.diffD,a.tagNum[4]=(a.aMinor[4]-100*a.cPanel["CRITICAL"][1])/3.3,a.tagNum[5]=(a.aMinor[5]-100*a.cPanel["CRITICAL_HURT"][1])/6.6,a.isAdapt=!1;else{var B=0;if(a.output[0].indexOf(5)>-1){var P=100*r.critical,F=100*r.criticalDamage;if(P<100)if(P*F<2e4){var H=Math.sqrt(8*P*F);B=(2*P+F-H)/6.6}else B=(2*P+F-200-P*F/100)/6.6;else if(F>200)B=(P-100)/3.3;else{var J=Math.sqrt(800*F);B=(2*P+F-J)/6.6}a.tLost=B.toFixed(1)}else a.tLost=null}var L=f(e);a.dPanel=L},e.getGWeightScore=function(t){for(var e=t.preset,a=JSON.parse(JSON.stringify(t.weights)),r=[],i=0;i<a.length;i++){var o=a[i],s=t.presets[i],c=(0,n.buildGroupAttribute)(s);c.onlyScore=!0,o.isBonus&&(c.bonus+=.05),t.calculator.get(c);var l=100*(c.score/t.preset.groupScore-1);l>.05&&(o.text=l.toFixed(2),r.push(o))}r.sort((function(t,e){return e.text-t.text})),e.gWeights=r},e.getGroupScore=function(e){var a=e.preset;if(a.gEffects||a.openBuffs){var r=(0,n.buildGroupAttribute)(a);e.attribute=r,e.calculator.get(r),a.gResult=r.result,a.gResults=r.results;var i=a.gResult.text;t.log("(2) E期望（+队伍增益）："+r.score),r.reacResult&&a.gResults.push(r.reacResult);var o=f(e);a.gPanel=o,a.gBuffs=r.gBuffs,a.gOpenBuffs=r.gOpenBuffs;var s=e.baseScore,c=(i/s*100).toFixed(0);a.gResult.score=c,a.gResult.color=(0,l.getColor)(c),a.groupScore=i}else a.gResult=null,a.gResults=null,a.gWeights=null,a.groupScore=null},e.getPanel=f,e.getTagScore=function(e){var a=e.preset,r=JSON.parse(JSON.stringify(a));r.aConfigs=null,r.aTagToMinor=!0;var i=e.dataScore,u=JSON.parse(JSON.stringify(r)),d=JSON.parse(JSON.stringify(a.school.tagNum)),f=d.map((function(t){return Math.round(5*t/3)}));u.tagNum=f,r.tagNum=d;var v=JSON.parse(JSON.stringify(r));r.aMajor=e.oldPreset.aMajor,(0,o.getMajorData)(r),(0,s.convertMinor)(r),(0,s.convertMinor)(v),(0,s.convertMinor)(u);var h=(0,n.buildAttribute)(u);h.onlyScore=!0;var g=(0,n.buildAttribute)(v);g.onlyScore=!0;var p=(0,n.buildAttribute)(r);p.onlyScore=!0,a.output[0].indexOf(5)>-1?(p.isBalance=!0,h.isBalance=!0,g.isBalance=!0):(p.isBalance=!1,h.isBalance=!1,g.isBalance=!1);e.calculator.get(p);var m=p.score;t.log("(4) B期望（默认圣遗物+当前配置）："+m),e.calculator.get(g);var x=g.score;t.log("(5) D期望（默认词条数）："+x),e.calculator.get(h);var b=h.score;t.log("(6) E期望（极限词条数）："+b);var _=(b-x)/50,w=(i-x)/_+100,S=i/x*100,y=i/m*100,T=i/b*100;t.log("主属性不变："+S.toFixed(0)),t.log("主属性改变："+y.toFixed(0)),t.log("毕业度："+w.toFixed(0)),a.output[0].indexOf(5)>-1?a.tProgress=T.toFixed(0):a.tProgress=null;(0,c.getTag)(e);var C=S.toFixed(0),E=(0,l.getColor)(C);a.tResult.score=C,a.tResult.color=E,e.tagScore=m,a.score=e.supportScore?e.supportScore:a.tResult.score+" / "+a.dResult.score},e.getWeightScore=function(t){for(var e=t.preset,a=JSON.parse(JSON.stringify(t.weights)),r=[],i=0;i<a.length;i++){var o=a[i],s=t.presets[i],c=(0,n.buildAttribute)(s);c.onlyScore=!0,o.isBonus&&(c.bonus+=.05),t.calculator.get(c);var l=100*(c.score/t.dataScore-1);l>.05&&(o.text=l.toFixed(2),r.push(o))}if(t.calculator.convert){var u=Number(t.preset.tResult.text),d=(0,n.buildAttribute)(t.convertPresets[0]);d.onlyScore=!0,t.calculator.get(d);var f=d.score,v=(0,n.buildAttribute)(t.convertPresets[1]);v.onlyScore=!0,t.calculator.get(v);var h=v.score,g=(0,n.buildAttribute)(t.convertPresets[2]);g.onlyScore=!0,t.calculator.get(g);var p=g.score,m=100*(h/f-1),x=100*(p/f-1),b=[m,x],_=0,w=1;m>x&&(_=1,w=0);var S=t.convertTag[_]*(b[_]/b[w]-1),y=u+S;"shanhugongxinhai"!=t.preset.cId?t.preset.tResult.note+=" | ":t.preset.tResult.note="",t.preset.tResult.note+="词条："+t.preset.tResult.text,t.preset.tResult.text=y.toFixed(1),t.preset.tResult.rightText="折算 "+y.toFixed(1)}else t.preset.tResult.rightText="词条 "+t.preset.tResult.text;r.sort((function(t,e){return e.text-t.text})),e.weights=r};var i=r(a("b85c"));a("e9c4"),a("c975"),a("d81d"),a("14d9"),a("99af"),a("fb6a"),a("a9e3"),a("4e82");var n=a("149f"),o=a("175e"),s=a("7a53"),c=a("03ea"),l=a("b209"),u=a("e194"),d=a("0d89");function f(t){var e,a=t.attribute,r=t.preset.output,n=!0,o=[],s=(0,i.default)(r[0]);try{for(s.s();!(e=s.n()).done;){var c=e.value;6==c&&(n=!1);var l=0,u="";switch(c){case 0:l=a.life().toFixed(0),u="生";break;case 1:l=a.atk().toFixed(0),u="攻";break;case 2:l=a.defend().toFixed(0),u="防";break;case 3:l=(100*a.em).toFixed(0),u="精";break;case 4:l=(100*a.critical).toFixed(0),u="暴";break;case 5:l=(100*a.criticalDamage).toFixed(0),u="爆";break;case 6:l=(100*a.recharge).toFixed(0),u="充";break;default:break}o.push(l+u)}}catch(v){s.e(v)}finally{s.f()}a.recharge>1&&n&&o.push((100*a.recharge).toFixed(0)+"充");var d=o.join(" /"),f=d;return f}}).call(this,a("5a52")["default"])},"0d46":function(t,e,a){"use strict";a.r(e);var r=a("86a9"),i=a("4793");for(var n in i)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(n);a("6205");var o=a("f0c5"),s=Object(o["a"])(i["default"],r["b"],r["c"],!1,null,"6f48037d",null,!1,r["a"],void 0);e["default"]=s.exports},"10eb":function(t,e,a){"use strict";(function(t){a("7a82");var r=a("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("4de4"),a("d3b7"),a("e9c4"),a("14d9"),a("a434");var i=r(a("5530")),n=a("fedd"),o=a("26cb"),s=a("4432"),c={data:function(){return{selectIndex:0,tagKey:"atk",tagTexts:["不筛选","攻击","增伤","精通","抗性","防御","暴击","爆伤","倍率"],tagKeys:["no","atk","bonus","em","re","do","cr","cd","ra"],cId:"",removeIndex:0,recommens:["bannite"],names:[],charactersBuffs:[],charactersData:{},charactersHasBuff:[],temp:{},selectIds:[],allList2:{},gridList:[],current:0,swiperDotIndex:0}},computed:(0,i.default)((0,i.default)((0,i.default)({},(0,o.mapState)(["version","favObj","character","preset"])),(0,o.mapGetters)(["weapon"])),{},{filterList:function(){var t=this;return this.selectIndex>0?s.charactersBuffs.filter((function(e){return void 0!=e.supTags[t.tagKey]})):[]}}),onLoad:function(){this.initData()},methods:{onClickItem:function(e){var a=e.detail.value;this.selectIndex!==a&&(this.selectIndex=a,this.tagKey=this.tagKeys[a],t.log(this.tagKey))},initData:function(){this.$store.commit("setWeapon",this.weapon),this.charactersData=s.charactersData,this.charactersBuffs=s.charactersBuffs,this.temp=JSON.parse(JSON.stringify(this.preset)),this.temp.gIds&&this.temp.gIds.length>1?this.selectIds=this.temp.gIds:this.selectIds=[this.preset.cId]},addItem:function(t){this.selectIds.length<4?this.selectIds.push(t):uni.showToast({title:"不能超过4人",icon:"none"})},removeItem:function(t,e){if(0!=e)this.selectIds.length>1?this.selectIds.splice(e,1):uni.showToast({title:"不能少于1人",icon:"none"});else{var a=this;uni.showModal({title:"提醒",content:"清除所有队友和增益？",showCancel:!0,confirmText:"是",cancelText:"否",success:function(t){t.confirm?a.removeAll():t.cancel}})}},removeAll:function(){this.temp.selectIds=[],this.temp.gEffects=null,this.temp.openBuffs=null,(0,n.startCalculate)(this.temp),this.$store.commit("storePreset",this.temp),this.$store.commit("setPreset",this.temp),uni.navigateBack({delta:1})},save:function(){if(t.log(this.selectIds.length),this.selectIds.length<2){var e=this;uni.showModal({title:"提醒",content:"清除所有队友和增益？",showCancel:!0,confirmText:"是",cancelText:"否",success:function(t){t.confirm?e.removeAll():t.cancel&&e.toEffect()}})}else this.toEffect()},toEffect:function(){var t=JSON.parse(JSON.stringify(this.selectIds));this.$store.commit("setSelectIds",t),uni.navigateTo({url:"effect"})}}};e.default=c}).call(this,a("5a52")["default"])},1205:function(t,e,a){var r=a("24fb");e=r(!1),e.push([t.i,'@charset "UTF-8";\n/* 水平间距 */\n/* 水平间距 */.uni-list[data-v-e07ee5ea]{display:flex;background-color:#fff;position:relative;flex-direction:column}.uni-list--border[data-v-e07ee5ea]{position:relative;z-index:-1}.uni-list--border-top[data-v-e07ee5ea]{position:absolute;top:0;right:0;left:0;height:1px;-webkit-transform:scaleY(.5);transform:scaleY(.5);background-color:#e5e5e5;z-index:1}.uni-list--border-bottom[data-v-e07ee5ea]{position:absolute;bottom:0;right:0;left:0;height:1px;-webkit-transform:scaleY(.5);transform:scaleY(.5);background-color:#e5e5e5}',""]),t.exports=e},1291:function(t,e,a){"use strict";a.r(e);var r=a("6b9d"),i=a.n(r);for(var n in r)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return r[t]}))}(n);e["default"]=i.a},"1dfd":function(t,e,a){var r=a("24fb");e=r(!1),e.push([t.i,".content[data-v-d83b913c]{\n\t\t/* height: 50px; */width:100%;max-width:500px;position:relative;display:block;margin-left:auto;margin-right:auto;box-sizing:border-box;font-size:18px;text-align:center;text-decoration:none;line-height:3;color:#fff\n\t\t/* background-color: #ad9388; */}.bottom-view[data-v-d83b913c]{\n\t\t/* background-color: #ad9388; */height:calc(env(safe-area-inset-bottom)/2)}\n\n\t/* \t.height-set {\n\n\t\theight: 100px;\n\t} */.button-bottom-view[data-v-d83b913c]{\n\t\t/* background-color: #ad9388; */display:flex;flex-direction:column;position:fixed;left:0;right:0;\nleft:var(--window-left);right:var(--window-right);\nbottom:0;z-index:998}",""]),t.exports=e},2606:function(t,e,a){"use strict";var r=a("d97d"),i=a.n(r);i.a},3621:function(t,e,a){"use strict";a.r(e);var r=a("6689"),i=a.n(r);for(var n in r)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return r[t]}))}(n);e["default"]=i.a},"3d37":function(t,e,a){"use strict";a.r(e);var r=a("444b"),i=a.n(r);for(var n in r)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return r[t]}))}(n);e["default"]=i.a},"444b":function(t,e,a){"use strict";a("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r={props:{text:{type:String,default:"保存"},color:{type:String,default:"#ad9388"}},data:function(){return{}},methods:{onClick:function(){this.$emit("click",{data:{}})}}};e.default=r},4793:function(t,e,a){"use strict";a.r(e);var r=a("5674"),i=a.n(r);for(var n in r)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return r[t]}))}(n);e["default"]=i.a},"527d":function(t,e,a){var r=a("24fb");e=r(!1),e.push([t.i,".image[data-v-a60696ce]{width:%?130?%;height:%?130?%;border-radius:%?8?%}.text[data-v-a60696ce]{text-align:center;font-size:%?26?%;margin-top:%?10?%;color:#333}.uni-grid-item[data-v-a60696ce]{height:auto!important}.grid-item-box[data-v-a60696ce]{flex:1;\ndisplay:flex;\nflex-direction:column;align-items:center;justify-content:center;padding:%?40?% 0 0 0;margin:%?8?%;border-radius:%?8?%}",""]),t.exports=e},5674:function(t,e,a){"use strict";a("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("a9e3"),a("d401"),a("d3b7"),a("25f0"),a("159b"),a("ac1f"),a("e25e");var r={name:"UniGrid",emits:["change"],props:{column:{type:Number,default:3},showBorder:{type:Boolean,default:!0},borderColor:{type:String,default:"#D2D2D2"},square:{type:Boolean,default:!0},highlight:{type:Boolean,default:!0}},provide:function(){return{grid:this}},data:function(){var t="Uni_".concat(Math.ceil(1e6*Math.random()).toString(36));return{elId:t,width:0}},created:function(){this.children=[]},mounted:function(){var t=this;this.$nextTick((function(){t.init()}))},methods:{init:function(){var t=this;setTimeout((function(){t._getSize((function(e){t.children.forEach((function(t,a){t.width=e}))}))}),50)},change:function(t){this.$emit("change",t)},_getSize:function(t){var e=this;uni.createSelectorQuery().in(this).select("#".concat(this.elId)).boundingClientRect().exec((function(a){e.width=parseInt((a[0].width-1)/e.column)+"px",t(e.width)}))}}};e.default=r},"5b7c":function(t,e,a){"use strict";a("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("a9e3"),a("14d9"),a("d3b7"),a("159b"),a("a434");var r={name:"UniGridItem",inject:["grid"],props:{index:{type:Number,default:0}},data:function(){return{column:0,showBorder:!0,square:!0,highlight:!0,left:0,top:0,openNum:2,width:0,borderColor:"#e5e5e5"}},created:function(){this.column=this.grid.column,this.showBorder=this.grid.showBorder,this.square=this.grid.square,this.highlight=this.grid.highlight,this.top=0===this.hor?this.grid.hor:this.hor,this.left=0===this.ver?this.grid.ver:this.ver,this.borderColor=this.grid.borderColor,this.grid.children.push(this),this.width=this.grid.width},beforeDestroy:function(){var t=this;this.grid.children.forEach((function(e,a){e===t&&t.grid.children.splice(a,1)}))},methods:{_onClick:function(){this.grid.change({detail:{index:this.index}})}}};e.default=r},6205:function(t,e,a){"use strict";var r=a("8087"),i=a.n(r);i.a},6689:function(t,e,a){"use strict";a("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r={name:"UniSection",emits:["click"],props:{icon:{type:String,default:"arrowright"},showIcon:{type:[Boolean,String],default:!1},rightText:{type:[String,Object],default:""},type:{type:String,default:""},title:{type:String,default:""},color:{type:String,default:"#f6f2ee"},subTitle:{type:String,default:""},padding:{type:Boolean,default:!1}},data:function(){return{}},watch:{title:function(t){uni.report&&""!==t&&uni.report("title",t)}},methods:{onClick:function(){this.$emit("click")}}};e.default=r},"673b":function(t,e,a){var r=a("24fb");e=r(!1),e.push([t.i,'@charset "UTF-8";\n/* 水平间距 */\n/* 水平间距 */.uni-grid-item[data-v-13f73da8]{height:100%;display:flex;cursor:pointer}.uni-grid-item__box[data-v-13f73da8]{display:flex;width:100%;position:relative;flex:1;flex-direction:column}.uni-grid-item--border[data-v-13f73da8]{position:relative;z-index:0;border-bottom:1px #d2d2d2 solid;border-right:1px #d2d2d2 solid}.uni-grid-item--border-top[data-v-13f73da8]{position:relative;border-top:1px #d2d2d2 solid;z-index:0}.uni-highlight[data-v-13f73da8]:active{background-color:#f1f1f1}',""]),t.exports=e},"6b9d":function(t,e,a){"use strict";a("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r={name:"uniList","mp-weixin":{options:{multipleSlots:!1}},props:{enableBackToTop:{type:[Boolean,String],default:!1},scrollY:{type:[Boolean,String],default:!1},border:{type:Boolean,default:!0}},created:function(){this.firstChildAppend=!1},methods:{loadMore:function(t){this.$emit("scrolltolower")}}};e.default=r},"748d":function(t,e,a){"use strict";a.d(e,"b",(function(){return r})),a.d(e,"c",(function(){return i})),a.d(e,"a",(function(){}));var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",[a("v-uni-view",{staticStyle:{height:"100px"}}),a("v-uni-view",{staticClass:"button-bottom-view",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.onClick.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"content",style:{backgroundColor:t.color}},[t._v(t._s(t.text))]),a("v-uni-view",{staticClass:"bottom-view",style:{backgroundColor:t.color}})],1)],1)},i=[]},8087:function(t,e,a){var r=a("d4be");r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);var i=a("4f06").default;i("82ba1d78",r,!0,{sourceMap:!1,shadowMode:!1})},"84b3":function(t,e,a){var r=a("1205");r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);var i=a("4f06").default;i("445af795",r,!0,{sourceMap:!1,shadowMode:!1})},"86a9":function(t,e,a){"use strict";a.d(e,"b",(function(){return r})),a.d(e,"c",(function(){return i})),a.d(e,"a",(function(){}));var r=function(){var t=this.$createElement,e=this._self._c||t;return e("v-uni-view",{staticClass:"uni-grid-wrap"},[e("v-uni-view",{ref:"uni-grid",staticClass:"uni-grid",class:{"uni-grid--border":this.showBorder},style:{"border-left-color":this.borderColor},attrs:{id:this.elId}},[this._t("default")],2)],1)},i=[]},"89d3":function(t,e,a){"use strict";a.r(e);var r=a("bd7d"),i=a("3621");for(var n in i)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(n);a("e36a");var o=a("f0c5"),s=Object(o["a"])(i["default"],r["b"],r["c"],!1,null,"42ced052",null,!1,r["a"],void 0);e["default"]=s.exports},a518:function(t,e,a){"use strict";var r=a("0a00"),i=a.n(r);i.a},aade:function(t,e,a){"use strict";(function(t){a("7a82");var r=a("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.getBestTag=function(e){var r,o=e.preset,s=Number(o.adapt.total),c=["hp","atk","def","em","cr","cd","er","cu","eb","eb"],l=[],u=(0,i.default)(o.output[0]);try{for(u.s();!(r=u.n()).done;){var d=r.value;l.push(c[d])}}catch(w){u.e(w)}finally{u.f()}for(var f=a("00d0"),v={},h=o.adapt.method,g=0;g<o.adapt.min.length;g++){var p=o.adapt.min[g];p&&p>0&&(v[c[g]]=[p,100])}var m=JSON.parse(JSON.stringify(o));m.aConfigs=null;var x=o.adapt.max?Number(o.adapt.max)+18:18;t.log(x);try{Date.now();var b=f.maximize((function(t){var a=t.cr+t.cd;if(a>x)return 0;var r=JSON.parse(JSON.stringify(m)),i=r.cPanel;r.aMinor[0]=(.05*t.hp+i["HP_PERCENT"][1])*i["HP"][0]+i["HP"][1],r.aMinor[1]=(.05*t.atk+i["ATTACK_PERCENT"][1])*i["ATTACK"][0]+i["ATTACK"][1],r.aMinor[2]=(.062*t.def+i["DEFENSE_PERCENT"][1])*i["DEFENSE"][0],r.aMinor[3]=20*t.em+100*i["ELEMENT_MASTERY"][1],r.aMinor[4]=3.3*t.cr+100*i["CRITICAL"][1],r.aMinor[5]=6.6*t.cd+100*i["CRITICAL_HURT"][1],r.aMinor[6]=5.5*t.er+100*i["CHARGE_EFFICIENCY"][1];var s={};return s=h[0]>0&&o.gResult?(0,n.buildGroupAttribute)(r):(0,n.buildAttribute)(r),e.calculator.get(s),Number(s.score)}),s,["eb"],l,v,["BruteTwice","NelderMeadBrute","Brute"][h[1]]),_=(Date.now(),b.statBest);e.preset.tagNum=[_.hp,_.atk,_.def,_.em,_.cr,_.cd,_.er],t.log(_)}catch(S){t.error(S)}};var i=r(a("b85c"));a("a9e3"),a("e9c4"),a("14d9");var n=a("149f")}).call(this,a("5a52")["default"])},add1:function(t,e,a){"use strict";a.r(e);var r=a("bb28"),i=a("1291");for(var n in i)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(n);a("c286");var o=a("f0c5"),s=Object(o["a"])(i["default"],r["b"],r["c"],!1,null,"e07ee5ea",null,!1,r["a"],void 0);e["default"]=s.exports},b209:function(t,e,a){"use strict";a("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,e.getColor=function(t){var e=t/25;e<0&&(e=0);e>4&&(e=4);return r[Math.floor(e)]};e.default=["rgb(125,127,131)","rgb(108,168,139)","rgb(86,155,175)","rgb(177,135,195)","rgb(211,159,81)"];var r=["rgb(125,127,131)","rgb(108,168,139)","rgb(86,155,175)","rgb(177,135,195)","rgb(211,159,81)"]},bb28:function(t,e,a){"use strict";a.d(e,"b",(function(){return r})),a.d(e,"c",(function(){return i})),a.d(e,"a",(function(){}));var r=function(){var t=this.$createElement,e=this._self._c||t;return e("v-uni-view",{staticClass:"uni-list uni-border-top-bottom"},[this.border?e("v-uni-view",{staticClass:"uni-list--border-top"}):this._e(),this._t("default"),this.border?e("v-uni-view",{staticClass:"uni-list--border-bottom"}):this._e()],2)},i=[]},bcee:function(t,e,a){"use strict";var r=a("e52b"),i=a.n(r);i.a},bd7d:function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){return r}));var r={uniIcons:a("fcef").default},i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"uni-section",style:{backgroundColor:t.color},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.onClick.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"uni-section-header",attrs:{nvue:!0}},[t.type?a("v-uni-view",{staticClass:"uni-section__head"},[a("v-uni-view",{staticClass:"uni-section__head-tag",class:t.type})],1):t._e(),a("v-uni-view",{staticClass:"uni-list-item__content"},[t.title?a("v-uni-text",{staticClass:"uni-list-item__content-title"},[t._v(t._s(t.title))]):t._e(),t.subTitle?a("v-uni-text",{staticClass:"uni-list-item__content-note"},[t._v(t._s(t.subTitle))]):t._e()],1),a("v-uni-view",{staticClass:"uni-section__content__extra"},[t._t("extra",[t.rightText?a("v-uni-text",{staticClass:"uni-list-item__extra-text"},[t._v(t._s(t.rightText))]):t._e()])],2),t.showIcon?a("uni-icons",{staticClass:"uni-icon-wrapper",attrs:{size:14,type:t.icon}}):t._e()],1),a("v-uni-view",{style:{padding:t.padding?"10px":""}},[t._t("default")],2)],1)},n=[]},c286:function(t,e,a){"use strict";var r=a("84b3"),i=a.n(r);i.a},d4be:function(t,e,a){var r=a("24fb");e=r(!1),e.push([t.i,'@charset "UTF-8";\n/* 水平间距 */\n/* 水平间距 */.uni-grid-wrap[data-v-6f48037d]{display:flex;flex:1;flex-direction:column;width:100%}.uni-grid[data-v-6f48037d]{display:flex;flex-direction:row;flex-wrap:wrap}.uni-grid--border[data-v-6f48037d]{position:relative;z-index:1;border-left:1px #d2d2d2 solid}',""]),t.exports=e},d69f:function(t,e,a){var r=a("24fb");e=r(!1),e.push([t.i,'@charset "UTF-8";\n/* 水平间距 */\n/* 水平间距 */.bg-y[data-v-42ced052]{background-color:#fff}.uni-list-item__content[data-v-42ced052]{display:flex;padding-right:8px;flex:1;color:#3b4144;flex-direction:column;justify-content:space-between;overflow:hidden}.uni-list-item__content-title[data-v-42ced052]{font-size:14px;color:#3b4144;overflow:hidden}.uni-list-item__content-note[data-v-42ced052]{margin-top:%?6?%;color:#999;font-size:12px;overflow:hidden}.uni-section-header[data-v-42ced052]{position:relative;display:flex;flex-direction:row;align-items:center;padding:12px 10px;font-weight:400}.uni-section__head[data-v-42ced052]{flex-direction:row;justify-content:center;align-items:center;margin-right:10px}.line[data-v-42ced052]{height:12px;background-color:#b1968b;border-radius:10px;width:4px}.circle[data-v-42ced052]{width:8px;height:8px;border-top-right-radius:50px;border-top-left-radius:50px;border-bottom-left-radius:50px;border-bottom-right-radius:50px;background-color:#b1968b}.uni-section__content[data-v-42ced052]{display:flex;flex-direction:column;flex:1;color:#333}.uni-section__content-title[data-v-42ced052]{font-size:14px;color:#333;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.distraction[data-v-42ced052]{flex-direction:row;align-items:center}.uni-section__content-sub[data-v-42ced052]{font-size:12px;color:#999;line-height:16px;margin-top:2px}.uni-section__content__extra[data-v-42ced052]{display:flex;flex-direction:row;justify-content:flex-end;align-items:center}.uni-icon-wrapper[data-v-42ced052]{display:flex;align-items:center;padding-left:10px;color:#999!important}.uni-list-item__extra-text[data-v-42ced052]{font-size:13px;color:#999}',""]),t.exports=e},d97d:function(t,e,a){var r=a("527d");r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);var i=a("4f06").default;i("98fb5748",r,!0,{sourceMap:!1,shadowMode:!1})},dcce:function(t,e,a){"use strict";a.r(e);var r=a("5b7c"),i=a.n(r);for(var n in r)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return r[t]}))}(n);e["default"]=i.a},e1c1:function(t,e,a){"use strict";a.d(e,"b",(function(){return r})),a.d(e,"c",(function(){return i})),a.d(e,"a",(function(){}));var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.width?a("v-uni-view",{staticClass:"uni-grid-item",style:"width:"+t.width+";"+(t.square?"height:"+t.width:"")},[a("v-uni-view",{staticClass:"uni-grid-item__box",class:{"uni-grid-item--border":t.showBorder,"uni-grid-item--border-top":t.showBorder&&t.index<t.column,"uni-highlight":t.highlight},style:{"border-right-color":t.borderColor,"border-bottom-color":t.borderColor,"border-top-color":t.borderColor},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t._onClick.apply(void 0,arguments)}}},[t._t("default")],2)],1):t._e()},i=[]},e265:function(t,e,a){"use strict";a.r(e);var r=a("748d"),i=a("3d37");for(var n in i)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(n);a("bcee");var o=a("f0c5"),s=Object(o["a"])(i["default"],r["b"],r["c"],!1,null,"d83b913c",null,!1,r["a"],void 0);e["default"]=s.exports},e36a:function(t,e,a){"use strict";var r=a("fa22"),i=a.n(r);i.a},e52b:function(t,e,a){var r=a("1dfd");r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);var i=a("4f06").default;i("1143f6dc",r,!0,{sourceMap:!1,shadowMode:!1})},e65c:function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){return r}));var r={uniSection:a("89d3").default,uniGrid:a("0d46").default,uniGridItem:a("09ec").default,uniList:a("add1").default,uniListItem:a("6e18").default,buttonBarBottom:a("e265").default},i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"warp"},[a("uni-section",{attrs:{title:"已选 ",type:"line"}}),a("uni-grid",{attrs:{column:4,highlight:!0,showBorder:!1}},t._l(t.selectIds,(function(e,r){return a("uni-grid-item",{key:r,staticClass:"uni-grid-item"},[a("v-uni-view",{staticClass:"grid-item-box",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.removeItem(e,r)}}},[a("v-uni-image",{staticClass:"image",attrs:{src:t.charactersData[e].avatar,mode:"aspectFill"}}),a("v-uni-text",{staticClass:"text"},[t._v(t._s(t.charactersData[e].chs))])],1)],1)})),1),a("uni-section",{attrs:{title:"筛选队友 ",type:"line"}}),a("uni-list",[a("v-uni-picker",{attrs:{range:t.tagTexts},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.onClickItem.apply(void 0,arguments)}}},[a("uni-list-item",{attrs:{showArrow:!0,title:"按增益类型筛选",note:"括号内为触发要求,如(6)要求6命",rightText:t.tagTexts[t.selectIndex]}})],1)],1),a("uni-grid",{attrs:{column:4,highlight:!0,showBorder:!1}},t._l(t.filterList,(function(e,r){return a("uni-grid-item",{directives:[{name:"show",rawName:"v-show",value:t.selectIds.indexOf(e.name)<0,expression:"selectIds.indexOf(item.name) < 0"}],key:r,staticClass:"uni-grid-item"},[a("v-uni-view",{staticClass:"grid-item-box",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.addItem(e.name)}}},[a("v-uni-image",{staticClass:"image",attrs:{src:e.avatar,mode:"aspectFill"}}),a("v-uni-text",{staticClass:"text"},[t._v(t._s(e.supTags[t.tagKey]))])],1)],1)})),1),a("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:t.selectIndex>0,expression:"selectIndex>0"}],staticStyle:{height:"20px"}}),a("uni-section",{attrs:{title:"所有队友 ",type:"line"}}),a("uni-grid",{attrs:{column:4,highlight:!0,showBorder:!1}},t._l(t.charactersBuffs,(function(e,r){return a("uni-grid-item",{directives:[{name:"show",rawName:"v-show",value:t.selectIds.indexOf(e.name)<0,expression:"selectIds.indexOf(item.name) < 0"}],key:r,staticClass:"uni-grid-item"},[a("v-uni-view",{staticClass:"grid-item-box",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.addItem(e.name)}}},[a("v-uni-image",{staticClass:"image",attrs:{src:e.avatar,mode:"aspectFill"}}),a("v-uni-text",{staticClass:"text"},[t._v(t._s(e.supTitle))])],1)],1)})),1),a("button-bar-bottom",{attrs:{text:"下一步"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.save()}}})],1)},n=[]},fa22:function(t,e,a){var r=a("d69f");r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);var i=a("4f06").default;i("2403413f",r,!0,{sourceMap:!1,shadowMode:!1})},fe25:function(t,e,a){"use strict";a.r(e);var r=a("10eb"),i=a.n(r);for(var n in r)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return r[t]}))}(n);e["default"]=i.a},fedd:function(t,e,a){"use strict";(function(t){a("7a82");var r=a("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.createPreset=function(t){var e=f.charactersData[t];return h(e)},e.getPreset=function(e){var a=f.charactersData[e],r=uni.getStorageSync(e);return r?(r.version&&v==r.version||(g(r),t.log("刷新！！"),uni.setStorageSync(r.cId,r)),r):h(a)},e.initPreset=h,e.startCalculate=g,e.version=void 0,a("e9c4"),a("c975"),a("14d9");var i=r(a("5530")),n=a("0b7e"),o=a("175e"),s=a("aade"),c=a("433a"),l=a("7a53"),u=a("e194"),d=a("0d89"),f=a("4432"),v="2022年8月24日 15:37:17";function h(t,e){var a,r=e||t.name;"kong"==r&&(r="traveller");var n=t.element,o=null!==(a=c.characterDamage[r])&&void 0!==a?a:c.characterDamage[t.name];"traveller"==r&&(n=o.element);var s={cId:t.name,element:n,id:Date.now(),name:"默认预设",cSkills:[8,8,8],cLevel:90,wLevel:90,cAscend:!1,wAscend:!1,effects:[],isAdapt:void 0,type:0,reactionText:""};4==t.star&&(s.cSkills=[8,11,11]);var l=d.weaponsData[o.preset.wId];s.wStage=5==l.star?0:4,s.cStage=5==t.star?0:6;var u=(0,i.default)((0,i.default)({},s),o.preset);return u.aTagToMinor=!0,u}function g(e){var a,r=f.charactersData[e.cId];e.school||(e.school={name:"默认",score:!0,reaction:0});var i=e.school.id;i&&(a=c.characterDamage[i]),a||(a=c.characterDamage[e.cId]);var h=d.weaponsData[e.wId];e.element=a.element?a.element:r.element,e.energy=r.energy,e.wType=h.type,e.wName=h.chs,e.version=v,e.school.stage&&e.cStage<e.school.stage&&(e.cStage=e.school.stage);var g=[];if(g=a.output?JSON.parse(JSON.stringify(a.output)):r.output?JSON.parse(JSON.stringify(r.output)):[[1,4,5]],void 0==e.school.reaction&&r.schools){var p=r.schools[0];p.reaction||(p.reaction=0),e.school=p}if(e.school.reaction>0&&g[0].indexOf(3)<0&&g[0].push(3),"5jueyuan"!=e.aIds[0]||e.aSets||g[0].indexOf(6)<0&&g[0].push(6),!e.school.tagNum){var m=g[0],x=[0,0,0,0,0,0,0],b=m.length;if(-1==m.indexOf(5)){for(var _=0;_<b;_++){var w=m[_];x[w]=0==_?9:1==_?4:3}x[m[0]]=9,x[m[1]]=4}else for(_=0;_<b;_++){var S=m[_];x[S]=4==S||5==S?9:0==_?4:3}e.school.tagNum=x,t.log("初始化默认词条："+x)}if(e.tagNum||1!=e.aTagToMinor||(e.tagNum=JSON.parse(JSON.stringify(e.school.tagNum)),e.isAdapt=!0,e.adapt={type:0,limit:1,method:[0,0,0],total:24,min:[],max:0},t.log("重置当前词条："+e.tagNum)),e.output=g,e.wIndexs||(h.forceOption&&h.forceOption[e.cId]?e.wIndexs=h.forceOption[e.cId]:e.wIndexs=h.indexs),!e.aIndexs&&!e.aSets){var y=u.artifactsData[e.aIds[0]];y.forceOption&&y.forceOption[e.cId]?e.aIndexs=y.forceOption[e.cId]:e.aIndexs=y.indexs}e.cPanel||(e.cPanel={HP:[0,0],HP_PERCENT:[0,0],ATTACK:[0,0],ATTACK_PERCENT:[0,0],DEFENSE:[0,0],DEFENSE_PERCENT:[0,0],FIRE_ADD_HURT:[0,0],ICE_ADD_HURT:[0,0],ROCK_ADD_HURT:[0,0],ELEC_ADD_HURT:[0,0],WIND_ADD_HURT:[0,0],WATER_ADD_HURT:[0,0],GRASS_ADD_HURT:[0,0],PHYSICAL_ADD_HURT:[0,0],HEAL_ADD:[0,0],ELEMENT_MASTERY:[0,0],CRITICAL:[0,0],CRITICAL_HURT:[0,0],CHARGE_EFFICIENCY:[0,0]}),e.uid||(0,o.getMajorData)(e);var T={character:r,preset:e,calculator:a,weapon:h};(0,o.getBaseData)(T),e.isAdapt&&0!=e.adapt.type&&((0,s.getBestTag)(T),t.log("自动计算最优")),(0,l.convertMinor)(e),(0,n.getBaseScore)(T),(0,n.getGroupScore)(T),(0,n.getDataScore)(T),(0,n.getTagScore)(T),(0,n.getWeightScore)(T),(0,n.getGWeightScore)(T)}e.version=v}).call(this,a("5a52")["default"])}}]);