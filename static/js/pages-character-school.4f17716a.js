(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-character-school"],{"00d0":function(e,t,a){"use strict";var r=a("4ea4");a("99af"),a("caad"),a("4e82"),a("2532"),Object.defineProperty(t,"__esModule",{value:!0}),t.maximize=u;var n=r(a("b85c")),o=r(a("5530"));function i(e,t,a){for(var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,n={},i=0,s=["cr","cd","atk","em","hp","def","er"],c={},l=0,u=0,d=s.length-1;d>=0;--d)c[s[d]]=[l,u],l+=a[s[d]][0],u+=a[s[d]][1];function f(t,l){var u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,d=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,v=s[u];if(u==s.length-1){if(l+d>41)return;t[v]=l;var p=e(t);p>i&&(i=p,n=(0,o.default)({},t))}else for(var h=Math.max(a[v][0],l-c[v][1]),g=Math.min(a[v][1],l-c[v][0],41-d),b=h;b<=g;b+=r)t[v]=b,f(t,l-b,u+1,Math.max(d,b))}return t=Math.floor(t),f({},t),{statBest:n,dmgBest:i}}function s(e,t,a){var r=i(e,t,a,2),n=r.statBest,o=(r.dmgBest,{});for(var s in a)o[s]=[a[s][0],a[s][1]],s in n&&(o[s][0]=Math.max(o[s][0],n[s]-3),o[s][1]=Math.min(o[s][1],n[s]+3));return i(e,t,o)}function c(e,t,a){var r=.1,n=2e3,o=1e-5,i=1e-5,s=1,c=2,l=-.5,u=.5;function d(t){var r=[];for(var n in t){if(n in a&&(t[n]<a[n][0]||t[n]>a[n][1]))return 0;t[n]>0&&r.push(t[n])}return r.sort((function(e,t){return t-e})),r.length>=2&&r[0]+r[1]>41?0:e(t)}var f=0,v=[],p=0,h=0,g=[];for(var b in a)if(p+=a[b][0],a[b][0]<a[b][1]){f++,v.push(b);var x=Math.random();h+=x*(a[b][1]-a[b][0]),g.push(x)}for(var m=[],_=0;_<v.length;++_){var S=v[_],w=(t-p)/(h+r*g[_]*(a[S][1]-a[S][0])),y={};for(var T in a)y[T]=a[T][0];for(var E=0;E<v.length;++E){var M=v[E],A=a[M][1]-a[M][0];y[M]+=w*g[E]*A,M==S&&(y[M]+=r*w*g[E]*A)}m.push({stat:y,dmg:d(y)})}function C(){m.sort((function(e,t){return t.dmg-e.dmg}))}function N(e,t,r,n){var o={stat:{},dmg:0};for(var i in a)o.stat[i]=e*t.stat[i]+r*n.stat[i];return o.dmg=d(o.stat),o}for(var R=0;R<n;++R){C();var D=0;for(var k in a)D=Math.max(D,Math.abs(m[0].stat[k]-m[1].stat[k]));if(Math.abs(m[0].dmg-m[f-1].dmg)<i&&D<o)break;var I={stat:{},dmg:0};for(var O in a){I.stat[O]=0;for(var P=0;P<f-1;++P)I.stat[O]+=m[P].stat[O];I.stat[O]/=f-1}var B=m[f-1],F=N(1+s,I,-s,B);if(F.dmg>m[0].dmg){var J=N(1+c,I,-c,B);J.dmg>F.dmg?m[f-1]=J:m[f-1]=F}else if(F.dmg<=m[f-1].dmg){var j=!1;if(F.dmg<B.dmg){var H=N(1+l,I,-l,B);H.dmg>B.dmg?m[f-1]=H:j=!0}else{var L=N(1-l*s,I,l*s,B);L.dmg>F.dmg?m[f-1]=L:j=!0}if(j){if(u>=1)break;for(var U=1;U<f;++U)m[U]=N(1-u,m[0],u,m[U])}}else m[f-1]=F}return C(),{statBest:m[0].stat,dmgBest:m[0].dmg}}function l(e,t,a){for(var r=5,n=c(e,t,a),o=n.statBest,s=n.dmgBest,l=1;l<r;++l){var u=c(e,t,a);u.dmgBest>s&&(o=u.statBest,s=u.dmgBest)}var d={};for(var f in a)d[f]=[a[f][0],a[f][1]],f in o&&(d[f][0]=Math.max(d[f][0],Math.ceil(o[f]-3)),d[f][1]=Math.min(d[f][1],Math.floor(o[f]+3)));return i(e,t,d)}function u(e,t,a,r,o){var u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"Brute",d={atk:[0,37],hp:[0,37],def:[0,37],em:[0,35],er:[0,35],cr:[0,35],cd:[0,35]};if(a){if(a.length>3)throw new Error("主词条列表长度不超过3，得到"+a.length);var f,v=(0,n.default)(a);try{for(v.s();!(f=v.n()).done;){var p=f.value;p in d&&(["atk","hp","def"].includes(p)?d[p][1]-=5:d[p][1]-=7)}}catch(A){v.e(A)}finally{v.f()}}if(o)for(var h in d)if(h in o&&(d[h][0]=Math.max(d[h][0],Math.ceil(o[h][0])),d[h][1]=Math.min(d[h][1],Math.floor(o[h][1])),d[h][0]>d[h][1]))throw new Error("".concat(h,"的实际取值范围无效：[").concat(d[h][0],", ").concat(d[h][1],"]"));if(r)for(var g in d)r.includes(g)||(d[g][1]=d[g][0]);var b=[],x=0,m=0;for(var _ in d)d[_][0]<d[_][1]&&b.push(_),x+=d[_][0],m+=d[_][1];if(t<x||t>m)throw new Error("没有可行解，因为".concat(t,"不在[").concat(x,", ").concat(m,"]内"));if(b.length<=1){var S={};for(var w in d)S[w]=Math.min(t-x+d[w][0],d[w][1]);return{statBest:S,dmgBest:e(S)}}if(t==x){var y={};for(var T in d)y[T]=d[T][0];return{statBest:y,dmgBest:e(y)}}if(t==m){var E={};for(var M in d)E[M]=d[M][1];return{statBest:E,dmgBest:e(E)}}switch(u){case"Brute":return i(e,t,d);case"BruteTwice":return s(e,t,d);case"NelderMead":return c(e,t,d);case"NelderMeadBrute":return l(e,t,d);default:throw new Error("未知的优化方法："+u)}}},"03ea":function(e,t,a){"use strict";var r=a("4ea4");a("c975"),Object.defineProperty(t,"__esModule",{value:!0}),t.getTag=d;var n=r(a("5530")),o=r(a("b85c")),i=a("175e"),s=["生","攻","防","精","暴","爆","充"],c=[["生命沙","攻击沙","防御沙","精通沙","充能沙"],["生命杯","攻击杯","防御杯","精通杯","元素杯","物理杯","火伤杯","冰伤杯","水伤杯","雷伤杯","草伤杯","岩伤杯","风伤杯"],["生命头","攻击头","防御头","精通头","暴击头","爆伤头","治疗头"]],l={fire:6,ice:7,water:8,thunder:9,grass:10,rock:11,wind:12},u={fire:"火伤",water:"水伤",thunder:"雷伤",ice:"冰伤",rock:"岩伤",wind:"风伤",grass:"草伤"};function d(e){var t=e.preset,a={},r=[],d=e.preset.tagNum,f=t.cPanel["HP"][0],v=t.cPanel["ATTACK"][0],p=t.cPanel["DEFENSE"][0],h=t.output,g=[],b=[],x=e.calculator.convert;if(e.convertTag=[],x){var m=JSON.parse(JSON.stringify(t));m.aMinor=[0,0,0,0,0,0,0,0],e.convertPresets=[m]}for(var _=0;_<h.length;_++){var S,w="",y=0,T=h[_],E=(0,o.default)(T);try{for(E.s();!(S=E.n()).done;){var M=S.value;if(0==_){var A=0,C="";switch(M){case 0:A=.05*f,C="词条 - 生命（ +5% / "+A.toFixed(0)+" ）";break;case 1:A=.05*v,C="词条 - 攻击（ +5% / "+A.toFixed(0)+" ）";break;case 2:A=.062*p,C="词条 - 防御（ +6.2% / "+A.toFixed(0)+" ）";break;case 3:A=20,C="词条 - 精通（ +20 ）";break;case 4:A=3.3,C="词条 - 暴击（ +3.3% ）";break;case 5:A=6.6,C="词条 - 爆伤（ +6.6% ）";break;case 6:A=5.5,C="词条 - 充能（ +5.5% ）";break;default:break}var N={title:C,note:"",text:0};g.push(N);var R=JSON.parse(JSON.stringify(t));if(R.aMinor[M]+=A,x){var D=x.indexOf(M);if(D>-1){var k=JSON.parse(JSON.stringify(e.convertPresets[0]));k.aMinor[M]+=A,e.convertPresets.push(k),e.convertTag.push(d[M])}}b.push(R)}w+=s[M],y+=d[M]}}catch(Te){E.e(Te)}finally{E.f()}var I={title:w,text:y.toFixed(1)};e.total=y,0==_?a=(0,n.default)({},I):r.push(I)}if(t.cLevel<90){var O=JSON.parse(JSON.stringify(t));O.cLevel=90;var P={character:e.character,preset:O,weapon:e.weapon};(0,i.getBaseData)(P),b.push(O),g.push({title:"人物 - 等级（ +"+(90-t.cLevel)+"级 ）",note:"",text:0})}if(t.wLevel<90){var B=JSON.parse(JSON.stringify(t));B.wLevel=90;var F={character:e.character,preset:B,weapon:e.weapon};(0,i.getBaseData)(F),b.push(B),g.push({title:"武器 - 等级（ +"+(90-t.wLevel)+"级 ）",note:"",text:0})}var J=e.calculator.skillKey?e.calculator.skillKey:e.character.skillKey;if(J){var j=[9,9];t.cStage>2&&(j=[12,12],t.cStage<5&&(e.character.isSkillFive?j[0]=9:j[1]=9));var H,L=[{key:"技能 - A（ +1级 ）",index:0,max:9},{key:"技能 - E（ +1级 ）",index:1,max:j[0]},{key:"技能 - Q（ +1级 ）",index:2,max:j[0]}],U=[],K=(0,o.default)(J);try{for(K.s();!(H=K.n()).done;){var G=H.value,$=t.cSkills[G],z=L[G];0==G&&$<z.max&&U.push(z),0!=G&&$<z.max&&U.push(z)}}catch(Te){K.e(Te)}finally{K.f()}for(var W=0,Y=U;W<Y.length;W++){var q=Y[W],Q=JSON.parse(JSON.stringify(t));Q.cSkills[q.index]+=1,b.push(Q),g.push({title:q.key,note:"",text:0})}}if(h[0].indexOf(5)>-1||e.calculator.convert){var V=JSON.parse(JSON.stringify(t));if(b.push(V),g.push({title:"其他 - 伤害加成（ +5% ）",note:"",isBonus:!0,text:0}),t.aMajor[1]<6||t.aMajor[1]==l[t.element]){var X=t.aMajor[1],Z=e.calculator.preset?e.calculator.preset.aMajor:e.character.preset.aMajor,ee=["HP","ATTACK","DEFENSE"];if(X<3){var te=JSON.parse(JSON.stringify(t)),ae="（ 元素杯 ）",re=4;5==Z[1]&&(ae="（ 物理杯 ）",re=5);var ne=.466;2==X&&(ne=.583),te.aMajor[1]=re,(0,i.getMajorData)(te),te.aMinor[X]-=ne*te.cPanel[ee[X]][0],b.push(te),g.push({title:"更换 - "+c[1][X]+ae,note:"",text:0})}else if(3!=X){var oe=JSON.parse(JSON.stringify(t)),ie="更换 - 元素杯";5==X&&(ie="更换 - 物理杯");var se=.466,ce="（ 攻击杯 ）";X=1,2==Z[0]?(se=.583,ce="（ 防御杯 ）",X=2):0==Z[0]&&(ce="（ 生命杯 ）",X=0),oe.aMajor[1]=X,(0,i.getMajorData)(oe),oe.aMinor[X]+=se*oe.cPanel[ee[X]][0],b.push(oe),g.push({title:ie+ce,note:"",text:0})}}}var le=[20,20,20,20,20],ue=[];if(t.aConfigs){for(_=0;_<t.aConfigs.length;_++){var de=t.aConfigs[_];le[_]=20-de[1]}le[0]<20&&ue.push(le[0]+"花"),le[1]<20&&ue.push(le[1]+"羽")}for(_=0;_<3;_++){var fe=t.aMajor[_];if(fe<99){var ve="";ve=1==_&&4==fe?u[t.element]+"杯":c[_][fe],le[_+2]<20&&(ve=le[_+2]+ve),ue.push(ve)}else ue.push("无")}var pe=ue.join(" / ");a.content=pe;var he=[],ge=[],be=[];e.presets=b;for(_=0;_<s.length;_++){var xe=d[_].toFixed(1),me=s[_]+xe,_e=h[0].indexOf(_);if(_e>-1){he.push(me);var Se=t.aMinor[_].toFixed(0)+s[_];be[_e]=Se}else ge.push(me)}var we={title:"主要词条",text:he.join(" / ")};r.push(we);var ye={title:"其他词条",text:ge.join(" / ")};r.push(ye),h[0].indexOf(5)>-1?a.note="双爆: "+(2*t.aMinor[4]+t.aMinor[5]).toFixed(1):a.note="",t.tPanel=be.join(" / "),t.tResult=a,t.tResults=r,e.weights=g}},"0b7e":function(e,t,a){"use strict";(function(e){var r=a("4ea4");a("99af"),a("c975"),a("fb6a"),a("4e82"),a("a9e3"),Object.defineProperty(t,"__esModule",{value:!0}),t.getBaseScore=f,t.getTagScore=v,t.getDataScore=p,t.getGroupScore=h,t.getWeightScore=g,t.getGWeightScore=b,t.getPanel=x;var n=r(a("b85c")),o=a("149f"),i=a("175e"),s=a("7a53"),c=a("03ea"),l=a("b209"),u=a("e194"),d=a("0d89");function f(t){var a=t.preset,r=t.calculator.preset?t.calculator.preset:t.character.preset,n=JSON.parse(JSON.stringify(r)),c=[8,8,8];4==t.character.star?(c=[8,11,11],n.cStage=6):n.cStage=0,n.cSkills=c,n.cLevel=90,n.wLevel=90,n.school=a.school,n.cId=a.cId,n.wType=a.wType,n.element=a.element,n.energy=a.energy,n.cPanel={HP:[0,4780],HP_PERCENT:[0,0],ATTACK:[0,311],ATTACK_PERCENT:[0,0],DEFENSE:[0,0],DEFENSE_PERCENT:[0,0],FIRE_ADD_HURT:[0,0],ICE_ADD_HURT:[0,0],ROCK_ADD_HURT:[0,0],ELEC_ADD_HURT:[0,0],WIND_ADD_HURT:[0,0],WATER_ADD_HURT:[0,0],PHYSICAL_ADD_HURT:[0,0],HEAL_ADD:[0,0],ELEMENT_MASTERY:[0,0],CRITICAL:[0,0],CRITICAL_HURT:[0,0],CHARGE_EFFICIENCY:[0,0]};var l=d.weaponsData[n.wId];if(n.wStage=5==l.star?0:4,n.wIndexs||(n.wIndexs=l.indexs),!n.aIndexs&&!n.aSets){var f=u.artifactsData[n.aIds[0]];f&&(n.aIndexs=f.indexs)}n.aTagToMinor=!1;var v={character:t.character,preset:n,weapon:l};(0,i.getMajorData)(n),(0,i.getBaseData)(v),(0,s.convertMinor)(n),t.tagNum=n.tagNum;var p=(0,o.buildAttribute)(n);p.onlyScore=!0,t.calculator.get(p),t.baseScore=p.score,e.log("-------------"+t.character.chs+"-------------"),e.log("(1) C期望（默认圣遗物+默认配置）："+t.baseScore),e.log("- 计算过程："+p.formula)}function v(t){(0,c.getTag)(t);var a=t.character,r=t.preset,n=t.calculator,u=n.preset?n.preset:a.preset,d=JSON.parse(JSON.stringify(r));d.aMajor=u.aMajor,d.tagNum=t.tagNum,d.aConfigs=null,(0,i.getMajorData)(d);r.output[0].indexOf(1);d.aTagToMinor=!0;(0,s.convertMinor)(d);var f=t.dataScore,v=null;if("xiangling"==d.cId&&(v=[1,550]),v){var p=v[0];d.aMinor[p]+=v[1];var h=JSON.parse(JSON.stringify(r));h.aMinor[p]+=v[1];var g=(0,o.buildAttribute)(h);g.onlyScore=!0,t.calculator.get(g),f=g.score}var b=(0,o.buildAttribute)(d);b.onlyScore=!0,r.output[0].indexOf(5)>-1?b.isBalance=!0:b.isBalance=!1,t.calculator.get(b);var x=b.score,m=(f/x*100).toFixed(0);e.log("(3) B期望（默认圣遗物+当前配置）："+x),e.log("- 计算过程："+b.formula);var _=(0,l.getColor)(m);r.tResult.score=m,r.tResult.color=_,t.tagScore=x,r.score=t.supportScore?t.supportScore:r.tResult.score+" / "+r.dResult.score}function p(t){var a=t.preset,r=(0,o.buildAttribute)(a);t.attribute=r,t.calculator.get(r),a.dResult=r.result,a.dResults=r.results,r.reacResult&&a.dResults.push(r.reacResult);var i=t.baseScore,s=a.dResult.text,c=(s/i*100).toFixed(0),d=(0,l.getColor)(c);a.dResult.score=c,a.dResult.color=d,t.dataScore=s,a.recharge=r.recharge;var f=t.baseData;r.dBuffs=f.concat(r.dBuffs);var v=x(t);a.dPanel=v,a.dBuffs=r.dBuffs,a.effects=r.effects,e.log("(2) A期望（当前圣遗物+当前配置）："+s),e.log("- 计算过程："+r.formula);var p="",h=t.weapon.options;if(h){var g=a.wIndexs;if(g&&g[0]>0){p+="[";for(var b=0;b<g.length;b++){var m=g[b];p+=h[b][m]}p+="]"}}var _,S="",w=" ",y=(0,n.default)(a.cSkills);try{for(y.s();!(_=y.n()).done;){var T=_.value;w+=T+1}}catch(L){y.e(L)}finally{y.f()}var E="",M=u.artifactsData[a.aIds[0]];if(a.aSets){var A=u.artifactsData[a.aIds[1]];E=M.short[0]+A.short[0]+"二"}else{E=M.short+"四";var C=M.options;if(C){var N=a.aIndexs;if(N&&N[0]>0){S+="[";for(b=0;b<N.length;b++){var R=N[b];S+=C[b][R]}S+="]"}}}var D=t.weapon.chs.slice(0,2),k="";a.wLevel&&a.wLevel<90&&(k=a.wLevel,a.wAscend&&(k+="+"));var I=a.cLevel;a.cAscend?I+="+":I+="级";var O=I+" / "+a.cStage+"命 / 技能"+w,P=k+D+(a.wStage+1)+" / "+E;a.cNote=O,a.eNote=P,a.wNote=p,a.aNote=S,a.note=P+S+" / "+I+a.cStage+" /"+w,a.reactionText=r.reactionText?r.reactionText+" ":"",a.cData={em:r.em},t.preset.school.score||(t.supportScore=r.supportScore);var B=0;if(a.output[0].indexOf(5)>-1){var F=100*r.critical,J=100*r.criticalDamage;if(F<100)if(F*J<2e4){var j=Math.sqrt(8*F*J);B=(2*F+J-j)/6.6}else B=(2*F+J-200-F*J/100)/6.6;else if(J>200)B=(F-100)/3.3;else{var H=Math.sqrt(800*J);B=(2*F+J-H)/6.6}a.tLost=B.toFixed(1)}else a.tLost=null}function h(t){var a=t.preset;if(a.gIds&&a.gIds[1]){var r=(0,o.buildGroupAttribute)(a);t.attribute=r,t.calculator.get(r),a.gResult=r.result,a.gResults=r.results,r.reacResult&&a.gResults.push(r.reacResult);var n=x(t);a.gPanel=n,a.gBuffs=r.gBuffs;var i=a.gResult.text,s=t.baseScore,c=(i/s*100).toFixed(0);a.gResult.score=c,a.gResult.color=(0,l.getColor)(c),a.groupScore=i,e.log("(4) D期望（+队伍增益）："+i),e.log("- 计算过程："+r.formula)}else a.gResult=null,a.gResults=null,a.gWeights=null,a.groupScore=null}function g(e){for(var t=e.preset,a=JSON.parse(JSON.stringify(e.weights)),r=[],n=0;n<a.length;n++){var i=a[n],s=e.presets[n],c=(0,o.buildAttribute)(s);c.onlyScore=!0,i.isBonus&&(c.bonus+=.05),e.calculator.get(c);var l=100*(c.score/e.dataScore-1);l>.05&&(i.text=l.toFixed(2),r.push(i))}if(e.calculator.convert){var u=Number(e.preset.tResult.text),d=(0,o.buildAttribute)(e.convertPresets[0]);d.onlyScore=!0,e.calculator.get(d);var f=d.score,v=(0,o.buildAttribute)(e.convertPresets[1]);v.onlyScore=!0,e.calculator.get(v);var p=v.score,h=(0,o.buildAttribute)(e.convertPresets[2]);h.onlyScore=!0,e.calculator.get(h);var g=h.score,b=100*(p/f-1),x=100*(g/f-1),m=[b,x],_=0,S=1;b>x&&(_=1,S=0);var w=e.convertTag[_]*(m[_]/m[S]-1),y=u+w;"shanhugongxinhai"!=e.preset.cId?e.preset.tResult.note+=" | ":e.preset.tResult.note="",e.preset.tResult.note+="词条："+e.preset.tResult.text,e.preset.tResult.text=y.toFixed(1),e.preset.tResult.rightText="折算 "+y.toFixed(1)}else e.preset.tResult.rightText="词条 "+e.preset.tResult.text;r.sort((function(e,t){return t.text-e.text})),t.weights=r}function b(e){for(var t=e.preset,a=JSON.parse(JSON.stringify(e.weights)),r=[],n=0;n<a.length;n++){var i=a[n],s=e.presets[n],c=(0,o.buildGroupAttribute)(s);c.onlyScore=!0,i.isBonus&&(c.bonus+=.05),e.calculator.get(c);var l=100*(c.score/e.preset.groupScore-1);l>.05&&(i.text=l.toFixed(2),r.push(i))}r.sort((function(e,t){return t.text-e.text})),t.gWeights=r}function x(e){var t,a=e.attribute,r=e.preset.output,o=[],i=(0,n.default)(r[0]);try{for(i.s();!(t=i.n()).done;){var s=t.value;if(6==s)break;var c=0,l="";switch(s){case 0:c=a.life().toFixed(0),l="生";break;case 1:c=a.atk().toFixed(0),l="攻";break;case 2:c=a.defend().toFixed(0),l="防";break;case 3:c=(100*a.em).toFixed(0),l="精";break;case 4:c=(100*a.critical).toFixed(0),l="暴";break;case 5:c=(100*a.criticalDamage).toFixed(0),l="爆";break;default:break}o.push(c+l)}}catch(f){i.e(f)}finally{i.f()}a.recharge>1&&o.push((100*a.recharge).toFixed(0)+"充");var u=o.join(" / "),d=u;return d}}).call(this,a("5a52")["default"])},1517:function(e,t,a){var r=a("24fb");t=r(!1),t.push([e.i,".content[data-v-024abdbb]{\n\t/* height: 50px; */width:100%;max-width:500px;position:relative;display:block;margin-left:auto;margin-right:auto;box-sizing:border-box;font-size:18px;text-align:center;text-decoration:none;line-height:3;color:#fff\n\t/* background-color: #ad9388; */}.bottom-view[data-v-024abdbb]{\n\t/* background-color: #ad9388; */height:calc(env(safe-area-inset-bottom)/2)}.height-set[data-v-024abdbb]{\n\t/* background-color: #000000; */height:100px}.button-bottom-view[data-v-024abdbb]{\n\t/* background-color: #ad9388; */display:flex;flex-direction:column;position:fixed;left:0;right:0;\nleft:var(--window-left);right:var(--window-right);\nbottom:0;z-index:998}",""]),e.exports=t},"2c73":function(e,t,a){var r=a("f253");r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var n=a("4f06").default;n("01a61e02",r,!0,{sourceMap:!1,shadowMode:!1})},3621:function(e,t,a){"use strict";a.r(t);var r=a("6689"),n=a.n(r);for(var o in r)"default"!==o&&function(e){a.d(t,e,(function(){return r[e]}))}(o);t["default"]=n.a},"3d37":function(e,t,a){"use strict";a.r(t);var r=a("444b"),n=a.n(r);for(var o in r)"default"!==o&&function(e){a.d(t,e,(function(){return r[e]}))}(o);t["default"]=n.a},"444b":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={props:{text:{type:String,default:"保存"},color:{type:String,default:"#ad9388"}},data:function(){return{}},methods:{onClick:function(){this.$emit("click",{data:{}})}}};t.default=r},5561:function(e,t,a){"use strict";var r=a("2c73"),n=a.n(r);n.a},"643c":function(e,t,a){var r=a("1517");r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var n=a("4f06").default;n("908626de",r,!0,{sourceMap:!1,shadowMode:!1})},6689:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={name:"UniSection",emits:["click"],props:{showArrow:{type:[Boolean,String],default:!1},rightText:{type:[String,Object],default:""},type:{type:String,default:""},title:{type:String,default:""},color:{type:String,default:"#f6f2ee"},subTitle:{type:String,default:""},padding:{type:Boolean,default:!1}},data:function(){return{}},watch:{title:function(e){uni.report&&""!==e&&uni.report("title",e)}},methods:{onClick:function(){this.$emit("click")}}};t.default=r},"7aec":function(e,t,a){"use strict";var r=a("f86f"),n=a.n(r);n.a},"7ce9":function(e,t,a){"use strict";a.r(t);var r=a("d818"),n=a.n(r);for(var o in r)"default"!==o&&function(e){a.d(t,e,(function(){return r[e]}))}(o);t["default"]=n.a},"89d3":function(e,t,a){"use strict";a.r(t);var r=a("971c"),n=a("3621");for(var o in n)"default"!==o&&function(e){a.d(t,e,(function(){return n[e]}))}(o);a("7aec");var i,s=a("f0c5"),c=Object(s["a"])(n["default"],r["b"],r["c"],!1,null,"c5b075ba",null,!1,r["a"],i);t["default"]=c.exports},"903e":function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"c",(function(){return o})),a.d(t,"a",(function(){return r}));var r={uniSection:a("89d3").default,uniListItem:a("6e18").default,buttonBarBottom:a("e265").default},n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-uni-view",[a("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:e.index<99,expression:"index<99"}]},[a("uni-section",{attrs:{title:"展示柜说明",type:"line"}}),a("v-uni-view",{staticClass:"note-text"},[a("v-uni-view",[e._v("1、展示柜的属性为只读，只能修改流派和增幅，其他属性无法修改，如果需要调整，可以在详情页下方点击【复制配置到本地】，再从首页进入角色修改")]),a("v-uni-view",[e._v("2、如果发现数据读取有误，先尝试刷新一下展示柜，还是无法解决大概率是BUG，可以把错误情况进行反馈")])],1)],1),a("uni-section",{attrs:{title:"流派",type:"line"}},[a("v-uni-radio-group",[a("v-uni-view",{staticClass:"uni-list"},e._l(e.schoolArr,(function(t,r){return a("uni-list-item",{key:t.name,attrs:{title:t.name,clickable:!0},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.selectSchoolIndex(r)}},scopedSlots:e._u([{key:"footer",fn:function(){return[a("v-uni-radio",{attrs:{color:"#ad9388",checked:r==e.schoolIndex}})]},proxy:!0}],null,!0)})})),1)],1)],1),a("button-bar-bottom",{attrs:{text:"保存"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.save()}}})],1)},o=[]},"971c":function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"c",(function(){return o})),a.d(t,"a",(function(){return r}));var r={uniIcons:a("fcef").default},n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-uni-view",{staticClass:"uni-section",style:{backgroundColor:e.color},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.onClick.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"uni-section-header",attrs:{nvue:!0}},[e.type?a("v-uni-view",{staticClass:"uni-section__head"},[a("v-uni-view",{staticClass:"uni-section__head-tag",class:e.type})],1):e._e(),a("v-uni-view",{staticClass:"uni-list-item__content"},[e.title?a("v-uni-text",{staticClass:"uni-list-item__content-title"},[e._v(e._s(e.title))]):e._e(),e.subTitle?a("v-uni-text",{staticClass:"uni-list-item__content-note"},[e._v(e._s(e.subTitle))]):e._e()],1),a("v-uni-view",{staticClass:"uni-section__content__extra"},[e._t("extra",[e.rightText?a("v-uni-text",{staticClass:"uni-list-item__extra-text"},[e._v(e._s(e.rightText))]):e._e()])],2),e.showArrow?a("uni-icons",{staticClass:"uni-icon-wrapper",attrs:{size:14,type:"arrowright"}}):e._e()],1),a("v-uni-view",{style:{padding:e.padding?"10px":""}},[e._t("default")],2)],1)},o=[]},aade:function(e,t,a){"use strict";(function(e){var r=a("4ea4");a("a9e3"),Object.defineProperty(t,"__esModule",{value:!0}),t.getBestTag=i;var n=r(a("b85c")),o=a("149f");function i(t){var r,i=t.preset,s=Number(i.adapt.total),c=["hp","atk","def","em","cr","cd","er","cu","eb","eb"],l=["eb"],u=[],d=(0,n.default)(i.output[0]);try{for(d.s();!(r=d.n()).done;){var f=r.value;u.push(c[f])}}catch(T){d.e(T)}finally{d.f()}var v=a("00d0"),p={},h=["BruteTwice","NelderMeadBrute","Brute"],g=i.adapt.method;e.log(i.cPanel);for(var b=0;b<i.adapt.min.length;b++){var x=i.adapt.min[b];x&&x>0&&(p[c[b]]=[x,100])}var m=JSON.parse(JSON.stringify(i));m.aConfigs=null;var _=i.adapt.max?i.adapt.max+24:24;e.log(_);var S=function(e){var a=e.cr+e.cd;if(a>=_)return 0;var r=JSON.parse(JSON.stringify(m)),n=r.cPanel;r.aMinor[0]=(.05*e.hp+n["HP_PERCENT"][1])*n["HP"][0]+n["HP"][1],r.aMinor[1]=(.05*e.atk+n["ATTACK_PERCENT"][1])*n["ATTACK"][0]+n["ATTACK"][1],r.aMinor[2]=(.062*e.def+n["DEFENSE_PERCENT"][1])*n["DEFENSE"][0],r.aMinor[3]=20*e.em+100*n["ELEMENT_MASTERY"][1],r.aMinor[4]=3.3*e.cr+100*n["CRITICAL"][1],r.aMinor[5]=6.6*e.cd+100*n["CRITICAL_HURT"][1],r.aMinor[6]=5.5*e.er+100*n["CHARGE_EFFICIENCY"][1];var s={};return s=g[0]>0&&i.gResult?(0,o.buildGroupAttribute)(r):(0,o.buildAttribute)(r),t.calculator.get(s),Number(s.score)};try{Date.now();var w=v.maximize(S,s,l,u,p,h[g[1]]),y=(Date.now(),w.statBest);t.preset.tagNum=[y.hp,y.atk,y.def,y.em,y.cr,y.cd,y.er],e.log(y)}catch(E){e.error(E)}}}).call(this,a("5a52")["default"])},ab12:function(e,t,a){"use strict";var r=a("643c"),n=a.n(r);n.a},b209:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getColor=o,t.default=void 0;var r=["rgb(125,127,131)","rgb(108,168,139)","rgb(86,155,175)","rgb(177,135,195)","rgb(211,159,81)"];t.default=r;var n=["rgb(125,127,131)","rgb(108,168,139)","rgb(86,155,175)","rgb(177,135,195)","rgb(211,159,81)"];function o(e){var t=e/25;return t<0&&(t=0),t>4&&(t=4),n[Math.floor(t)]}},d818:function(e,t,a){"use strict";(function(e){var r=a("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(a("5530")),o=a("fedd"),i=a("26cb"),s={data:function(){return{schoolArr:[{score:!0,name:"默认"}],schoolIndex:0,temp:{},reations:[],current:0,index:0,reactionTexts:["无反应","蒸发","融化","超激化","蔓激化"],reactionArr:{fire:[0,1,2],ice:[0,2],water:[0,1],thunder:[0,3],grass:[0,4]}}},computed:(0,n.default)((0,n.default)({},(0,i.mapState)(["preset","version"])),(0,i.mapGetters)(["character"])),onLoad:function(e){this.index=e.index,this.temp=JSON.parse(JSON.stringify(this.preset)),this.character.schools&&(this.schoolArr=this.character.schools,this.temp.school?this.schoolIndex=this.temp.school.index?this.temp.school.index:0:this.temp.school=(0,n.default)({},this.schoolArr[0]))},methods:{selectIndex:function(t){this.current=t,this.$forceUpdate(),e.log(t)},selectSchoolIndex:function(e){this.schoolIndex=e},save:function(){if(this.temp.school=(0,n.default)({},this.schoolArr[this.schoolIndex]),this.temp.school.index=this.schoolIndex,this.index>99){var e={school:this.temp.school,element:this.temp.school.element};uni.$emit("schoolChanged",e)}else{var t=this.temp.school.element;t&&(this.temp.element=t),(0,o.startCalculate)(this.temp),this.$store.commit("changeProfile",{temp:this.temp,index:this.index}),this.$store.commit("setPreset",this.temp)}uni.navigateBack({delta:1})}}};t.default=s}).call(this,a("5a52")["default"])},e265:function(e,t,a){"use strict";a.r(t);var r=a("fa88"),n=a("3d37");for(var o in n)"default"!==o&&function(e){a.d(t,e,(function(){return n[e]}))}(o);a("ab12");var i,s=a("f0c5"),c=Object(s["a"])(n["default"],r["b"],r["c"],!1,null,"024abdbb",null,!1,r["a"],i);t["default"]=c.exports},f15d:function(e,t,a){var r=a("24fb");t=r(!1),t.push([e.i,'@charset "UTF-8";\n/* 水平间距 */\n/* 水平间距 */.bg-y[data-v-c5b075ba]{background-color:#fff}.uni-list-item__content[data-v-c5b075ba]{display:flex;padding-right:8px;flex:1;color:#3b4144;flex-direction:column;justify-content:space-between;overflow:hidden}.uni-list-item__content-title[data-v-c5b075ba]{font-size:14px;color:#3b4144;overflow:hidden}.uni-list-item__content-note[data-v-c5b075ba]{margin-top:%?6?%;color:#999;font-size:12px;overflow:hidden}.uni-section-header[data-v-c5b075ba]{position:relative;display:flex;flex-direction:row;align-items:center;padding:12px 10px;font-weight:400}.uni-section__head[data-v-c5b075ba]{flex-direction:row;justify-content:center;align-items:center;margin-right:10px}.line[data-v-c5b075ba]{height:12px;background-color:#b1968b;border-radius:10px;width:4px}.circle[data-v-c5b075ba]{width:8px;height:8px;border-top-right-radius:50px;border-top-left-radius:50px;border-bottom-left-radius:50px;border-bottom-right-radius:50px;background-color:#b1968b}.uni-section__content[data-v-c5b075ba]{display:flex;flex-direction:column;flex:1;color:#333}.uni-section__content-title[data-v-c5b075ba]{font-size:14px;color:#333;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.distraction[data-v-c5b075ba]{flex-direction:row;align-items:center}.uni-section__content-sub[data-v-c5b075ba]{font-size:12px;color:#999;line-height:16px;margin-top:2px}.uni-section__content__extra[data-v-c5b075ba]{display:flex;flex-direction:row;justify-content:flex-end;align-items:center}.uni-icon-wrapper[data-v-c5b075ba]{display:flex;align-items:center;padding-left:10px;color:#999!important}.uni-list-item__extra-text[data-v-c5b075ba]{font-size:13px;color:#999}',""]),e.exports=t},f253:function(e,t,a){var r=a("24fb");t=r(!1),t.push([e.i,".note-text[data-v-4c22d9a1]{padding:15px;font-size:14px;color:#666;line-height:22px}",""]),e.exports=t},f4f7:function(e,t,a){"use strict";a.r(t);var r=a("903e"),n=a("7ce9");for(var o in n)"default"!==o&&function(e){a.d(t,e,(function(){return n[e]}))}(o);a("5561");var i,s=a("f0c5"),c=Object(s["a"])(n["default"],r["b"],r["c"],!1,null,"4c22d9a1",null,!1,r["a"],i);t["default"]=c.exports},f86f:function(e,t,a){var r=a("f15d");r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var n=a("4f06").default;n("6eb03f5a",r,!0,{sourceMap:!1,shadowMode:!1})},fa88:function(e,t,a){"use strict";var r;a.d(t,"b",(function(){return n})),a.d(t,"c",(function(){return o})),a.d(t,"a",(function(){return r}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-uni-view",[a("v-uni-view",{staticClass:"button-bottom-view",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.onClick.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"content",style:{backgroundColor:e.color}},[e._v(e._s(e.text))]),a("v-uni-view",{staticClass:"bottom-view",style:{backgroundColor:e.color}})],1)],1)},o=[]},fedd:function(e,t,a){"use strict";(function(e){var r=a("4ea4");a("c975"),Object.defineProperty(t,"__esModule",{value:!0}),t.initPreset=h,t.createPreset=g,t.getPreset=b,t.startCalculate=x,t.version=void 0;var n=r(a("5530")),o=a("0b7e"),i=a("a80c"),s=a("175e"),c=a("aade"),l=a("433a"),u=a("7a53"),d=a("e194"),f=a("0d89"),v=a("4432"),p="2022年8月24日 15:37:17";function h(e,t){var a,r=t||e.name;"kong"==r&&(r="traveller");var o=e.element,i=null!==(a=l.characterDamage[r])&&void 0!==a?a:l.characterDamage[e.name];"traveller"==r&&(o=i.element);var s={cId:e.name,element:o,id:Date.now(),name:"默认预设",cSkills:[8,8,8],cLevel:90,wLevel:90,cAscend:!1,wAscend:!1,effects:[],isAdapt:void 0,type:0,reactionText:""};4==e.star&&(s.cSkills=[8,11,11]);var c=f.weaponsData[i.preset.wId];s.wStage=5==c.star?0:4,s.cStage=5==e.star?0:6;var u=(0,n.default)((0,n.default)({},s),i.preset);return u}function g(e){var t=v.charactersData[e];return h(t)}function b(t){var a=v.charactersData[t],r=uni.getStorageSync(t);return r?(r.version&&p==r.version||(x(r,p),e.log("刷新！！"),uni.setStorageSync(r.cId,r)),r):h(a)}function x(t){var a,r=v.charactersData[t.cId];t.school||(t.school={name:"默认",score:!0,reaction:0});var n=t.school.id;n&&(a=l.characterDamage[n]),a||(a=l.characterDamage[t.cId]);var h=f.weaponsData[t.wId];t.element=a.element?a.element:r.element,t.energy=r.energy,t.wType=h.type,t.wName=h.chs,t.version=p;var g=[];if(g=a.output?JSON.parse(JSON.stringify(a.output)):r.output?JSON.parse(JSON.stringify(r.output)):[[1,4,5]],void 0==t.school.reaction&&r.schools){var b=r.schools[0];b.reaction||(b.reaction=0),t.school=b}if(t.school.reaction>0&&g[0].indexOf(3)<0&&g[0].push(3),"5jueyuan"!=t.aIds[0]||t.aSets||g[0].indexOf(6)<0&&g[0].push(6),t.output=g,t.wIndexs||(h.forceOption&&h.forceOption[t.cId]?t.wIndexs=h.forceOption[t.cId]:t.wIndexs=h.indexs),!t.aIndexs&&!t.aSets){var x=d.artifactsData[t.aIds[0]];x.forceOption&&x.forceOption[t.cId]?t.aIndexs=x.forceOption[t.cId]:t.aIndexs=x.indexs}t.cPanel||(t.cPanel={HP:[0,0],HP_PERCENT:[0,0],ATTACK:[0,0],ATTACK_PERCENT:[0,0],DEFENSE:[0,0],DEFENSE_PERCENT:[0,0],FIRE_ADD_HURT:[0,0],ICE_ADD_HURT:[0,0],ROCK_ADD_HURT:[0,0],ELEC_ADD_HURT:[0,0],WIND_ADD_HURT:[0,0],WATER_ADD_HURT:[0,0],GRASS_ADD_HURT:[0,0],PHYSICAL_ADD_HURT:[0,0],HEAL_ADD:[0,0],ELEMENT_MASTERY:[0,0],CRITICAL:[0,0],CRITICAL_HURT:[0,0],CHARGE_EFFICIENCY:[0,0]}),t.uid||(0,s.getMajorData)(t);var m={character:r,preset:t,calculator:a,weapon:h};(0,s.getBaseData)(m),t.isAdapt&&0!=t.adapt.type&&((0,c.getBestTag)(m),e.log("自动计算最优")),(0,u.convertMinor)(t),(0,i.getLimitMinor)(m),(0,o.getBaseScore)(m),(0,o.getGroupScore)(m),(0,o.getDataScore)(m),(0,o.getTagScore)(m),(0,o.getWeightScore)(m),(0,o.getGWeightScore)(m)}t.version=p}).call(this,a("5a52")["default"])}}]);